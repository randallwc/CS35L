commit 7c13bbbeca620e573827636311c5e76e3e3e8da6
Author: Jim Meyering <meyering@fb.com>
Date:   Sun Mar 15 06:57:38 2020 -0700

    build: update gnulib to latest

commit 9c1447f661922abba208066a07909c5918db0d36
Author: Jim Meyering <meyering@fb.com>
Date:   Sat Mar 14 21:54:50 2020 -0700

    doc: adjust formatting to make apropos (man -k) work better
    
    * man/Makefile.am $(dist_man1_MANS): Adjust sed substitution
    to also remove the space after "GNU". This avoids the single
    leading space on each man page title line.  I'm guessing that
    interfered with indexing/searching, causing "man -k diff3" to
    print this: diff3 (1) - (unknown subject).
    Reported by Dan Jacobon in http://bugs.gnu.org/39769.

commit 2280c5b4a5cff3194ca4980dc9d254458881773e
Author: Jim Meyering <meyering@fb.com>
Date:   Sun Jan 19 08:48:21 2020 -0800

    doc: correct an ancient "At present"
    
    * doc/diffutils.texi (Unified Format): Correct the now
    seriously outdated "At present" (referring to early 1990s)
    statement to be more of a historical note.
    Reported by Roland Illig in http://bugs.gnu.org/39184.

commit 91eebc4b86d5815c8f76b7315ee065392e109600
Author: Jim Meyering <meyering@fb.com>
Date:   Sun Jan 5 11:23:17 2020 -0800

    doc: use program name, not "GNU", in the nroff/man header
    
    * man/Makefile.am (dist_man1_MANS): Elide "GNU " prefix
    from the generated prog+one-line-summary, so that help2man
    uses the program name rather than "GNU" as the nroff "name".
    Reported by Dan Jacobson in http://bugs.gnu.org/38574.

commit 351f87d0c4b97eb48bcc28585a926045b437ab4e
Author: Jim Meyering <meyering@fb.com>
Date:   Wed Jan 1 09:33:03 2020 -0800

    maint: update all copyright year number ranges
    
    Run "make update-copyright" and then...
    * gnulib: Update to latest with copyright year adjusted.
    * tests/init.sh: Sync with gnulib to pick up copyright year.
    * bootstrap: Likewise.

commit db5ff0eb0a8ebfa040b07b80b3aebb8d335ea3f9
Author: Jim Meyering <meyering@fb.com>
Date:   Sun Dec 29 12:08:08 2019 -0800

    maint: avoid gnulib-tool deprecation warnings, and build failure
    
    * bootstrap.conf (gnulib_modules): Use getopt-gnu, rather than
    obsolete "getopt" module. Use nstrftime in place of strftime.
    (avoided_gnulib_modules): Do not avoid the "lock" module. That
    would lead to a build failure due to "glthread/lock.h not found".

commit a7808608fc35377a96b026f89242a5bf91dcb0de
Author: Jim Meyering <meyering@fb.com>
Date:   Sun Dec 29 08:58:09 2019 -0800

    maint: avoid syntax-check failure
    
    * po/POTFILES.in: Add argmatch.h; remove xstrtol-error.c

commit f76d6a01dc9c269acb267447f15c135d25f5e5e1
Author: Jim Meyering <meyering@fb.com>
Date:   Sun Dec 29 08:56:43 2019 -0800

    maint: disable two and reenable many warning options
    
    * configure.ac (GNULIB_WARN_CFLAGS): Disable -Wduplicated-branches
    and -Wreturn-local-addr, due to a couple of false-positive warnings.
    (WARN_CFLAGS): Reenable many warnings that now (with recent gcc)
    provoke no false positive.

commit b4d66bbc0685d11f52f31110203138e6b37133e8
Author: Jim Meyering <meyering@fb.com>
Date:   Sun Dec 29 08:46:37 2019 -0800

    maint: avoid gnulib's lock-tests module
    
    * bootstrap.conf (avoided_gnulib_modules): Also --avoid=lock-tests
    to avoid gnulib-related build failure.

commit 98f55d7bf2ff3bb13955eb6a03707e9ed31c307c
Author: Jim Meyering <meyering@fb.com>
Date:   Fri Dec 20 11:32:31 2019 -0800

    build: update gnulib to latest
    
    * gnulib: Update submodule to latest.
    * bootstrap: Copy from gnulib.
    * tests/init.sh: Likewise.

commit 3e0ece09ae6721cdc5ca86bd1e68d53f3cca2a2c
Author: Jim Meyering <meyering@fb.com>
Date:   Fri Dec 20 11:30:59 2019 -0800

    maint: tweak bootstrap.conf
    
    * bootstrap.conf (buildreq): Require at least autoconf 2.62,
    up from 2.61, just as grep and coreutils do.
    (bootstrap_post_import_hook): "Copy pkg-config's pkg.m4 ...",
    copied from grep's bootstrap.conf.
    (avoided_gnulib_modules): Pull this definition to the top.
    Formatting.

commit ee869b17b156400e1d76ea47aee35843d93d6908
Author: Dave Odell <dmo2118@gmail.com>
Date:   Tue Oct 1 11:09:15 2019 -0700

    cmp: add test case for Bug#37558
    
    * tests/cmp: New test case (Bug#37558).
    Copyright-paperwork-exempt: yes

commit 1a9db808992906eb599d9cdabec2e45de181fc1d
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Oct 1 11:08:30 2019 -0700

    cmp: fix -l width bug
    
    Problem reported by Dave Odell (Bug#37558).
    * src/cmp.c (cmp): Treat negative ‘bytes’ as infinite, fixing a
    bug introduced in the 2019-08-27 patch that fixed Bug#35256.

commit 8d26b1403e8607811ccebdfe2822f2dad42a36d3
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Aug 27 16:14:15 2019 -0700

    diff: don’t mistreat -N in arg as a large number
    
    Problem reported by alec (Bug#35256).
    * NEWS: Mention the fix.
    * bootstrap.conf (gnulib_modules): Use strtoimax and xstrtoimax,
    not strtoumax and strtoumax.
    * src/cmp.c (bytes): Now signed, with -1 representing no limit.
    All uses changed.
    * src/cmp.c (specify_ignore_initial, main):
    * src/diff.c (main):
    * src/ifdef.c (format_group):
    * src/sdiff.c (interact):
    Use strtoimax, not strtoumax.

commit c12acba7379d138394a9a727ed833c96fc932229
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Aug 27 15:11:18 2019 -0700

    build: update gnulib submodule to latest

commit c65f4d64b175407164d60b31a7633cf79e26ed6f
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Jul 19 14:10:49 2019 -0700

    maint: ignore ‘configure’ temporaries
    
    * .gitignore: Ignore confdefs*, conftest*.

commit 592e1234680a89269fd00ab50ea87caef1208afb
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Jul 19 14:09:53 2019 -0700

    maint: avoid Gnulib setlocale module
    
    Problem reported for MS-Windows by Richard Gering (Bug#34376).
    Diffutils doesn’t need any of the Gnulib fixes for setlocale.
    * bootstrap.conf (gnulib_tool_option_extras):
    Avoid the setlocale module.

commit 1d19852975b343ba7061abdabe6035ff4984536f
Author: KO Myung-Hun <komh@chollian.net>
Date:   Fri May 24 13:36:25 2019 -0700

    tests: init.cfg: use $PATH_SEPARATOR not ':'
    
    On OS/2, a path separator is semi-colon ';' not colon ':'.
    * tests/init.cfg: Replace ':' with $PATH_SEPARATOR.

commit 3600e8d4f07a4dc2a62f015168e2da5a47c4f96f
Author: Jim Meyering <meyering@fb.com>
Date:   Sun Jan 20 22:24:59 2019 -0800

    build: ensure no VLA is used
    
    Cause developer builds to fail for any use of a VLA.
    VLAs (variable length arrays) limit portability.
    * configure.ac (nw): Remove -Wvla from the list of disabled warnings,
    thus enabling the warning when configured with --enable-gcc-warnings.
    (GNULIB_NO_VLA) Define, disabling use of VLAs in gnulib.  This commit
    is functionally equivalent to coreutils' v8.30-44-gd26dece5d.

commit 0c8f1ff314cfa132fe2c1cf42b154c8e1e6397c9
Author: Jim Meyering <meyering@fb.com>
Date:   Sun Jan 20 22:24:30 2019 -0800

    build: update gnulib to latest
    
    * gnulib: Update to latest.
    * po/POTFILES.in: Add lib/xstdopen.c.

commit db6d5f7240c8a743aebb3def80b3e3fabf05f0c1
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Jan 6 17:22:37 2019 -0800

    diff: use xstdopen, not stdopen
    
    * bootstrap.conf (gnulib_modules):
    * src/cmp.c, src/diff.c, src/diff3.c, src/sdiff.c (main):
    Use xstdopen, not stdopen.

commit 86ece0ee216910bce0dbceb60b98190bf8f93702
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Jan 6 17:15:06 2019 -0800

    build: update gnulib submodule to latest

commit badccffea49ddc26b72208366f00429cc7ffb9e1
Author: Jim Meyering <meyering@fb.com>
Date:   Sat Jan 5 22:04:57 2019 -0800

    maint: convert all TABs to equivalent spaces in indentation
    
    Using this file,
    
    cat > leading-blank.exempt <<\EOF
    (\.gitmodules|help2man|pre-commit)$
    (?:^|\/)ChangeLog[^/]*$
    (?:^|\/)(?:GNU)?[Mm]akefile[^/]*$
    \.(?:am|mk)$
    EOF
    
    run the following command to convert all non-conforming leading white
    space to be all spaces:
    
    git ls-files \
      | pcregrep -vf leading-blank.exempt \
      | xargs pcregrep -l '^ *\t' \
      | xargs perl -MText::Tabs -ni -le \
        '$m=/^( *\t[ \t]*)(.*)/; print $m ? expand($1) . $2 : $_'
    
    Since that changed old NEWS, I also ran "make update-NEWS-hash"
    to update the old_NEWS_hash value in cfg.mk.

commit 601eceb57cfb87ded594701acc401277c53ff837
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Jan 5 19:55:08 2019 -0800

    diff: fix cmp, diff3, sdiff with stdin closed
    
    * NEWS: Mention this.
    * src/cmp.c, src/diff3.c, src/sdiff.c: Include stdopen.h.
    (main): Call stdopen early.
    * src/cmp.c (main): Simplify now that we need not worry about
    stdin being closed.
    * src/diff.c (main): Translate stdopen diagnostic.

commit 2c9d956aacdfddbb87334c985cd995d75102f789
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Jan 5 19:20:11 2019 -0800

    diff: remove unportable ‘diff -N - f <&-’ feature
    
    * NEWS: Mention this.
    * bootstrap.conf (gnulib_modules): Add stdopen.
    * doc/diffutils.texi (Comparing Directories):
    Do not document behavior if stdin is closed.
    * src/diff.c: Include stdopen.h.
    (main): Call stdopen early.
    (compare_files) [__hpux]: Remove recently-introduced
    special case for HP-UX exec with stdin closed.
    * tests/new-file: Remove tests of the removed feature.

commit 1104d026514014808629f28f2e6c787bf3c520c4
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Jan 5 18:05:33 2019 -0800

    build: update gnulib submodule to latest

commit b09adbffd5ab987f10f79a69f28b5b26eae95f3c
Author: Bruno Haible <bruno@clisp.org>
Date:   Thu Jan 3 20:36:35 2019 +0100

    diff: recognize file descriptors closed by the parent process on HP-UX
    
    * src/diff.c (compare_files): Use fcntl to distinguish a file
    descriptor closed by the parent process from a file descriptor
    that references /dev/null.

commit 197d7d492f1fd38e7b090f0898dfc286e518f2b7
Author: Jim Meyering <meyering@fb.com>
Date:   Tue Jan 1 18:54:23 2019 -0800

    maint: update all copyright dates via "make update-copyright"
    
    * gnulib: Also update submodule for its copyright updates.

commit 70d787ef4400e23601a636f014596e0db2ca79fd
Author: Jim Meyering <meyering@fb.com>
Date:   Mon Dec 31 17:58:56 2018 -0800

    maint: post-release administrivia
    
    * NEWS: Add header line for next release.
    * .prev-version: Record previous version.
    * cfg.mk (old_NEWS_hash): Auto-update.

commit 2de623e7a15d8142c416217bf5634698c3f66fd0
Author: Jim Meyering <meyering@fb.com>
Date:   Mon Dec 31 17:56:36 2018 -0800

    version 3.7
    
    * NEWS: Record release date.

commit 04c64737c5df39c3d4ae7a79d5bb3cc06809bf3b
Author: Jim Meyering <meyering@fb.com>
Date:   Mon Dec 31 17:56:23 2018 -0800

    maint: distribute new file, init.cfg
    
    Otherwise, strip-trailing-cr would fail on a system without valgrind.
    * tests/Makefile.am (EXTRA_DIST): Include init.cfg.

commit aaf0efa70d9a72175e7847df196cda21ab3bd3a9
Author: Dennis Lambe Jr <malsyned@malsyned.net>
Date:   Sat Dec 29 13:04:10 2018 -0800

    diff: adjust ANSI escapes for compatibility with less -R
    
    GNU less can display ANSI-colored text with the -R flag, but this
    support has some limitations. One of them is that if an escape
    sequence starts on one line and ends on a different line, only the
    first line will be colored in less.
    
    As a result, when diff creates colored output with multi-line deletes
    or adds, less will only color the first line.
    
    This change resets ANSI color to the default at the end of
    each line and restarts it at the beginning of the next. It patches
    normal and context mode. Side-by-side already worked in my testing.
    * src/context.c (print_context_label, pr_context_hunk): As above.
    (pr_unidiff_hunk, print_context_header): Likewise.
    * src/normal.c (print_normal_hunk): Likewise.
    * tests/colors: Adjust existing tests to accommodate this.
    * NEWS (Improvements): Mention it.
    Proposed in http://bugs.gnu.org/31105

commit b9e2f4f3b395c8eff525a95e00ca14e7dd44a5b4
Author: Jim Meyering <meyering@fb.com>
Date:   Fri Dec 28 15:23:01 2018 -0800

    tests: fix colors test on systems lacking fractional timestamp support
    
    * tests/colors: The .NNNNNNNNN suffix is not printed on some systems.
    Adapt the test to accommodate those systems.

commit b33a91993401095d3785ede93caa71226eacc5e5
Author: Jim Meyering <meyering@fb.com>
Date:   Fri Dec 28 23:13:01 2018 -0800

    tests: strip-trailing-cr: avoid failure with ASAN
    
    Valgrind cannot operate on an ASAN-compiled binary.
    * tests/strip-trailing-cr (valgrind): Define as no-op when diff
    was compiled with sanitizer support.

commit c7a4eacac909ec98e3a1ca45643b4a20766864ec
Author: Jim Meyering <meyering@fb.com>
Date:   Fri Dec 28 16:12:11 2018 -0800

    tests: add test for --strip-trailing-cr UMR bug
    
    * tests/strip-trailing-cr: New file. Test for today's bug fix.
    * tests/Makefile.am (TESTS): Add it.

commit a28327bd77be425702927a032f4801338de40203
Author: Jim Meyering <meyering@fb.com>
Date:   Fri Dec 28 16:41:26 2018 -0800

    tests: import test infrastructure from coreutils
    
    * tests/init.cfg: New file, for require_valgrind_ definition (from coreutils).
    * tests/Makefile.am (PATH): Don't set stderr_fileno_ here, since it is
    now initialized in init.cfg.

commit f8780039532cebb4f4580af1ef7c7d9019080157
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Dec 28 19:00:50 2018 -0800

    diff: fix UMR with --strip-trailing-cr
    
    Problem reported by Hongxu Chen (Bug#31935).
    * src/io.c (prepare_text): Strip trailing CR before
    doing the rest of the analysis.
    * NEWS: Mention the fix.
    Co-authored-by: Jim Meyering <jim@meyering.net>

commit 15668f2c54d095b872cd06d78adde5a525a583e8
Author: Bruno Haible <bruno@clisp.org>
Date:   Fri Dec 28 07:34:47 2018 +0100

    tests: colors: avoid test failure on AIX 7
    
    * tests/colors: Splice the argument into the printf format string.

commit b18c0155f577d66fac4d12919dbfbf0bbfa8118e
Author: Bruno Haible <address@hidden>
Date:   Tue Jan 23 09:04:05 2018 +0100

    maint: don't use an undocumented Autoconf macro
    
    * configure.ac: Use AC_CONFIG_HEADERS instead of AC_CONFIG_HEADER.

commit d5bab3afd88a792933c565744a16667beb2e593a
Author: Jim Meyering <meyering@fb.com>
Date:   Sun Dec 23 18:03:13 2018 -0800

    build: avoid build failure with --enable-gcc-warnings and latest gcc
    
    * src/diff.c (usage): Assert that each line length is no longer than
    the minimum required size of 4095.  This lets newer gcc (currently
    9.0.0 20181219) infer that it need not issue this warning:
    diff.c:1012:19: error: '%.*s' directive output between 0 and 2147483647
    bytes may exceed minimum required size of 4095
    [-Werror=format-overflow=]
    1012 |        printf ("  %.*s", msglen, msg);

commit 93a1e963e1590d9cb3c1e4f423a5664ee4a589cc
Author: Jim Meyering <meyering@fb.com>
Date:   Sun Dec 23 17:22:02 2018 -0800

    build: update gnulib to latest; and bootstrap and init.sh

commit 15059822384415b62f4f7de593abba7c2e05aa57
Author: Jim Meyering <meyering@fb.com>
Date:   Sun Dec 23 17:24:34 2018 -0800

    build: make the autoconf-2.63 requirement explicit
    
    * configure.ac: AC_PREREQ: Require 2.63, not 2.59. And quote properly.
    Autoconf-2.63 has been required for some time via gnulib.
    This merely makes it explicit.

commit 6cd60762b225f5d0afa24a8594aac7b2500cd5fe
Author: Jim Meyering <meyering@fb.com>
Date:   Thu Dec 20 22:23:27 2018 -0800

    maint: use https: in gnu mirror URL prefix, not http
    
    This appears in the generated release announcement message.
    * cfg.mk (url_dir_list): Use https: prefix, not http:.

commit ffd63aedad3c0eb08ebb27103e5f242f8732dc0c
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Jul 24 10:18:28 2018 -0700

    cmp: fix bug in -b diagnostic
    
    Problem reported by mancha (Bug#32249).
    * src/cmp.c (count_newlines): Restore old value of sentinel.
    * tests/cmp: Test for the bug.

commit 612db4defaabc086f0c4303499dc41aee003fc69
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Jul 24 10:09:30 2018 -0700

    build: update gnulib submodule to latest

commit 576645cdf71342ba8eb60930998655a99b7a8da1
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon May 14 12:44:30 2018 -0700

    doc: prepend "GNU" to NAME in man pages
    
    Requested by RMS.
    * src/cmp.c, src/diff.c, src/diff3.c, src/sdiff.c:
    Prepend "GNU" to first comment, so that the man page says "GNU".

commit 56225ecca4f9598c0c9dbd7c46a51dd4816a383f
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Apr 20 13:39:15 2018 -0700

    sdiff: port to mingw
    
    Problem reported by Ross Burton (Bug#31218).
    * src/sdiff.c (checksigs): Use ‘raise’, not ‘kill’.

commit 9b87043d8d8fb977ac07db074289571ac745e493
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Mar 23 11:29:51 2018 -0700

    build: update gnulib submodule to latest

commit 5dc851ad24cde08abe3660ffecfe2c5e87203c6d
Author: Jim Meyering <meyering@fb.com>
Date:   Sun Jan 14 17:16:50 2018 -0800

    tests: fix quoting error in previous change
    
    * tests/colors: Double-quote $PATH.

commit 915003de198a66ffe5a5692d875c185eb2b9e923
Author: Jim Meyering <meyering@fb.com>
Date:   Sat Jan 6 16:24:10 2018 -0800

    tests: port tests/colors to some env-munging shell
    
    * tests/colors: Also set PATH="$PATH" in env invocation.

commit 4a38f715f1fe171f6792f3044bd15d6a263b8c1c
Author: Jim Meyering <meyering@fb.com>
Date:   Sat Jan 6 16:49:13 2018 -0800

    maint: update gnulib and copyright dates for 2018
    
    * gnulib: Update to latest.
    * all files: Run "make update-copyright".
    * bootstrap: Update from gnulib.

commit 81eea1db38a934e38b9307059a57c1c76fbf6163
Author: Jim Meyering <meyering@fb.com>
Date:   Sat Jan 6 16:44:03 2018 -0800

    maint: suppress gcc's new -Wcast-function-type in gnulib
    
    * configure.ac (WERROR_CFLAGS): Suppress gcc's new -Wcast-function-type
    warning in gnulib, because it would trigger on this:
    sig-handler.h:47:12: error: cast between incompatible function types\
      from 'void (* const)(int,  siginfo_t *, void *)' \
      {aka 'void (* const)(int,  struct <anonymous> *, void *)'} \
      to 'void (*)(int)' [-Werror=cast-function-type]
    return (sa_handler_t) a->sa_sigaction;

commit b50ab11f235eb214d8cce710bda068365accb6e9
Author: Jim Meyering <meyering@fb.com>
Date:   Fri Oct 20 23:13:54 2017 -0700

    tests: add expected-failing test for minor subopimality
    
    In some unusual cases, diff -u prints suboptimal output.
    * tests/large-subopt: New test script.
    * tests/Makefile.am (TESTS): Add it.
    (XFAIL_TESTS): Add it here, too, to record that this test is
    currently expected to fail.
    * tests/large-subopt.in1, tests/large-subopt.in2: Inputs derived from
    those in http://bugs.gnu.org/28796

commit 7ba026cae3c7b7780f1c4ead9b475f00458742d6
Author: Jim Meyering <meyering@fb.com>
Date:   Sat Sep 23 21:47:29 2017 -0700

    gnulib: update to latest

commit 487e009ed7294021dcc0b66c2b5a5046aea51ab4
Author: Jim Meyering <meyering@fb.com>
Date:   Sun May 21 15:27:10 2017 -0700

    maint: make the announcement template Cc the devel- list
    
    * cfg.mk (announcement_Cc_): Define.

commit 592e503b48e42981b0a7fa308a6c3b06f08d582b
Author: Jim Meyering <meyering@fb.com>
Date:   Sun May 21 13:27:36 2017 -0700

    maint: post-release administrivia
    
    * NEWS: Add header line for next release.
    * .prev-version: Record previous version.
    * cfg.mk (old_NEWS_hash): Auto-update.

commit e73a3d5e44c2e46e2ae947eb99b3834874a601a8
Author: Jim Meyering <meyering@fb.com>
Date:   Sun May 21 13:25:42 2017 -0700

    version 3.6
    
    * NEWS: Record release date.

commit 7c2a2d63f42135f676aec054583242734ef348c2
Author: Jim Meyering <meyering@fb.com>
Date:   Fri May 19 17:14:09 2017 -0700

    gnulib: update to latest

commit d3b51e7f02994c76b88b83857e253b4116706f91
Author: Jim Meyering <meyering@fb.com>
Date:   Wed May 17 22:51:31 2017 -0700

    maint: update to work with GCC7's -Werror=implicit-fallthrough=
    
    * src/system.h (FALLTHROUGH): Define.
    Use new FALLTHROUGH macro in place of comments
    * src/cmp.c: FIXME
    * src/diff3.c: FIXME
    * src/ifdef.c: FIXME
    * src/sdiff.c: FIXME
    * src/side.c: FIXME
    * src/util.c: FIXME

commit 646268f5c6472d248ae0e98960f7983656a9d0e3
Author: Jim Meyering <meyering@fb.com>
Date:   Thu May 18 09:23:06 2017 -0700

    gnulib: update to latest

commit 20b31314c3d72af7159cc6ba3cdb9b1288263858
Author: Jim Meyering <meyering@fb.com>
Date:   Tue May 9 11:55:46 2017 -0700

    tests: new-file: closed-stdin: also ensure stdout was empty
    
    * tests/new-file: Also require that "out" be empty.

commit c881afb9b82a4943b47880d2e607825ceff286be
Author: Jim Meyering <meyering@fb.com>
Date:   Sat May 6 12:09:43 2017 -0700

    maint: stop using @acronym{...} in texinfo sources
    
    * doc/diffutils.texi: Remove all uses of @acronym{...},
    per recommendation by Karl Berry.
    * cfg.mk (local-checks-to-skip): Remove exemption, enabling
    the @acronym{-prohibiting syntax-check rule.

commit ac05c6d549bb0731386ca2251c92b91be2e95228
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu May 4 17:17:23 2017 -0700

    cmp: improve EOF diagnostic
    
    This improves on yesterday's change, following up on a
    remark by Jim Meyering (Bug#22816#21).
    * doc/diffutils.texi (Invoking cmp, cmp Options): Follow POSIX more
    closely in the documentation of the information appended to the EOF
    diagnostic.
    * src/cmp.c (cmp): Be more specific about the shorter file's length
    and fix some off-by-1 issues in reporting line counts.
    * tests/cmp: Adjust to match new behavior.
    Don't assume internal details about stdio buffering.

commit 98b6fc2f320cfb6a1b55dc032b7de26188c04479
Author: Benno Schulenberg <bensberg@justemail.net>
Date:   Sat Feb 4 10:55:54 2017 +0100

    diff: describe each --help option with a single string
    
    * src/diff.c: To ease translating, fuse four description pieces
    into two whole ones.  Also reword and rewrap one of them to fit
    within eighty characters.

commit 1b1526b4f57649d206c61f494d4f7ac48fa12a45
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu May 4 17:17:23 2017 -0700

    cmp: report prefix length when one file is shorter
    
    Requested by Dan Jacobson (Bug#22816).
    * NEWS:
    * doc/diffutils.texi (Invoking cmp, cmp Options): Document this.
    * src/cmp.c (cmp): Implement it.
    * tests/Makefile.am (TESTS): Add cmp.
    * tests/cmp: New file.

commit 4e40686e23dba2e89aec76ee009049602caa19ca
Author: Jim Meyering <meyering@fb.com>
Date:   Tue May 2 19:52:37 2017 -0700

    tests: add test for latest fix
    
    * NEWS (Bug fixes): Describe it.
    * tests/invalid-re: New test for just-fixed bug.
    * tests/Makefile.am (TESTS): Add it.

commit af6d2e0dbddcdcd52ba36636c72b3ffa774238c8
Author: Jim Meyering <meyering@fb.com>
Date:   Tue May 2 16:28:30 2017 -0700

    gnulib: update to latest

commit 2acb5aae869310f75dc8aa4d81a6b2e4870c1000
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Apr 27 22:39:07 2017 -0700

    diff: don't crash if regexp is invalid
    
    Problem reported by Marcel Böhme in:
    http://lists.gnu.org/archive/html/bug-diffutils/2017-04/msg00002.html
    * src/diff.c (add_regexp): Exit if re_compile_pattern fails.

commit 7c636563c24982f6eb7896ef8aa24e6f78c5d48b
Author: julama <julama@fake-box.com>
Date:   Wed Mar 22 21:38:32 2017 -0700

    tests: avoid false failure for unreadable /proc/cmdline
    
    * tests/brief-vs-stat-zero-kernel-lies: Use "test -r" rather than
    just "test -f".  This avoids a false test failure on a linux system
    with grsecurity and its GRKERNSEC_PROC_USER option enabled, for which
    /proc/cmdline is unreadable.  Reported in https://bugs.gnu.org/26155

commit 198c55a64557c89f201ddea7cbcb14c09c400071
Author: Jim Meyering <meyering@fb.com>
Date:   Wed Feb 1 23:06:29 2017 -0800

    tests: avoid false failure with some shells on debian, freebsd
    
    * tests/colors: Move the TERM=dumb setting into the code run by
    "returns_", since some shells do not propagate envvar setting through
    to a use of a function like this.  That would cause this test to fail
    because results were colorized when they should not have been.
    Reported by Nelson Beebe.

commit affa30def0d530022a03845372ec19c644f8f1ac
Author: Jim Meyering <meyering@fb.com>
Date:   Tue Jan 31 17:06:10 2017 -0800

    maint: add "introduced in 3.4" in latest NEWS entry
    
    * NEWS: Update.  Also, thanks to Nelson Beebe for reporting this.

commit eaa2a24345fba918eb7ad7a6a263e7e639d82d5f
Author: Jim Meyering <meyering@fb.com>
Date:   Tue Jan 31 16:44:03 2017 -0800

    diff: avoid UMR with ---presume-output-tty
    
    * src/diff.c (main): Always define presume_output_tty.
    Otherwise, it would be read uninitialized.
    Introduced in v3.3-45-g17e2698
    * NEWS (Bug fixes): Mention it.

commit 8420aff7e0eac5b6d02dcb60b88b9f9c2150f85a
Author: Jim Meyering <meyering@fb.com>
Date:   Tue Jan 31 10:36:25 2017 -0800

    gnulib: update to latest; and update bootstrap and init.sh

commit 75173432ed47ae77d3024da8e5daa70f1f8d2650
Author: Jim Meyering <meyering@fb.com>
Date:   Tue Jan 31 10:45:11 2017 -0800

    maint: change "time stamp" to "timestamp" globally
    
    This avoids a new syntax-check failure.
    * ChangeLog-2008: Perform that change.
    * doc/diffutils.texi: Likewise.
    * NEWS: Likewise.
    * cfg.mk: Update the old news hash accordingly.

commit 90106d33ab3004872f8cfe46779683be48b7bd12
Author: Jim Meyering <meyering@fb.com>
Date:   Sun Jan 1 03:22:44 2017 -0800

    maint: update gnulib and copyright dates for 2017
    
    * gnulib: Update to latest.
    * all files: Run "make update-copyright".

commit a9cc55101cc9c10cf7a8857034fef88559f4c656
Author: Jim Meyering <meyering@fb.com>
Date:   Sun Oct 30 12:13:13 2016 -0700

    tests: use "returns_" rather than explicit comparison with "$?"
    
    * tests/colors: Use "returns_ 1" rather than testing $? = 1
    * tests/basic: Likewise.
    * tests/binary: Likewise.
    * tests/filename-quoting: Likewise.
    * tests/function-line-vs-leading-space: Likewise.
    * tests/ignore-matching-lines: Likewise.
    * tests/label-vs-func: Likewise.
    * tests/new-file: Likewise.
    * tests/no-dereference: Likewise.
    * tests/no-newline-at-eof: Likewise.
    * tests/stdin: Likewise.

commit 68b82f6f8419a815cfcf962b3061352d414dc606
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Oct 25 21:57:56 2016 -0700

    diff: fix big performance degradation in 3.4
    
    * NEWS, doc/diffutils.texi (Overview): Document this.
    * src/analyze.c (diff_2_files): Restore too_expensive heuristic,
    but this time with a floor that is 16 times the old floor.  This
    should fix Bug#16848, by generating good-quality output for its
    test case, while not introducing Bug#24715, by running nearly as
    fast as diff-3.3 for that test case.

commit 571f01c069dfc7f860e5500a5d08ebfdaf9c3068
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Oct 25 21:52:31 2016 -0700

    build: update gnulib submodule to latest

commit 1c1de418606f163a0027b3e7305ca91708616219
Author: Jim Meyering <meyering@fb.com>
Date:   Sun Oct 16 08:43:14 2016 -0700

    maint: use die rather than error
    
    Use "die (N, ..." rather than "error (N, ..." whenever N is a nonzero
    constant.  That lets the compiler know that control never goes beyond
    that point, and thus makes unnecessary the occasional following
    "abort ();" or "break;" statement we have historically added to inform
    static analysis tools of this aspect of "error" semantics.
    * src/die.h: New file.
    * src/Makefile.am (noinst_HEADERS): Add it.
    * src/cmp.c: Use die in place of error whenever the first
    argument is a nonzero constant.  Also remove any immediately-
    following call to abort, and include "die.h".
    * src/diff.c: Likewise.
    * src/diff3.c: Likewise.
    * src/sdiff.c: Likewise.
    * src/util.c: Likewise.

commit 84387b8f5fa66ecb4c2ac46a2a8cde909222f090
Author: Jim Meyering <meyering@fb.com>
Date:   Sat Oct 1 13:00:35 2016 -0700

    gnulib: update to latest

commit 8db62fe5ec9b81899c39461c4380fcf2bb7a9d82
Author: Jim Meyering <meyering@fb.com>
Date:   Sun Oct 2 10:56:55 2016 -0700

    build: avoid GCC 7's new warnings
    
    * src/util.c (get_funky_string): Adjust comment so that GCC 7's
    -Wimplicit-fallthrough recognizes it.
    * src/diff3.c (main): Cast boolean MERGE to "int" to avoid this:
    diff3.c:341:25: error: '~' on a boolean expression \
    [-Werror=bool-operation]

commit ff2b22a8b3fafe6407ecebd95ddc41a13551879b
Author: Jim Meyering <meyering@fb.com>
Date:   Tue Aug 30 12:41:38 2016 -0700

    gnulib: update to latest

commit 65185e4c62028b468ad8a0602a33561561d9d0be
Author: Jim Meyering <meyering@fb.com>
Date:   Mon Aug 29 20:07:16 2016 -0700

    gnulib: update to latest, to port to upcoming GCC 7
    
    This fixes compilation errors when using gcc-7-to-be that were
    due to missing backslashes in gnulib's intprops.h and an API
    change in functions like __builtin_add_overflow.  This ports
    to GCC 7's newer built-in overflow-checking functions.

commit 688f4fb211b603050ef7efd6cbe1db63b31f2fd7
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Aug 28 16:46:34 2016 -0700

    diff: don't assume ptrdiff_t <= long long int
    
    * src/system.h (printint, pI): Port to (theoretical) platforms
    where ptrdiff_t is wider than long long int (Bug#24311).

commit f2712fcddff9c7ff571b19ace30d0d3a195ebde8
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Aug 27 14:59:13 2016 -0700

    diff: port line numbers to mingw64
    
    Problem reported by Peter Rosin (Bug#24311).
    * src/system.h (printint, pI): New typedef and macro.
    All uses of 'long int' and "%l" in printf format replaced by
    'printint' and "%"pI respectively.
    * src/ifdef.c (do_printf_spec): Don't assume pI is length 1.

commit 34823e7e6770042ec5d7349218efdb34307349e9
Author: Jim Meyering <meyering@fb.com>
Date:   Sat Aug 20 22:23:28 2016 -0700

    maint: post-release administrivia
    
    * NEWS: Add header line for next release.
    * .prev-version: Record previous version.
    * cfg.mk (old_NEWS_hash): Auto-update.

commit d1145efd81ffbcc0b00f138ede826d3d6f640200
Author: Jim Meyering <meyering@fb.com>
Date:   Sat Aug 20 22:21:26 2016 -0700

    version 3.5
    
    * NEWS: Record release date.

commit 24792668f02cb915a170a8098d945da325287288
Author: Jim Meyering <meyering@fb.com>
Date:   Tue Aug 16 22:20:28 2016 -0700

    build: arrange to build with -fno-common, when possible
    
    * configure.ac (WERROR_CFLAGS): Add -fno-common, when possible.
    This would have prevented the duplicate definition of
    presume_output_tty that was fixed in v3.4-10-gc2dc91f.

commit c2dc91f1968c6ccd8ba623f9fa391f529ab800ab
Author: Hanno Böck <hanno@hboeck.de>
Date:   Tue Aug 16 22:02:13 2016 -0700

    diff: avoid duplicate definition of presume_output_tty
    
    * src/util.c (presume_output_tty): Remove this definition.
    The other is in diff.h.  Reported in https://bugs.gnu.org/24248

commit d6474c4c512d9196d7d9a6086a96eac6813a5c19
Author: Jim Meyering <meyering@fb.com>
Date:   Sun Aug 14 17:16:59 2016 -0700

    gnulib: update to latest

commit c61efccd23c827a03bdd1d41211c70479a632b86
Author: Jim Meyering <meyering@fb.com>
Date:   Sun Aug 14 22:25:49 2016 -0700

    tests: diff3: work around missing seq on some systems
    
    * tests/diff3 (seq): Provide a seq replacement function,
    since at least AIX, SunOS 5.10, OpenBSD-5.8 lack it.
    Reported by Assaf Gordon in https://bugs.gnu.org/24227#8

commit edd942ca27d570a33d612b12eecaa33a76640e46
Author: Jim Meyering <meyering@fb.com>
Date:   Fri Aug 12 21:40:29 2016 -0700

    diff3: fix leaks, for real
    
    * src/diff3.c (struct diff_block)[lint]: Add member, n2.
    (free_diff_block, next_to_n2): New functions.
    * tests/diff3: Add more test coverage.

commit b3def738f3b435cbe6f2a8406bae5a71175a0b80
Author: Jim Meyering <meyering@fb.com>
Date:   Fri Aug 12 11:17:26 2016 -0700

    maint: require that commit messages be of a certain form
    
    * bootstrap.conf (bootstrap_epilogue): Merge from coreutils, so that
    a local commit hook will now help enforce consistent commit messages.
    * Makefile.am (check-git-hook-script-sync): New rule, largely copied
    from coreutils.
    * scripts/git-hooks/commit-msg: New file, from coreutils, but
    with adapted list of program names.
    * scripts/git-hooks/applypatch-msg: New file, from git.
    * scripts/git-hooks/pre-applypatch: Likewise.
    * scripts/git-hooks/pre-commit: Likewise.

commit 1a0df4396ebe3b9a58b882bb976cfce3f50d3cac
Author: Bastian Beischer <bastian.beischer@rwth-aachen.de>
Date:   Sat Aug 13 18:53:36 2016 -0700

    diff3: fix heap use-after-free; add minimal diff3 test coverage
    
    Commit v3.3-42-g3b74a90, "FIXME: src/diff3: plug a leak" added an
    invalid use of free, leading to use-after-free in nearly any invocation
    of diff3.  Revert that commit.
    * NEWS (Bug fixes): Mention it.
    * tests/diff3: New file, to add minimal test coverage.
    * tests/Makefile.am (TESTS): Add it.
    Reported by Bastian Beischer in http://bugs.gnu.org/24210

commit 88d911dbc717494febee4b0ebc790808054fefff
Author: Jim Meyering <meyering@fb.com>
Date:   Sat Aug 13 19:40:20 2016 -0700

    build: ignore texinfo build artifacts
    
    * .gitignore: Ignore texinfo artifacts in doc/.

commit 1b3907f976df79e45063901d5f7de76e3f1c7f43
Author: Jim Meyering <meyering@fb.com>
Date:   Sat Aug 13 19:42:57 2016 -0700

    maint: diff3: remove an unreachable statement
    
    * src/diff3.c (main): Remove unreachable "return" after exit from main.

commit 697c1f4fa93ac971c487725e9e53fc211cd3c670
Author: Jim Meyering <meyering@fb.com>
Date:   Mon Aug 8 18:50:15 2016 -0700

    diff: disable colorization for TERM=dumb
    
    * src/diff.c (main): With --color or --color=auto, when TERM is
    "dumb", disable colorization.  Suggested by Daniel Colascione.
    * NEWS (Bug fixes): Mention it.
    * tests/colors: Add a test that would fail without this change,
    yet passes with it.

commit 09369932527342a4fb0ccc6677184c3d3ce7fc49
Author: Jim Meyering <meyering@fb.com>
Date:   Mon Aug 8 10:14:00 2016 -0700

    maint: post-release administrivia
    
    * NEWS: Add header line for next release.
    * .prev-version: Record previous version.
    * cfg.mk (old_NEWS_hash): Auto-update.

commit 5ac64141edd699566edfa9a6659c0d7586f019e4
Author: Jim Meyering <meyering@fb.com>
Date:   Mon Aug 8 10:10:51 2016 -0700

    version 3.4
    
    * NEWS: Record release date.

commit 05476e882f0aa6b032d7cf3859214210a5ccc1fb
Author: Jim Meyering <meyering@fb.com>
Date:   Sat Aug 6 13:50:06 2016 -0700

    gnulib: update to latest

commit 91d23408864f70ce2da19d0b272b298e72fad018
Author: Jim Meyering <meyering@fb.com>
Date:   Sat Aug 6 11:19:07 2016 -0700

    tests: tweak built_programs definition
    
    * tests/Makefile.am (built_programs): Adjust to work around what
    may be a problem due to interaction between Solaris 10's /bin/sh
    and an old version of GNU make. Reported by Dagobert Michelsen
    in https https://bugs.gnu.org/24137.

commit a37c5846867defe109e1eefe550793cd8947fbb2
Author: Jim Meyering <meyering@fb.com>
Date:   Tue Aug 2 19:09:20 2016 -0700

    gnulib: update to latest

commit 38e3a1dd49d6a2793eb990da60efae25a2ba1fcf
Author: Jim Meyering <meyering@fb.com>
Date:   Tue Aug 2 09:30:06 2016 -0700

    tests: skip a /proc/self-dependent test on the Hurd
    
    * tests/brief-vs-stat-zero-kernel-lies: The Hurd's /proc/self
    is not useful, so detect that and skip the test that requires it.
    Reported by Assaf Gordon in https://debbugs.gnu.org/24121#29

commit df14e616b3d497c611edb04d6071b09565f65434
Author: Jim Meyering <meyering@fb.com>
Date:   Mon Aug 1 09:23:03 2016 -0700

    tests/colors: fix portability problem with touch --date
    
    * tests/colors (epoch): Don't use GNU touch's --date=$epoch option.
    Use the portable -t 197001010000.00.
    Reported by Assaf Gordon in https://debbugs.gnu.org/24121#8

commit 47f84d5a75bd46822c000ceab4abea5c11079d17
Author: Jim Meyering <meyering@fb.com>
Date:   Mon Aug 1 08:03:22 2016 -0700

    build: Solaris 9: avoid link failure due to isblank use
    
    * bootstrap.conf (gnulib_modules): Add isblank, to avoid a link
    error on Solaris 9 Sparc.  Reported by Dagobert Michelsen.

commit b43e6fed25d5fbd0243224753e14be2f4eb00b7e
Author: Jim Meyering <meyering@fb.com>
Date:   Sun Jul 31 21:29:21 2016 -0700

    test: improve test infrastructure
    
    * tests/envvar-check: New file, copied from grep, with the addition
    of the EDITOR and GREP_OPTIONS envvar names.
    * tests/Makefile.am (EXTRA_DIST): Add it.
    (TESTS_ENVIRONMENT): Revamp, to be more like that of grep.

commit e974118719b9f79adf36454151b13eb2622faa93
Author: Jim Meyering <meyering@fb.com>
Date:   Sun Jul 31 17:46:17 2016 -0700

    maint: remove gl/lib/reg*.c.diff; no longer needed
    
    * gl/lib/regcomp.c.diff: Remove file, now that gnulib's
    regcomp.c compiles regex.c with -Wno-unused-parameter.
    * gl/lib/regex_internal.c.diff: This file induced a change to ensure
    that the "Idx" type was unsigned and to remove a few "VAR < 0"
    comparisons.  These days, it is probably fine to stay in sync with
    gnulib/glibc's copies
    of these files, so remove these patches, too.
    * gl/lib/regexec.c.diff: Likewise.
    Prompted by a report by Assaf Gordon and a suggestion from Paul Eggert.

commit 55596fcd4846a802da9bce831547a9a01e4cbe15
Author: Jim Meyering <meyering@fb.com>
Date:   Sun Jul 31 17:33:34 2016 -0700

    tests: colors: fix a portability problem and work around a shell bug
    
    * tests/colors (e): Fix a portability bug: use printf '\033'
    rather than '\e' to generate the required byte sequence, since
    for some shells (at least dash 0.5.8), the latter doesn't work.
    Work around a shell bug whereby "local tab=$(printf '\t')"
    would result in an empty value for "$tab": hoist each "tab"
    definition up/out of its function to global scope.
    Reported by Assaf Gordon in http://debbugs.gnu.org/24116#8

commit 0353af91a02d1bd14b18d10293f1ef27dd6c0a58
Author: Jim Meyering <meyering@fb.com>
Date:   Sat Jul 23 16:33:35 2016 -0700

    gnulib: update to latest; and tests/init.sh
    
    * gnulib: Update to latest.
    * init.sh: Update from gnulib.

commit a10ff125c8ff7fbaf1100cd41ea4e8ac0d594c82
Author: Jim Meyering <meyering@fb.com>
Date:   Sat Apr 2 18:42:19 2016 -0700

    maint: arrange for "make distcheck" to work with unreleased automake
    
    * dist-check.mk (my-distcheck): Remove all .deps directories
    before performing the recursive comparison.

commit 752679190cf610ea32c54d625c368bb87da156fc
Author: Glenn Morris <rgm@gnu.org>
Date:   Tue May 24 19:51:36 2016 -0700

    doc: fix a reference to emacs' emerge node
    
    * doc/diffutils.texi (Interactive Merging): Correct a reference to
    emacs' emerge node: s/emerge/Emerge/.
    This addresses http://debbugs.gnu.org/23613

commit 8c19e4a18ef037b97054f6ea4aefa94f62ac9dbc
Author: Jim Meyering <meyering@fb.com>
Date:   Sat Apr 30 19:23:24 2016 +0100

    maint: arrange for better URLs in generated announcement message
    
    * cfg.mk (url_dir_list): Define.  I had been correcting the generated
    URLs by hand, just before the announcement.  This is better.

commit 5a485511d77a23d144a05266482ce89171249156
Author: Jim Meyering <meyering@fb.com>
Date:   Tue Mar 15 10:38:23 2016 -0700

    maint: don't ignore gitlog-to-changelog failure
    
    * Makefile.am (gen-ChangeLog): Don't ignore failure of
    gitlog-to-changelog. This syncs to coreutils' copy of this rule.

commit 17e2698bcbee30a6cc282d61ad6242a64ba9c7cf
Author: Giuseppe Scrivano <gscrivano@gnu.org>
Date:   Mon Feb 1 09:58:52 2016 +0100

    diff: --color: fix an infinite recursion bug
    
    * src/diff.h (presume_output_tty): New extern variable.
    * src/diff.c (PRESUME_OUTPUT_TTY_OPTION): New enum.
    (group_format_option): Add '-presume-output-tty'.
    (main): Handle PRESUME_OUTPUT_TTY_OPTION.
    * src/util.c: New variable `presume_output_tty'.
    (check_color_output): Handle presume_output_tty.
    (set_color_context): Call process_signals only when color_context is
    not RESET_CONTEXT.
    * tests/colors: Check that diff doesn't crash when interrupted
    in the middle of a color sequence.
    
    Reported by Gisle Vanem in http://debbugs.gnu.org/22067

commit 3d8affcc9dd85da0de0121e95a6f932d68feb5fa
Author: Jim Meyering <meyering@fb.com>
Date:   Sun Jan 31 18:01:27 2016 -0800

    maint: update prereq version of gettext
    
    * configure.ac: Increase designated gettext version to 0.19.2
    * bootstrap.conf (buildreq): Likewise.
    Remove now-unnecessary code to remove gettext-provided files.

commit a19bcfd9e7eec512abb774797da33c630b632082
Author: Jim Meyering <meyering@fb.com>
Date:   Sun Jan 31 16:53:39 2016 -0800

    gnulib: update to latest

commit 3b74a905c5460e7979c53273ac90345860d001a7
Author: Jim Meyering <meyering@fb.com>
Date:   Fri Jan 1 18:24:25 2016 -0800

    FIXME: src/diff3: plug a leak

commit 7346a030108e032b0e8523f381f1a95b91806890
Author: Jim Meyering <meyering@fb.com>
Date:   Fri Jan 1 15:06:05 2016 -0800

    maint: update copyright year, bootstrap, init.sh
    
    Run "make update-copyright" and then...
    
    * gnulib: Update to latest.
    * tests/init.sh: Update from gnulib.
    * bootstrap: Likewise.

commit a3ea9cd5cb911a0319c81b01e205b24c92a8535c
Author: Jim Meyering <meyering@fb.com>
Date:   Sat Nov 28 18:02:05 2015 -0800

    diff --brief no longer mistakenly reports diff. with 0-sized /proc/ files
    
    Normally, it is safe to assume two regular files are different when
    their st_size values are different.  However, that assumption may
    be invalid if either value is zero, as happens with files on Linux
    /proc and /sys file systems. Since skipping this optimization will
    usually cost very little (one read syscall, to read zero bytes),
    it is fine to accommodate those unusual files.
    * src/analyze.c (diff_2_files): Do not assume regular files differ
    just because their st_size values differ when one or more is 0.
    * src/diff.c (compare_files): Likewise.
    * tests/brief-vs-proc-stat-zero: New test.
    * tests/Makefile.am: Add it.
    * NEWS (Bug fixes): Describe it.
    Reported by Stephan Müller in http://debbugs.gnu.org/21942

commit a1140dd45845d838401425f9a3c0af944abb5795
Author: Jim Meyering <meyering@fb.com>
Date:   Sun Dec 6 10:38:17 2015 -0800

    tests: arrange to print any skipped-test explanation to tty, too
    
    I noticed that when a test was skipped, the reason was not printed.
    This fixes it.  In coreutils, this variable is set in init.cfg,
    but there is no point in putting the definition so far from the
    code that chooses the file descriptor number in tests/Makefile.am.
    * tests/Makefile.am (TESTS_ENVIRONMENT) [stderr_fileno_]: Define
    here (to 9), right next to the companion "9>&2".

commit d77f95f8dcbfa6e160d74e07cbd5f7def737975e
Author: Jim Meyering <meyering@fb.com>
Date:   Sat Nov 28 19:29:37 2015 -0800

    build: add gperf to the list of required programs
    
    * bootstrap.conf (buildreq): Add gperf to the list.
    Reported by Stephan Müller in http://debbugs.gnu.org/21945

commit 875ca7183bd4b098f2d8fb71b10553df2d4d2d11
Author: Giuseppe Scrivano <gscrivano@gnu.org>
Date:   Mon Nov 2 19:05:10 2015 +0000

    tests: Add tests for --color and --palette
    
    * tests/colors: New file.
    * tests/Makefile.am (TESTS): Add colors.

commit 0e72de47952beead69e44a4a8c9b4994992ef8ac
Author: Giuseppe Scrivano <gscrivano@gnu.org>
Date:   Mon Nov 2 19:03:32 2015 +0000

    doc: mention --color and --palette in NEWS

commit 04f6d57177fb6c9e7bbcf716c521bc323936a9a5
Author: Giuseppe Scrivano <gscrivano@gnu.org>
Date:   Mon Oct 19 10:29:41 2015 +0200

    diff: add --palette
    
    * bootstrap (gnulib_modules): Add 'argmatch'.
    * doc/diffutils.texi: Add documentation for --palette
    * src/diff.h (set_color_palette): New prototype.
    * src/diff.c (set_color_palette): New function.
    (color_palette): New variable.
    * src/utils.c: Include "argmatch.h".
    (struct bin_str): New struct.
    (struct color_ext_type): New struct.
    (color_indicator): New array.
    (indicator_name): New array.
    (indicator_no): New enum.
    (parse_state): New enum.
    (put_indicator): New function.
    (get_funky_string): New function. Copied from coreutils ls.
    (parse_diff_color):  New function. Copied from coreutils ls
    "parse_ls_color" function.
    (set_color_context): Use put_indicator instead of directly
    outputting the sequence.
    * po/POTFILES.in: Add 'lib/argmatch.c'

commit c0fa19fe92da71404f809aafb5f51cfd99b1bee2
Author: Giuseppe Scrivano <gscrivano@gnu.org>
Date:   Sun Mar 8 22:45:11 2015 +0100

    diff: add support for --color
    
    * doc/diffutils.texi (diff Options): Add documentation for --color.
    Copied from coreutils ls --color.
    * src/context.c (pr_unidiff_hunk): Set the color context.
    (print_context_header): Likewise.
    (pr_context_hunk): Likewise.
    * src/diff.h (enum colors_style): New enum to record when to use colors.
    (colors_style): New variable to memorize the argument value.
    (set_color_context): Add function definition.
    * src/diff.c: : Define COLOR_OPTION.
    (specify_colors_style): New function.
    (longopts): Add --color.
    (main): Handle --color argument.
    (option_help_msgid): Add usage string for --color.
    * src/normal.c (print_normal_hunk): Set the color context.
    * src/side.c (print_1sdiff_line): Likewise.
    * src/util.c (print_1_line_nl): New function.
    (print_1_line): Make it a wrapper of 'print_1_line_nl'.
    (colors_enabled): New boolean variable.
    (begin_output): Call check_color_output once the output file is
    configured.
    (output_1_line): Periodically call `process_signals'.
    (caught_signals): New sigset_t.
    (colors_enabled): New boolean variable.
    (interrupt_signal): New sig_atomic_t.
    (stop_signal_count): New sig_atomic_t.
    (check_color_output): New function.
    (install_signal_handlers): Likewise. Copied from coreutils ls.
    (process_signals): Likewise.  Copied from coreutils ls.
    (set_color_context): New function.
    (sighandler): Likewise.  Copied from coreutils ls.
    (stophandler): Likewise.  Copied from coreutils ls.

commit b4efca9de418c0166f0b106fef068a594b4ab483
Author: Andreas Grünbacher <agruen@gnu.org>
Date:   Thu Sep 24 07:36:31 2015 -0700

    diff: Improve help text of option --label
    
    * src/diff.c (option_help_msgid): Improve help text of option --label.

commit 2cd4ff3a5ff52d89b6b992d158f389b757f4faf4
Author: Jim Meyering <meyering@fb.com>
Date:   Mon Aug 31 23:12:43 2015 -0700

    build: correct man-page generation rule
    
    The PATH was set incorrectly, so that the diff used by
    help2man was the one from $PATH, rather than the just-built
    one.
    * man/Makefile.am (bin_dir): New variable, to...
    (dist_man1_MANS): ...prepend ../src to PATH, not just "..".
    Also, add a test to ensure that each $(bin_dir)/$$base is
    executable, so this doesn't happen again.
    In http://debbugs.gnu.org/21023, Rodrigo Valiña
    Gutiérrez reported that diff.1 from the diffutils-3.3 tarball
    contained no description of the then-new --no-dereference option.

commit 5801f8add854c842e8065225d261f459089d7ac8
Author: Jim Meyering <meyering@fb.com>
Date:   Fri Jul 10 09:55:43 2015 -0700

    doc: --no-dereference: improve wording/description
    
    * doc/diffutils.texi (Comparing Directories): Correct grammar.
    (diff Options) [--no-dereference]: Say a little more.

commit 29e8de4885e0d9f2b4fd2ed9acc09d4a41267329
Author: Jim Meyering <meyering@fb.com>
Date:   Thu Jan 1 22:17:39 2015 -0800

    maint: update copyright year ranges to include 2015; update gnulib

commit ec60c3b6d1754ad88ffd7fc2f00b72ae835f9ca8
Author: KO Myung-Hun <komh@chollian.net>
Date:   Tue Jul 15 11:50:53 2014 +0900

    diff: skip test if seek is not possible on OS/2 kLIBC
    
    This fixes the problem that 'diff - file' and 'cat file | diff - file'
    fail due to a seek failure with a message 'diff.exe: -: Invalid seek',
    because seek does not work on stdin and a pipe on OS/2 kLIBC.
    
    * src/io.c (sip): Set skip_test to true if seek is not possible on
    OS/2 kLIBC.

commit ecf6a420586272e618652a33074bc38de75052dc
Author: Jim Meyering <meyering@fb.com>
Date:   Tue Dec 9 06:51:03 2014 -0800

    gnulib: update to latest

commit 3ef90a7e7cc5f318ff7b4e674d717e1cb6dc2d1d
Author: KO Myung-Hun <komh78@gmail.com>
Date:   Tue Dec 9 06:49:25 2014 -0800

    build: double-quote use of $PATH
    
    * man/Makefile.am (dist_man1_MANS): On OS/2, PATH_SEPARATOR is ';',
    but unquoted, that is interpreted as the shell's statement
    terminator.  Quote it.

commit 1fa6140faacb29e44f2d666c74529ed27b0abb5a
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Oct 27 19:53:08 2014 -0700

    diff: fix integer overflow problem with --tabsize
    
    Reported by Tobias Stoeckmann in: http://bugs.gnu.org/18857
    * src/diff.c (main): Don't overflow if INTMAX_MAX / 2 < tabsize.
    * tests/bignum: New file, to test for this bug.
    * tests/Makefile.am (TESTS): Add it.

commit df3af29627a92495a740da13cb8bb0d4fcc1bf84
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Wed Sep 3 16:02:35 2014 -0700

    doc: mention diff -B fix in NEWS

commit d2fd9d4683ef60c259a3b426f71cef1b89ff383d
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Wed Sep 3 15:58:03 2014 -0700

    diff: fix bug with diff -B and incomplete lines
    
    Reported by Navin Kabra via Eric Blake in:
    http://bugs.gnu.org/18402
    * src/util.c (analyze_hunk): Don't mishandle incomplete
    lines at end of file.
    * tests/no-newline-at-eof: Test for the bug.

commit 7bdd6479ce43d6b45803fd0bc4b363370975ceab
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Wed Sep 3 15:25:21 2014 -0700

    diff: fix performance bug with prefix computation
    
    * src/io.c (find_identical_ends): Fix performance bug:
    the test for when the prefix was needed messed up by
    the 2002-02-28 integer-overflow fixes, causing performance to be
    worse than it needed to be.

commit b6e691277288c4e8d53b1d2577137d265008d13e
Author: Jim Meyering <meyering@fb.com>
Date:   Sat Aug 23 14:10:20 2014 -0700

    gnulib: update to latest, as well as bootstrap

commit cfcba8735034e5aa4dae7fa4b3290ef25b0c3c52
Author: Jim Meyering <meyering@fb.com>
Date:   Sun Jun 8 19:10:24 2014 -0700

    maint: update copyright year range in texinfo documentation
    
    * doc/diffutils.texi: Update copyright.

commit 667864f2844c417090149b7948052fbd757d3b48
Author: Jim Meyering <meyering@fb.com>
Date:   Mon Dec 23 07:06:41 2013 -0800

    maint: update bug-reporting address
    
    * README: Change bug-gnu-utils@... to bug-diffutils@gnu.org.
    * doc/diffutils.texi: Likewise.
    Reported by Jamie Landeg Jones.

commit f6f1b1b49c5dc1c8265f457012cdd78fe71ad4f5
Author: Paul Eggert <eggert@penguin.cs.ucla.edu>
Date:   Wed Mar 26 11:12:12 2014 -0700

    diff: fix two "..." typos in --help output
    
    * src/diff.c (option_help_msgid): Remove two "..." typos (Bug#17102).

commit fee3cad6b7e039e7bba524c3264f368af69396cd
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Mar 25 17:55:26 2014 -0700

    doc: improve documentation about reading and stdin
    
    See Bug#17075.
    * doc/diffutils.texi (Comparison): Say that files need not be read.
    (Invoking diff): Remove confusing remark about 'diff - -'.
    It's not that useful, and it's not portable anyway.

commit ed8975e7de513e0edaf77ea3f15dcce3f39b8d97
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Feb 24 21:56:21 2014 -0800

    diff, sdiff: minor integer overflow fixes
    
    * src/context.c (find_hunk):
    Simplify, now that 2 * context + 1 cannot overflow.
    * src/diff.c (main):
    * src/sdiff.c (interact):
    Don't rely on undefined behavior on signed integer overflow.
    * src/diff.c (main): Don't let contexts exceed CONTEXT_MAX.
    * src/system.h (CONTEXT_MAX): New macro.

commit c26334b7df5a10a70447d762711380c693fdc2a7
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Feb 24 21:38:02 2014 -0800

    diff: fix bug with -I and overlapping hunks
    
    Problem reported by Vincent Lefevre in <http://bugs.gnu.org/16864>.
    * src/context.c (find_hunk): Threshold is CONTEXT only if
    the second change is ignorable.
    * tests/ignore-matching-lines: New test.
    * tests/Makefile.am (TESTS): Add it.

commit 9b48bf3d3ed002e32fad5de5f539745bc861a104
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Feb 23 22:49:27 2014 -0800

    diff: remove TOO_EXPENSIVE heuristic
    
    Problem reported by Vincent Lefevre in <http://bugs.gnu.org/16848>.
    The simplest solution is to remove the TOO_EXPENSIVE heuristic
    that I added to GNU diff in 1993.  Although appropriate for
    circa-1993 hardware, these days the heuristic seems to be more
    trouble than it's worth.
    * NEWS: Document this.
    * doc/diffutils.texi (Overview): Modernize citations.
    Remove mention of TOO_EXPENSIVE heuristic.
    * src/analyze.c (diff_2_files): Adjust to TOO_EXPENSIVE-related
    API changes in gnulib's diffseq module.

commit bc51e4bcb4a843998c3cd89f8c2ba00e73bb5381
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Feb 23 16:23:17 2014 -0800

    build: update gnulib submodule to latest

commit bc4b4b2bbf699267bab167af0484336780791953
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Jan 31 17:15:26 2014 -0800

    diff: exit with status 1, not 2, when binary files differ
    
    Problem reported by Vincent Lefevre in <http://bugs.gnu.org/16608>.
    * NEWS:
    * doc/diffutils.texi (Binary, Invoking diff): Document this.
    * src/analyze.c (briefly_report): Return void, not int.
    All uses changed.  Do not futz with exit status.  Simplify.
    * tests/binary: Adjust to match new behavior.

commit 1875453ee6e1021d67c6856c46e7024bcecdbea8
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Sep 26 12:20:00 2013 -0700

    build: omit -Wsuggest-attribute=pure for lib
    
    * configure.ac (WARN_CFLAGS): Omit -Wsuggest-attribute=pure
    when compiling the lib subdirectory.  Reported for Fedora 19
    by Eric Blake in <http://bugs.gnu.org/15463>.

commit 59f4ef95f8a9c0583d1560ef447eab9d44e32cd1
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Aug 22 15:45:56 2013 -0700

    cmp, diff, sdiff: tune by using rawmemchr
    
    On my platform (AMD Phenom II X4 910e, Fedora 17 x86-64), this sped up
    'cmp -n 8GiB /dev/full /dev/zero' by a factor of 3.8, and
    'cmp -sn 8GiB /dev/full /dev/zero' by a factor of 1.8.
    * bootstrap.conf (gnulib_modules): Add rawmemchr.
    * src/cmp.c (cmp): Optimize the common case where buffers are the same,
    by using count_newlines rather than block_compare_and_count.
    (block_compare_and_count): Remove.
    (count_newlines): New function.
    * src/cmp.c (count_newlines):
    * src/io.c (prepare_text):
    * src/sdiff.c (lf_copy, lf_skip, lf_snarf):
    Use rawmemchr instead of memchr, for speed.

commit 9350980d5dd0d922845bcbb225207a775cf40697
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Aug 12 16:24:01 2013 -0700

    cmp: tune 'cmp a b' for GCC x86
    
    Performance problem reported by David Balažic in:
    http://lists.gnu.org/archive/html/bug-diffutils/2013-08/msg00013.html
    * src/system.h (word): Make it size_t, not uintmax_t.
    This sped up plain cmp 90% on my tests (GCC 4.8.1, x86).

commit 8f248489ebcc39c9e553f749c90b4bbdf19eb5bd
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Jul 6 17:41:19 2013 -0700

    build: update gnulib submodule to latest

commit d1d1df8e369b0f31e5e6f2784dbfa35d7ddc3647
Author: Stefano Lattarini <stefano.lattarini@gmail.com>
Date:   Fri May 3 12:10:32 2013 +0200

    build: enable 'subdir-objects' automake option
    
    The future major Automake version (2.0, ETA at least one year from now)
    might enable that option unconditionally, so better get prepared in due
    time.
    
    * configure.ac (AM_INIT_AUTOMAKE): Adjust.
    (AM_PROG_CC_C_O): New, required by Automake up to 1.13.x when the
    'subdir-objects' is in use.

commit 1280234016e4eece403b72fc69f53e13044df5ef
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Apr 28 20:48:44 2013 -0700

    build: update gnulib submodule to latest

commit 4825b8d70cff23f6ebe0dfa0ab181bc8401007a5
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Wed Apr 3 08:20:31 2013 -0700

    diff: fix bug with Asian file names
    
    Problem reported by Errembault Philippe in:
    http://lists.gnu.org/archive/html/bug-diffutils/2013-03/msg00012.html
    * NEWS: Document this.
    * src/dir.c (compare_names): Fall back on file_name_cmp if
    compare_collated returns 0, unless ignoring file name case.
    (diff_dirs): Don't bother with the O(N**2) stuff unless ignoring
    file name case.
    * tests/Makefile.am (TESTS): Add strcoll-0-names.
    * tests/strcoll-0-names: New file.

commit 885dfcec001ba7712257e371c4af61914c64133b
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Wed Apr 3 07:51:33 2013 -0700

    diff: remove unnecessary decl
    
    * src/dir.c (compare_names_for_qsort): Remove declaration.
    Not needed now that we assume C89.

commit 085417c79b05afc72ef9d0333a5846da53826a8c
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Wed Apr 3 07:48:22 2013 -0700

    diff: tune compare_names_for_qsort
    
    * src/dir.c (compare_collated): New function.
    (compare_names): Use it.
    (compare_names_for_qsort): Use it.  This is a bit more efficient
    as it can avoid a double invocation of file_name_cmp when
    file_name_cmp returns zero.

commit 417363e4ce3e0195b539a4170ff0cda91400dbc8
Author: Jim Meyering <meyering@fb.com>
Date:   Sat Mar 30 12:50:27 2013 -0700

    doc: mention new option, --no-dereference in 3.3's NEWS
    
    * NEWS (New feeatures): Update 3.3's news to mention --no-dereference.
    Reported by Denis Excoffier.
    * Makefile.am (old_NEWS_hash): Update, since this modifies old, and
    normally-immutable NEWS.

commit 283d1b9528e193ac25018b542665ac5c0e53811f
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Mar 26 11:39:06 2013 -0700

    tests: port to Solaris 10 /bin/sh
    
    * tests/Makefile.am (TESTS_ENVIRONMENT):
    Use "FOO=val; export FOO" rather than "export FOO=val",
    as the latter form doesn't work with Solaris /bin/sh.
    Problem found when trying to run "make check" on Solaris 10.

commit 36671926115bb6cd29876470afbd85cdda33b443
Author: Jim Meyering <meyering@fb.com>
Date:   Sun Mar 24 11:09:13 2013 -0700

    maint: post-release administrivia
    
    * NEWS: Add header line for next release.
    * .prev-version: Record previous version.
    * cfg.mk (old_NEWS_hash): Auto-update.

commit 4544aa68fda5404835d1e0bfbfda8467d7e0d4a5
Author: Jim Meyering <meyering@fb.com>
Date:   Sun Mar 24 11:00:34 2013 -0700

    version 3.3
    
    * NEWS: Record release date.

commit 6e68271b694fd8fd75459f613861f66ae7b9573b
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Mar 23 00:26:09 2013 -0700

    doc: fix menu typo
    
    * doc/diffutils.texi (Comparing Three Files): Fix out-of-order menu.
    Bug caught by Texinfo 5.0.

commit 0c22f56ed7990cf02cbd2ade738944dd5ea8afd5
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Mar 23 00:21:45 2013 -0700

    maint: update build procedure to recent gettext etc.
    
    * bootstrap.conf (gnulib_modules): Add vararrays.
    (needed_gnulib_files, unnecessary_gettext_files): New vars.
    (bootstrap_post_import_hook): New function, to implement these vars.
    (excluded_files): Remove; 'bootstrap' no longer supports this.
    Its function is now performed by unnecessary_gettext_files.
    (buildreq): Update automake to 1.12.2, to avoid CVE-2012-3386.
    * configure.ac (AM_GNU_GETTEXT_VERSION): Bump from 0.17 to 0.18.2,
    to lessen the probability that we'll have outlandishly old files
    during a build.
    * m4/vararrays.m4: Remove from repository, as we now use the
    gnulib version.

commit 90fd310a7865bf4ae695aaab0f21a9ab71f849f8
Author: Jim Meyering <jim@meyering.net>
Date:   Fri Mar 22 04:39:25 2013 +0100

    build: update gnulib to latest and adapt; update bootstrap, too
    
    Blindly updating to the latest from gnulib, bootstrap would
    fail due to failure of our local patches to apply.  Hence,
    these first two updates.
    * gl/lib/regex_internal.c.diff: Update offsets, so this patch
    applies to the latest from gnulib.
    * gl/lib/regex_internal.h.diff: Remove file.  No longer needed.
    * bootstrap: Update from gnulib.

commit b2f1e4bc555073d43b664c4389569a195ff040e3
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Jan 6 08:30:39 2013 -0800

    tests: port to hosts lacking fmt, make -C
    
    * tests/Makefile.am (built_programs): Don't assume fmt works.
    Don't rely on 'make -C', either.

commit 118d732ab2f414f9964377b4663598fa4a3ac3a6
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Jan 6 08:25:05 2013 -0800

    maint: update .gitignore for recent gnulib
    
    * .gitignore: Add tests/*.trs and several *.h and *.sed files in lib,

commit 45716f1cabffe46278c22b91a6399d7970639fef
Author: Jim Meyering <jim@meyering.net>
Date:   Fri Jan 4 11:19:17 2013 +0100

    build: update gnulib submodule to latest

commit a0483cb2fc67ce559033a28e98b310e8ceaa9fd0
Author: Jim Meyering <jim@meyering.net>
Date:   Fri Jan 4 11:13:02 2013 +0100

    maint: update all copyright year number ranges
    
    Run "make update-copyright".

commit 01d92dba155d9ad87eaf0378876e0c67285c2075
Author: Eric Blake <eblake@redhat.com>
Date:   Tue Oct 23 11:06:48 2012 +0200

    build: default to --enable-gcc-warnings in a git tree
    
    Anyone building from cloned sources can be assumed to have a new
    enough environment, such that enabling gcc warnings by default will
    be useful.  Tarballs still default to no warnings, and the default
    can still be overridden with --disable-gcc-warnings.
    * configure.ac (gl_gcc_warnings): Set default based on environment.

commit 42f6244ee028dfbc535934e21028e6aa582256e7
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Wed Oct 3 21:57:21 2012 -0700

    * doc/diffutils.texi (cmp Options): Document -l format better.

commit 221383bcb1f9de839727b6ffd1b5a2b725314779
Author: Jim Meyering <meyering@redhat.com>
Date:   Mon Sep 10 12:18:59 2012 +0200

    maint: use xasprintf in place of xmalloc+sprintf
    
    * bootstrap.conf (gnulib_modules): Add gnulib's xvasprintf module.
    * src/util.c: Include "xvasprintf.h".
    (begin_output): Use xasprintf in place of xmalloc+sprintf.

commit e17295dc5529b252c269f12e081184bbde42d575
Author: Andreas Gruenbacher <agruen@gnu.org>
Date:   Tue Aug 14 00:30:46 2012 +0200

    diff: encode file names with special characters
    
    * src/util.c (c_escape_char): New function.
    (c_escape): New function.
    (begin_output): Escape file names when needed.
    * src/context.c (print_context_header): New names parameter.
    (print_context_label): New name parameter.
    * src/diff.h (print_context_header): Change prototype.
    * tests/filename-quoting: New file.
    * NEWS: Document this change.

commit baeaa83e31da3a1a36d2a1f76140b67ff76859fe
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Aug 30 07:52:22 2012 -0700

    diff: silence GCC warning instead of slowing down
    
    * src/dir.c (find_dir_file_pathname): Use 'IF_LINT (volatile)' to
    silence the gcc warning, rather than using 'volatile', as the
    warning appears to be bogus.

commit f6ac439e484731a8a910bcd91e45039a3fa39c59
Author: Jim Meyering <meyering@redhat.com>
Date:   Tue Aug 28 09:39:53 2012 +0200

    diff: avoid possible longjmp-triggered misbehavior
    
    * src/dir.c (find_dir_file_pathname): gcc 4.8.0 20120825 reported
    that a local variable's value might be clobbered.  Declare "match"
    to be volatile.

commit 6c273a4db62c4f7b0667545c31a5ad24b913598a
Author: Jim Meyering <meyering@redhat.com>
Date:   Tue Aug 28 08:47:27 2012 +0200

    build: update gnulib, bootstrap and init.sh to latest

commit 5cb0eea638e5db4de66bcf99d9ce4f6fd974e04e
Author: Jim Meyering <meyering@redhat.com>
Date:   Tue Aug 28 10:58:48 2012 +0200

    maint: avoid new syntax-check failure due to @xref use
    
    * doc/diffutils.texi: Change several "; @xref{..." to ".  @xref{...",
    since @xref should start a sentence.

commit 1f281b36801627601f8a92f26e8ac6a0a7e36526
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue May 15 14:01:53 2012 -0700

    maint: remove ms subdirectory
    
    diffutils is now designed to build with Cygwin or MinGW.
    The old DJGPP stuff probably doesn't work anyway.
    * Makefile.am (SUBDIRS): Remove ms.
    * NEWS: Document this.
    * configure.ac (AC_CONFIG_FILES): Remove ms/Makefile.
    * ms/Makefile.am, ms/README, ms/config.bat, ms/config.sed:
    * ms/config.site: Remove.

commit bca6d67e3f92b9c358e96098d7cd9b841dc16604
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon May 14 23:24:49 2012 -0700

    maint: update bootstrap from gnulib
    
    * bootstrap: Update from gnulib.

commit 3549f733b9cd2c7fd5dd1e4a273151e2da01a00b
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon May 14 23:07:13 2012 -0700

    main: port subcommands to mingw
    
    Problem reported by Eli Zaretskii in
    <http://lists.gnu.org/archive/html/bug-gnu-utils/2012-05/msg00013.html>.
    Approach suggested by Bruno Haible as option (4) in
    <http://lists.gnu.org/archive/html/bug-gnu-utils/2012-05/msg00036.html>.
    * bootstrap.conf (gnulib_modules): Add system-quote.
    * src/diff3.c, src/sdiff.c, src/util.c:
    Include <system-quote.h>, not <sh-quote.h>.
    * src/diff3.c (read_diff):
    * src/sdiff.c (main, edit):
    * src/util.c (begin_output):
    Use system_quote_argv, for portability to Mingw.
    * src/sdiff.c (NUM_SIGS, handler_index_of_SIGINT): Now enum
    values, not macros; this is cleaner and avoids a GCC warning if
    !HAVE_WORKING_VFORK.
    * src/util.c (begin_output) [! HAVE_WORKING_FORK]: Do not use -f,
    for consistency with the HAVE_WORKING_FORK code.

commit de512b8345de9d501b21a5c1bc446e28d50ebf8c
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon May 14 22:13:21 2012 -0700

    maint: update bootstrap from gnulib
    
    * bootstrap: Update from gnulib.

commit 98985d32063135ab0e584fafb6e9edcf45869ec9
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon May 14 22:12:21 2012 -0700

    maint: m4/gnulib-cache.m4 is not under version control
    
    This is like what coreutils does, and suppresses 'git status' chatter.
    * .gitignore: Add /m4/gnulib-cache.m4.

commit e537e2c86632dca0ba3abe2b6e2d7d7cac189b2c
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun May 13 19:30:56 2012 -0700

    Use binary mode when testing for binary files.
    
    This reverts the 2006-01-05 change and modernizes to the current API.
    Idea suggested by Eli Zaretskii in:
    http://lists.gnu.org/archive/html/bug-gnu-utils/2012-05/msg00066.html
    * src/cmp.c (main):
    * src/diff.c (main, compare_files):
    Use set_binary_mode rather than SET_BINARY.
    * src/diff.c (compare_files): Omit unnecessary use of O_BINARY.
    * src/io.c (sip): Sample unknown files in binary mode, to see
    whether they are binary.
    (read_files): Read binary files in binary mode.

commit aa7a1de25ab798fc7c45a68df41556b1f9f17fb2
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon May 14 10:10:21 2012 -0700

    build: update gnulib submodule to latest

commit 5f295d6115179216d13b78a768c97e873f493da9
Author: Stefano Lattarini <stefano.lattarini@gmail.com>
Date:   Sun May 13 19:46:30 2012 -0700

    build: omit obsolete AM_PROG_CC_STDC macro
    
    The Automake-provided macro 'AM_PROG_CC_STDC' has been superseded by
    the Autoconf-provided one 'AC_PROG_CC' since October 2002, and will
    be removed in the next major automake version.
    * configure.ac (AM_PROG_CC_STDC): Drop it.

commit 3c19ca08b1cf7aaaae72393073affaa082928ae4
Author: Jim Meyering <meyering@redhat.com>
Date:   Sat May 5 15:51:25 2012 +0200

    diff: fix a typo that was always disabling the same_special_file macro
    
    * src/system.h (same_special_file): Correct cpp guard expression:
    s/HAVE_ST_RDEV/HAVE_STRUCT_STAT_ST_RDEV/.  Reported by Eli Zaretskii.

commit 6cb7786fd85a503bfcbe8f28dd34a92902736825
Author: Jim Meyering <meyering@redhat.com>
Date:   Thu Jan 26 12:25:27 2012 +0100

    maint: update bootstrap from gnulib
    
    * bootstrap: Update from gnulib.

commit 2f108d7405ab121ebbec88ee9865bac8657f7218
Author: Eric Blake <eblake@redhat.com>
Date:   Wed Mar 7 09:13:10 2012 -0700

    usage: improve wording of --ignore-matching-lines
    
    * src/diff.c (option_help_msgid): Tweak wording.

commit c7560370da8ff0d7b48b75989b8f46cb619fbfd8
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Mar 4 13:19:55 2012 -0800

    doc: explain -I RE better in --help output
    
    * src/diff.c, src/sdiff.c (option_help_msgid): For -I RE,
    change "whose lines all match" to "all whose lines match" to avoid
    unintended interpretation.  Reported by Danijel Tasov in
    <http://bugs.debian.org/648411>.

commit b2892140d83cbc05881440a2fdbc13bb24b6cd76
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Feb 12 13:08:26 2012 -0800

    sdiff: remove dependency on sigprocmask
    
    * bootstrap.conf (gnulib_modules): Remove sigprocmask.
    * src/sdiff.c (temporary_file): No need to invoke sigprocmask
    here, since the signal handler merely sets a flag.

commit 7f2f4bb36593c0d2ed3284b3b8be2951fa6d5008
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Feb 4 22:10:40 2012 -0800

    diff: -N, --unidirectional-new-file now compare to "-" too
    
    * NEWS: Document this.
    * doc/diffutils.texi (Comparing Directories): Likewise.
    Also, document that these options work at the top level.
    * src/diff.c (compare_files): Treat EBADF like ENOENT, to handle
    the case where "-" is closed.  Allow the other file to be
    STDIN_FILENO, in case it's "-".
    * tests/Makefile.am (TESTS): Add new-file.
    * tests/new-file: New file.

commit 62ca21c8c1a5aa3488589dcb191a4ef04ae9ed4f
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Wed Jan 25 23:46:16 2012 -0800

    maint: quote 'like this' or "like this", not `like this'
    
    This is in response to a recent change in the GNU coding standards,
    which now suggest quoting 'like this' or "like this", instead of
    `like this' or ``like this''.
    * HACKING, NEWS, README, README-hacking, TODO, doc/diagmeet.note:
    * doc/diffutils.texi, ms/config.bat, ms/config.site:
    * src/analyze.c, src/cmp.c, src/context.c, src/diff.c:
    * src/diff.h, src/diff3.c, src/dir.c, src/ifdef.c, src/io.c:
    * src/sdiff.c, src/side.c, src/system.h, src/util.c:
    * tests/help-version:
    Quote 'like this' or "like this" in commentary.
    * cfg.mk (old_NEWS_hash): Adjust to reflect new NEWS quoting.
    * man/help2man: Update to 1.40.4 version, with quoting fixed as above.
    * po/en.po: Remove translation involving `, as it's no longer needed.
    * src/cmp.c (try_help, specify_ignore_initial, usage, main):
    * src/diff.c (main, try_help, option_help_msgid, specify_value)
    (compare_files):
    * src/diff3.c (main, try_help, option_help_msgid, usage)
    (read_diff):
    * src/dir.c (compare_names):
    * src/sdiff.c (try_help, usage, check_child_status, main):
    * src/util.c (finish_output):
    * tests/help-version:
    Quote 'like this' in output.

commit 70eafb8038cb866ca62ef96ff4dda217d408ce7e
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Wed Jan 25 16:11:46 2012 -0800

    build: update gnulib submodule to latest

commit 301a23cdbba22ad208e4014d277eb8eb600d2d0e
Author: Jim Meyering <meyering@redhat.com>
Date:   Thu Jan 12 13:57:05 2012 +0100

    build: accommodate newer bootstrap from gnulib
    
    * bootstrap.conf (gnulib_tool_option_extras): Add both --symlink
    and --makefile-name=gnulib.mk.  Also remove now-obsolete $bt/ prefix.
    * bootstrap: Update from gnulib.
    * tests/init.sh: Update from gnulib.
    * lib/Makefile.am: Initialize numerous variables, so that
    generated code in gnulib.mk may use += to append to them.

commit 6e51ccfb4eccfdb6672e69c982723f633fb0f099
Author: Jim Meyering <meyering@redhat.com>
Date:   Thu Jan 12 14:04:17 2012 +0100

    maint: avoid new syntax-check failure
    
    * src/diff.c (compare_files): Use STREQ, not strcmp.

commit e3324651cc1f9f116754a4713e08bfb0bac50150
Author: Bruno Haible <bruno@clisp.org>
Date:   Sat Jan 7 00:57:29 2012 +0100

    New option --no-dereference.
    
    * src/diff.h (no_dereference_symlinks): New variable.
    * src/diff.c: Include xreadlink.h.
    (longopts): Add --no-dereference option.
    (main): Accept --no-dereference option.
    (option_help_msgid): Mention the --no-dereference option.
    (compare_files): If no_dereference_symlinks is true, use lstat()
    instead of stat(). Compare symbolic links by comparing their values.
    * bootstrap.conf (gnulib_modules): Add lstat, stat, xreadlink.
    * doc/diffutils.texi (Comparing Directories, diff Options): Mention the
    --no-dereference option.
    * tests/no-dereference: New file.
    * tests/Makefile.am (TESTS): Add it.

commit 45110a7927df633cb3235d4fee3d84b0b6d26a96
Author: Jim Meyering <meyering@redhat.com>
Date:   Sun Jan 1 09:32:41 2012 +0100

    maint: update all copyright year number ranges
    
    Run "make update-copyright".

commit c88c3b6b2ae94bf5d72a04dd4fb797cb386fcb07
Author: Jim Meyering <meyering@redhat.com>
Date:   Wed Dec 14 14:28:47 2011 +0100

    build: update to latest gnulib and adapt
    
    * tests/binary: Reverse arguments to compare to avoid failure of
    new syntax-check rule.
    * configure.ac: Use -Wno-format-nonliteral.
    Mark functions as pure of const, per recommendations enabled by
    new gcc -W options.  Use _GL_ATTRIBUTE_PURE and _GL_ATTRIBUTE_CONST.
    * lib/cmpbuf.h (buffer_lcm, block_compare):
    Apply pure and/or const attributes.
    * src/cmp.c (block_compare): Likewise.
    * src/context.c (find_hunk): Likewise.
    * src/diff.h (lines_differ): Likewise.
    * src/diff3.c (skipwhite): Likewise.
    * src/dir.c (dir_loop): Likewise.
    * src/util.c (find_change, find_reverse_change): Likewise.
    (translate_line_number): Likewise.

commit 439286a937c2ae02374e0389ed2ccd91240a8bd8
Author: Jim Meyering <meyering@redhat.com>
Date:   Wed Dec 14 14:27:28 2011 +0100

    build: stop distributing gzip'd releases;  xz is enough
    
    * configure.ac (AM_INIT_AUTOMAKE): Add no-dist-gzip.

commit 31b43733d40d0a919e0af013f48e271f5824200e
Author: Jim Meyering <meyering@redhat.com>
Date:   Tue Nov 29 17:11:59 2011 +0100

    tests: use "compare exp out", not "compare out exp"
    
    Likewise, when an empty file is expected, use "compare /dev/null out",
    not "compare out /dev/null". I.e., specify the expected/desired contents
    via the first file name.  Prompted by a suggestion from Bruno Haible
    in http://thread.gmane.org/gmane.comp.gnu.grep.bugs/4020/focus=29154
    
    Run these commands:
    
      git grep -l -E 'compare [^ ]+ exp' \
        |xargs perl -pi -e 's/\b(compare) (\S+) (exp\S*)/$1 $3 $2/'
      git grep -l -E 'compare [^ ]+ /dev/null' \
        |xargs perl -pi -e 's,\b(compare) (\S+) (/dev/null),$1 $3 $2,'
    
    But manually convert this one:
    
      -compare out exp-$(echo $opt|tr ' ' _)
      +compare exp-$(echo $opt|tr ' ' _) out
    
    and avoid an inappropriate change to cfg.mk.

commit 5e2baecb26cede9f42456da9593bd0f15af823bb
Author: Stefano Lattarini <stefano.lattarini@gmail.com>
Date:   Wed Oct 12 11:11:23 2011 +0200

    tests: use more portable fd redirection in TESTS_ENVIRONMENT
    
    * tests/Makefile.am (TESTS_ENVIRONMENT): Redirection with `exec 9>&2'
    is not portable to various Korn shells, and to (at least) HP-UX 11
    /bin/sh.  Use a more portable idiom.
    See http://thread.gmane.org/gmane.comp.gnu.coreutils.bugs/22488 for
    lots of discussion.

commit 366adeb73d80cbe8ed4b730c46ed7864cf10eb73
Author: Stefano Lattarini <stefano.lattarini@gmail.com>
Date:   Mon Oct 10 20:30:21 2011 +0200

    tests: make test runner a script, not a shell function
    
    All the test scripts in the diffutils testsuite are shell scripts,
    so the current definition of TESTS_ENVIRONMENT, which adaptively
    run tests using either perl or the shell depending on their kind,
    is an overkill.
    
    Moreover, this change is required in order for the testsuite to
    continue to work with the new testsuite harness that is planned
    to be introduced in Automake 1.12 (which, as of the writing date,
    is still under development and in late alpha state).
    
    See also related discussion on bug-coreutils:
     <http://debbugs.gnu.org/cgi/bugreport.cgi?bug=8887>
    
    * tests/Makefile.am (TESTS_ENVIRONMENT): Remove definition of the
    `shell_or_perl_' shell function, which is not required anymore.
    (LOG_COMPILER): New, define to `$(SHELL)'.
    * tests/binary: Make executable.
    * tests/colliding-file-names: Likewise.
    * tests/excess-slash: Likewise.
    * tests/no-newline-at-eof: Likewise.

commit 7508234eabe646abcea074baea83612f8115d3b9
Author: Claudio Bley <claudio.bley@gmail.com>
Date:   Sun Sep 4 18:01:57 2011 +0200

    portability: use SET_BINARY rather than xfreopen (NULL, ...
    
    * src/diff.c: Include binary-io.h, not xfreopen.h.
    (main): Use SET_BINARY (...) rather than xfreopen (NULL, X, ...),
    because the latter doesn't work on MinGW and crashes using MSVC.
    * src/cmp.c (main): Likewise.

commit 11ef88af927a4591aa54bc86814c0ed11b6025be
Author: Jim Meyering <meyering@redhat.com>
Date:   Tue Oct 4 13:40:21 2011 +0200

    build: update gnulib submodule to latest

commit 57a09576e8d344c2e694ece0fc3335ca8e058edd
Author: Jim Meyering <meyering@redhat.com>
Date:   Fri Sep 2 17:21:07 2011 +0200

    post-release administrivia
    
    * NEWS: Add header line for next release.
    * .prev-version: Record previous version.
    * cfg.mk (old_NEWS_hash): Auto-update.

commit 8f14bb909569036fe580cd639df08225f5f4e93c
Author: Jim Meyering <meyering@redhat.com>
Date:   Fri Sep 2 17:18:34 2011 +0200

    version 3.2
    
    * NEWS: Record release date.

commit e2ed9d279b1a9933a4225a1c952aa5c9d50b4c69
Author: Jim Meyering <meyering@redhat.com>
Date:   Fri Sep 2 14:16:04 2011 +0200

    build: update bootstrap and tests/init.sh from gnulib
    
    * bootstrap: Update from gnulib.
    * tests/init.sh: Likewise.

commit 783eca9655c2bdcae547b290909493c0a16bf598
Author: Jim Meyering <meyering@redhat.com>
Date:   Fri Sep 2 00:36:24 2011 +0200

    build: update gnulib submodule to latest

commit 77bcc326cc252e8c4b453000a0174320dc565cd7
Author: Jim Meyering <meyering@redhat.com>
Date:   Thu Sep 1 10:13:26 2011 +0200

    doc: diffutils' texi-derived doc may now be in debian's "main" section
    
    * NEWS (Packaging): Mention the "no front/back-cover" change.

commit 320355d6d4a7cbaf15a34341131e506fff8e41c2
Author: Jim Meyering <meyering@redhat.com>
Date:   Mon Aug 15 07:27:14 2011 +0200

    maint: avoid new "make sytnax-check" failure.
    
    * src/diff.h (find_dir_file_pathname): Mark declaration with "extern"
    keyword, in order to placate the tight-scope syntax check.

commit 8739d45f721feb3d05d75f5ca0afda4bacea635b
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Aug 14 22:08:16 2011 -0700

    * src/io.c (find_and_hash_each_line): Refactor for brevity.

commit 86a40dd6acc84e5633d2fc6b45f9193fe01b23f8
Author: Roland McGrath <roland@hack.frob.com>
Date:   Sun Aug 14 14:37:01 2011 -0700

    diff, sdiff: new option --ignore-trailing-space (-Z)
    
    Derived from Roland McGrath's patch (dated June 2004!) in:
    http://lists.gnu.org/archive/html/bug-gnu-utils/2004-07/msg00000.html
    * NEWS:
    * doc/diffutils.texi (White Space, Blank Lines)
    (sdiff Option Summary, diff Options, sdiff Options): Document -Z.
    * src/diff.h (IGNORE_TRAILING_SPACE)
    (IGNORE_TAB_EXPANSION_AND_TRAILING_SPACE): New constants, for -Z.
    * src/diff.c (shortopts, longopts, main, option_help_msgid):
    * src/sdiff.c (longopts, option_help_msgid, main):
    * src/io.c (find_and_hash_each_line):
    * src/util.c (lines_differ, analyze_hunk): Support -Z.

commit efb0557f4cd63628957880ffbf63702b604e0ae2
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Aug 13 15:11:19 2011 -0700

    * bootstrap.conf (gnulib_modules): Remove timegm.
    
    This fixes a problem noted by Andreas Schwab in:
    http://lists.gnu.org/archive/html/bug-diffutils/2011-08/msg00035.html

commit 70febebfe5215674079dc1c65ad966f5e404d2a8
Author: Tim Waugh <twaugh@redhat.com>
Date:   Sat Aug 13 13:16:32 2011 -0700

    diff: --ignore-file-name-case now applies at top level too
    
    Derived from Tim Waugh's patch in:
    http://lists.gnu.org/archive/html/bug-diffutils/2011-08/msg00034.html
    * NEWS, doc/diffutils.texi (diff Options): Document this.
    * src/diff.c (compare_files): Implement this, by using
    find_dir_file_pathname.
    * src/diff.h (find_dir_file_pathname): New decl.
    * src/dir.c: Include filenamecat.h.
    (find_dir_file_pathname): New function.

commit e3001b775aa8a3e7e30651b0f59d401ac4fe419d
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Aug 13 11:28:57 2011 -0700

    * .gitignore: Add lib/unistr, lib/unused-parameter.h.

commit 1e340def247d7b11fe18da3a959bfeabd93d52b4
Author: Jim Meyering <meyering@redhat.com>
Date:   Wed Aug 10 12:38:04 2011 +0200

    post-release administrivia
    
    * NEWS: Add header line for next release.
    * .prev-version: Record previous version.
    * cfg.mk (old_NEWS_hash): Auto-update.

commit 78524ae4ba5a726844d06b9eb24c6844c84a4c52
Author: Jim Meyering <meyering@redhat.com>
Date:   Wed Aug 10 12:33:36 2011 +0200

    version 3.1
    
    * NEWS: Record release date.

commit 3edb801c061779b8245557f14072e8b5681986f7
Author: Jim Meyering <meyering@redhat.com>
Date:   Wed Aug 10 10:20:06 2011 +0200

    build: use largefile module and update to latest gnulib
    
    * configure.ac: Remove AC_SYS_LARGEFILE, subsumed by ...
    * bootstrap.conf (gnulib_modules): ...this.  Use largefile module.
    * gnulib: Update to latest.

commit 8832cf045d62a4a40e6df948e6cf8b85485653a0
Author: Santiago Vila <sanvila@unex.es>
Date:   Mon Aug 8 17:59:46 2011 +0200

    doc: insert comma in --help line for --ignore-space-change (-b)
    
    * src/diff.c (option_help_msgid): Insert omitted comma between
    "-b" and "--ignore-space-change".  (tiny change)

commit 789252980fa8ef3d804372cd347898aa5c2ec7fe
Author: Jim Meyering <meyering@redhat.com>
Date:   Thu Aug 4 18:59:29 2011 +0200

    doc: relax restriction on front-cover and back-cover texts
    
    * doc/diffutils.texi (copying): Relax restriction on front-cover
    and back-cover texts (just as m4 did here:
    http://git.savannah.gnu.org/cgit/m4.git/commit?id=ee1e92ec).
    Reported by Santiago Vila.  Fix suggested by Eric Blake.

commit c06794dacf66868840ea4818352929eabeec09c2
Author: Jim Meyering <meyering@redhat.com>
Date:   Wed Aug 3 18:07:33 2011 +0200

    tests: update init.sh from gnulib
    
    * tests/init.sh: Update from gnulib.

commit 1ce0b3604b88aa6ba07b7ff5c0201224465307f1
Author: Jim Meyering <meyering@redhat.com>
Date:   Wed Aug 3 14:22:24 2011 +0200

    build: update gnulib submodule to latest

commit 01fc077bbfea22f0759400b45bf6a04b840ee2e4
Author: Jim Meyering <meyering@redhat.com>
Date:   Sun Jul 3 22:44:26 2011 +0200

    maint: remove inclusion of unused header, for "make syntax-check"
    
    * src/diff3.c: Don't include <inttostr.h>.  Not used.
    * src/context.c: Likewise.

commit c8b5b09d1393139ba443e7e239cfa6a9c3e92258
Author: Jim Meyering <meyering@redhat.com>
Date:   Sun Jun 19 17:15:26 2011 +0200

    build: don't require perl when building from a tarball
    
    But do ensure -- in all other circumstances -- that the man/*.1
    files are rebuilt whenever the version number changes.
    * configure.ac (SRC_VERSION_C): Define.
    * man/Makefile.am (dist_man1_MANS): Rename from $(man1_MANS),
    so that we distribute those pesky man/*.1 files.
    (EXTRA_DIST): Reflect name change.
    (MAINTAINERCLEANFILES): Define this, not DISTCLEANFILES,
    now that these generated files are distributed.
    ($(dist_man1_MANS)): Depend on $(SRC_VERSION_C), so we get the
    full dependency when not building from a tarball.

commit e783a23b1944d89405342f5d6a09dba26c192005
Author: Jim Meyering <meyering@redhat.com>
Date:   Mon Jun 13 09:17:26 2011 +0200

    doc: do not distribute generated man/*.1 man files
    
    * man/help2man: New file.
    * man/Makefile.am: Use $(srcdir)/help2man.
    Convert $(dist_man1_MANS) to $(man1_MANS), to tell automake
    not to distribute the generated man/*.1 files.  Now they're
    generated at build-from-tarball time.
    ($(man1_MANS)): Depend on version.c, so that man pages are
    regenerated whenever the version string changes.

commit 7faccb437cb0c08c52ac061db66e9e028bd690a7
Author: Jim Meyering <meyering@redhat.com>
Date:   Sun Jun 12 11:24:57 2011 +0200

    build: ccache works better without embedded version strings
    
    * src/Makefile.am: Generate version.c and version.h and put the
    new symbol in a tiny library to be used by each program.
    (LDADD): Add the new library.
    * src/cmp.c (main): Use Version, not PACKAGE_VERSION, so the .o
    file does not change with each commit-derived version increment.
    * src/diff.c (main): Likewise.
    * src/diff3.c (main): Likewise.
    * src/sdiff.c (main): Likewise.
    * src/system.h: Include "version.h".
    * .gitignore: Add version.[ch]

commit 929cf564727acb17435e98b6d05e9d6453f10808
Author: Jim Meyering <meyering@redhat.com>
Date:   Sun Jun 12 10:14:22 2011 +0200

    doc: ensure each program has a man/*.x file: add "SEE ALSO" references
    
    * man/cmp.x: New file.
    * man/diff3.x: New file.
    * man/sdiff.x: New file.
    * man/diff.x: Add xrefs to the other three programs, and to patch.
    * man/Makefile.am (EXTRA_DIST): List new files.
    (cmp.1, diff3.1, sdiff.1): Depend on each .x file.

commit df0a31f6110b14cce7d1b3fa5a48a38d603a4e12
Author: Jim Meyering <meyering@redhat.com>
Date:   Sat Jun 11 14:06:10 2011 +0200

    doc: rename diff.texi to diffutils.texi
    
    This makes the .texi basename the same as the package name,
    which is consistent with most other GNU packages.
    * doc/diffutils.texi: Rename from...
    * doc/diff.texi: ...removed.
    * doc/Makefile.am (info_TEXINFOS): Reflect name change.
    (diffutils_TEXINFOS): Likewise.
    * cfg.mk (gendocs_options_): Remove this customization.  It is no
    longer needed, now that the .texi name matches that of the package.
    * man/Makefile.am ($(dist_man1_MANS)): Remove now-unnecessary sed
    filter.
    * README: Update references to diffutils.texi etc. here, too.
    * .gitignore: Update here, too.
    Suggested by Karl Berry.

commit a2b10ab0d6f8f11c380fdb1dedd920dfa1359a90
Author: Karl Berry <karl@freefriends.org>
Date:   Wed Jun 8 13:00:23 2011 +0000

    cmp, diff, diff3, sdiff: edit and align --help text.
    
    * cmp.c (option_help_msgid, usage),
    * diff.c (option_help_msgid, usage),
    * diff3.c (option_help_msgid, usage),
    * sdiff.c (option_help_msgid, usage): align descriptions in the --help
    output and slightly edit content.

commit de65c25dc103b7f4b18e0c3116c31ff7fc6d4726
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri May 27 23:38:40 2011 -0700

    diff: don't use locales after local-specific sorting fails
    
    * src/dir.c (compare_names): Don't invoke strcasecmp if
    locale-specific sorting fails, because POSIX.1-2008 says strcasecmp
    has unspecified behavior outside the POSIX locale.  See:
    http://lists.gnu.org/archive/html/bug-diffutils/2011-05/msg00008.html

commit a3318fdbca6002d524f063ab5e98e7e59295d2a2
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri May 27 23:34:08 2011 -0700

    bootstrap: Avoid multithreading.
    
    * bootstrap.conf (gnulib_tool_option_extras):
    Add "--avoid=localename --avoid=lock", because we don't want to
    bring in the multithreading code that recent gnulib changes would
    otherwise bring in.
    (excluded_files): Remove m4/lock.m4; no longer needed, now that
    we use --avoid=lock.

commit 1850ea03ac1d72a4f686143463af22d2377a9f24
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri May 27 21:32:38 2011 -0700

    build: update gnulib submodule to latest

commit 0b7299f98e9ce4e10cc595414e1505f239022e36
Author: Karl Berry <karl@gnu.org>
Date:   Mon May 23 09:41:48 2011 -0700

    maint: update README-hacking
    
    * README-hacking: Update a la coreutils for git, etc.

commit 91d850a78b100bf78c9f77abf38c0369b877f597
Author: Jim Meyering <meyering@redhat.com>
Date:   Mon May 23 19:20:05 2011 +0200

    maint: update gnulib to latest with accompanying tight-scope tweaks
    
    * cfg.mk: Include $(srcdir)/dist-check.mk using "-include",
    to accommodate the new sc_tight_scope rule.
    (_gl_TS_extern): Define, to tell gnulib's tight_scope rule that
    headers here mark externs with "XTERN".
    * gnulib: Update to latest.

commit 39213a3bbcfd86c1629c06507bfc4a761f71dbc7
Author: Jim Meyering <meyering@redhat.com>
Date:   Fri Apr 29 20:04:14 2011 +0200

    maint: use gnulib's new readme-release module
    
    * bootstrap.conf (gnulib_modules): Add readme-release.
    (bootstrap_epilogue): Add the recommended perl one-liner.
    * README-release: Remove file; it is now generated from gnulib.
    * .gitignore: Add it.

commit 167d1e3125e596479dd994ebc29b833e9fd7e825
Author: Jim Meyering <meyering@redhat.com>
Date:   Wed May 18 20:31:36 2011 +0200

    build: update gnulib submodule to latest

commit a531a3cff268a51848b029b3d6ba67b37a8d91ce
Author: Jim Meyering <meyering@redhat.com>
Date:   Sun May 8 22:19:23 2011 +0200

    maint: prepare for the tight-scope check
    
    * src/diff.h: Mark function declarations with "extern" in
    preparation for the tight-scope check.
    (ignore_white_space): Separate enum decl from declaration
    of this variable.
    * src/Makefile.am (diff_SOURCES): Move diff.h from here to ...
    (noinst_HEADERS): ...here.
    For convenience, since the tight-scope rule uses $(noinst_HEADERS).

commit 0744f3339d691dbce47e5e0c9ca8652ff8f79f0b
Author: Jim Meyering <meyering@redhat.com>
Date:   Fri May 13 11:12:33 2011 +0200

    maint: don't use now-removed gnulib "exit" module
    
    * bootstrap.conf (gnulib_modules): Remove "exit" module.
    It no longer exists.

commit 7d638238a2f3e419948a92024fb67739c61894ce
Author: Jim Meyering <meyering@redhat.com>
Date:   Sat Mar 26 13:45:52 2011 +0100

    build: update gnulib submodule to latest

commit 8a223056984c0153638e33e074cf334a32b3fd97
Author: Jim Meyering <meyering@redhat.com>
Date:   Sat Mar 26 13:44:13 2011 +0100

    * .x-sc_space_tab: Remove file.  Instead, ...
    
    * cfg.mk (exclude_file_name_regexp--sc_space_tab): ...define this.

commit d9d3cf9f096df7c11c4453b8453f53eda53939fa
Author: Jim Meyering <meyering@redhat.com>
Date:   Sat Mar 26 12:46:26 2011 +0100

    maint: fix typo in unused rule
    
    * cfg.mk (config-save): Fix typo: add leading "_" in variable name.

commit 23d970ea5f71fc8913d7e2a4d33b575b13b43fb9
Author: Jim Meyering <meyering@redhat.com>
Date:   Fri Mar 18 22:38:59 2011 +0100

    doc: add a reference to wdiff(1) from diff.1
    
    * man/diff.x: New file, to add "SEE ALSO" reference to wdiff(1).
    * man/Makefile.am (diff.1): Depend on diff.x.
    ($(dist_man1_MANS)): Tell help2man to include diff.x.
    (EXTRA_DIST): Add diff.x.
    Suggestion from Dan Jacobson in http://bugs.debian.org/613319

commit ffd622a2814e9f9d66ab3077d93107ff2f7266df
Author: Eric Blake <eblake@redhat.com>
Date:   Fri Mar 18 15:26:59 2011 -0600

    docs: info should mention -L
    
    * doc/diff.texi (diff Options): Document -L.

commit c549fc6c777f025a303c9f980f360a644affd65e
Author: Eric Blake <eblake@redhat.com>
Date:   Fri Mar 18 15:19:37 2011 -0600

    docs: diff --help should mention -L
    
    * src/diff.c (option_help_msgid): Document -L.

commit 3f2d868741b500a9817a62e3cab12a24c6615a76
Author: Jim Meyering <meyering@redhat.com>
Date:   Mon Feb 14 09:39:44 2011 +0100

    doc: speak of the --test (-a) option, not "the -a or --test option"
    
    Convert using this command:
    perl -pi -e \
      's/(\@option{-.}) or (\@option{--.*?}) option/$2 ($1) option/' \
      doc/diff.texi
    Then convert some more with this:
    perl -pi -e \
        's/the (\@option{-.}) or (\@option{--.*?})$/the $2 ($1)/' \
      doc/diff.texi
    Then convert more manually.
    
    Suggested by Dan Jacobson

commit 91da1da696e1d13ab7e288ede04d03fd2d12e79a
Author: Jim Meyering <meyering@redhat.com>
Date:   Mon Jan 24 12:27:32 2011 +0100

    maint: remove all uses of vfork: use fork instead
    
    Our use of vfork now provokes warnings from gcc-4.6.0.
    Also, vfork is no longer even specified by POSIX.1-2008.
    * src/diff3.c (read_diff): Change each use of vfork to "fork".
    Remove #ifdef'd code.
    * src/util.c (begin_output, finish_output): Likewise.
    * src/sdiff.c (cleanup, main, edit): Likewise.
    (handler_index_of_SIGPIPE): Remove now-unused definition.
    * src/system.h: Don't include <vfork.h>.
    (vfork): Remove definition.
    * ms/config.site: Remove reference to vfork cache variable.

commit 4e0d3664c7a1a7515309b140dbf8ff27538423cf
Author: Jim Meyering <meyering@redhat.com>
Date:   Mon Jan 24 16:32:00 2011 +0100

    tests: avoid newer but less-portable tail option syntax
    
    * tests/function-line-vs-leading-space: Use sed -n '3,$p' rather than
    tail -n+3.  Older versions of tail do not accept that newer syntax.
    Reported by Sudhakara Peram.

commit bf4003c13d75c927f5f616b2c38eef7c3d7e28c4
Author: Jim Meyering <meyering@redhat.com>
Date:   Mon Jan 24 13:36:17 2011 +0100

    tests: fix an erroneous test
    
    On most systems, like-named files were compared, by luck.
    However, on others, different-named files would be compared
    since their names were being treated as equal -- but they had
    different content, so the test would fail.
    * tests/colliding-file-names: Use different sets of file names
    in d1 and d2 so that they cannot accidentally match.
    Put the same line in each test file.  This is required
    when files named e.g., abc and ABC are compared.
    This test was failing on a NixOS 86_64-darwin system.

commit 7e27c1ae467d2b2d611668abcd2e86f650a2d453
Author: Jim Meyering <meyering@redhat.com>
Date:   Mon Jan 24 12:34:49 2011 +0100

    build: update gnulib submodule to latest

commit 13b0958f25f67ad1d759105921650243dfbe648c
Author: Jim Meyering <meyering@redhat.com>
Date:   Mon Jan 24 12:13:16 2011 +0100

    tests: fix typo that silently disabled all tests
    
    * tests/Makefile.am (TESTS): Fix typo: s/jESTS/TESTS/

commit c16c3176840de5a153186aa9f981453cac25451f
Author: Jim Meyering <meyering@redhat.com>
Date:   Sun Jan 23 18:58:27 2011 +0100

    build: update gnulib submodule to latest

commit 9de94f53b5b63330b7658f3b63d06021aabfc7c6
Author: Jim Meyering <meyering@redhat.com>
Date:   Sun Jan 23 18:57:50 2011 +0100

    maint: avoid new syntax-check failure
    
    * src/diff.c (specify_value): Use !STREQ(...), not strcmp(...) != 0.
    * src/diff3.c (main): Likewise.

commit ce5367b6b3e4df909883f41f3ad6f12981f5a263
Author: Jim Meyering <meyering@redhat.com>
Date:   Mon Jan 3 22:08:42 2011 +0100

    maint: update copyright year ranges to include 2011
    
    Run "make update-copyright", so "make syntax-check" works in 2011.

commit 7f0be31391ce956341690c85a060a541a02f8480
Author: Jim Meyering <meyering@redhat.com>
Date:   Mon Jan 3 22:04:45 2011 +0100

    build: update gnulib submodule to latest

commit 6fc3b9737d71c149b5198d957e993d620632d360
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Dec 16 10:05:21 2010 -0800

    bootstrap: adjust to recent gnulib changes
    
    * bootstrap.conf (excluded_files): Do not exclude m4/size_max.m4
    and m4/xsize.m4 when using an external gettext, since they are
    now needed by other gnulib modules.

commit 5c65882affa003bab8b21c6f1cdfa038d51b5ca6
Author: Jim Meyering <meyering@redhat.com>
Date:   Thu Dec 16 15:20:24 2010 +0100

    doc: add contributor guidelines: HACKING
    
    * HACKING: New file, copied 99% from the one in grep's repository.

commit 9026760882adce9e2a000cb9f64d3b2a2de410cc
Author: Jim Meyering <meyering@redhat.com>
Date:   Sat Oct 9 15:24:05 2010 +0200

    maint: describe policy on copyright year number ranges
    
    * README: Mention coreutils' long-standing policy on use of M-N
    ranges in copyright year lists.  Requested by Richard Stallman.

commit 361b3b13da25366256745b7cce4ff71231ef24e9
Author: Jim Meyering <meyering@redhat.com>
Date:   Sat Sep 4 09:08:08 2010 +0200

    maint: adjust init.sh use to conform
    
    * tests/help-version: Use one line: "${srcdir=.}/init.sh"; ...
    * tests/basic: Likewise.
    * tests/binary: Likewise.
    * tests/colliding-file-names: Likewise.
    * tests/excess-slash: Likewise.
    * tests/function-line-vs-leading-space: Likewise.
    * tests/help-version: Likewise.
    * tests/label-vs-func: Likewise.
    * tests/no-newline-at-eof: Likewise.
    * tests/stdin: Likewise.

commit d5d4b828b46628977ec5b75d731649c65f8e1bf2
Author: Jim Meyering <meyering@redhat.com>
Date:   Sat Sep 4 09:04:43 2010 +0200

    maint: avoid shadowing warning
    
    * src/dir.c (diff_dirs): Rename shadowed local cmp to "c".

commit edf0032df445a519b503f72147fa3f846983df56
Author: Jim Meyering <meyering@redhat.com>
Date:   Sat Sep 4 08:55:48 2010 +0200

    build: use gettext-h, not gettext
    
    * bootstrap.conf (gnulib_modules): Use gettext-h, not gettext.
    The latter is overkill for a package that uses
    AM_GNU_GETTEXT([external]...

commit 0d0c959471b898f18166f65dcb164c7b602a416c
Author: Jim Meyering <meyering@redhat.com>
Date:   Sat Sep 4 08:54:18 2010 +0200

    build: update build/test tools from gnulib
    
    * bootstrap: Update from gnulib.
    * tests/init.sh: Likewise.

commit 0ffe188b2bc56ebeb54dcefbb24d64849f20df1b
Author: Jim Meyering <meyering@redhat.com>
Date:   Sat Sep 4 08:53:28 2010 +0200

    build: update gnulib submodule to latest

commit 53de393ca335e77f22d3789100734c87868f12b3
Author: Jim Meyering <meyering@redhat.com>
Date:   Sat Aug 14 17:13:28 2010 -0500

    diff -r: avoid printing excess slashes in concatenated file names
    
    * bootstrap.conf (gnulib_modules): Add filenamecat.
    * src/diff.c: Include "filenamecat.h".
    (compare_files): Use file_name_concat, rather than dir_file_pathname.
    * src/util.c (dir_file_pathname): Remove now-unused function.
    * src/diff.h: Remove its declaration.
    * tests/excess-slash: New script to test for this.
    * tests/Makefile.am (TESTS): Add it.
    Forwarded by Santiago Vila from <bugs.debian.org/586301a>,
    reported by Jari Aalto.

commit f2ad578b241713fa81d98b3573fa42397d2ea3f8
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Aug 12 17:55:05 2010 -0700

    diff: avoid spurious diffs when two distinct dir entries compare equal
    
    Problem reported by Christoph Anton Mitterer in:
    http://lists.gnu.org/archive/html/bug-diffutils/2010-08/msg00000.html
    
    * NEWS: Mention this bug fix.
    * src/dir.c (compare_names_for_qsort): Fall back on file_name_cmp
    if two distinct entries in the same directory compare equal.
    (diff_dirs): Prefer a file_name_cmp match when available.
    * tests/Makefile.am (TESTS): New test colliding-file-names.
    * tests/colliding-file-names: New file.

commit a0e9e5e67a6a34e131eb392ddb99569bc973748e
Author: Jim Meyering <meyering@redhat.com>
Date:   Sun May 9 19:09:26 2010 +0200

    build: update gnulib submodule to latest

commit bec2cfcd8f73c81219a0f348718b01766e274621
Author: Jim Meyering <meyering@redhat.com>
Date:   Sun May 9 18:39:39 2010 +0200

    build: don't define macros that gnulib provides
    
    * bootstrap.conf (gnulib_modules): Add signal, stdint.
    * lib/cmpbuf.c (SA_RESTART, SA_INTERRUPT): Remove definitions.
    (SIZE_MAX, PTRDIFF_MAX): Likewise.
    Include <stdint.h>.
    * src/system.h (WEXITSTATUS, WIFEXITED): Remove definitions.
    (SA_RESTART, SA_INTERRUPT): Likewise.

commit 6ef1f1f7086021b90c81636de26373c3fe472e5c
Author: Jim Meyering <meyering@redhat.com>
Date:   Sun May 9 18:34:09 2010 +0200

    build: rely on gnulib's sigprocmask module
    
    * src/sdiff.c: Remove #if-!HAVE_SIGPROCMASK-guarded code.
    * bootstrap.conf (gnulib_modules): Add sigprocmask.

commit 6cfdf0ab03ce32dad30460e8fd00e7ecc9db5a7b
Author: Jim Meyering <meyering@redhat.com>
Date:   Tue May 4 09:55:31 2010 +0200

    doc: README-release: don't mention To:, Cc:, etc announcement headers,
    
    now that those are supplied automatically via gnulib's maint.mk.
    * README-release: sync with coreutils.

commit 40adeecffd03ad56e3ed0054c9ee9f31a86397dd
Author: Jim Meyering <meyering@redhat.com>
Date:   Mon May 3 23:16:56 2010 +0200

    maint: teach web-doc-generating code how to do its job
    
    * cfg.mk (gendocs_options): Define, so that gendocs.sh knows
    the name of our texinfo source file.
    * gnulib: Update to latest, for new gnu-web-doc-update and maint.mk.

commit e7616f6408417cca7df49c4b030047757b856d88
Author: Jim Meyering <meyering@redhat.com>
Date:   Mon May 3 20:35:06 2010 +0200

    doc: update release procedure
    
    * README-release: Rearrange slightly: post the announcement to
    Savannah first, so you can include a link to that post in the email.
    Sync a few details from coreutils' README-release.

commit d03317ad6abccf98a0c6fb0f9ffb9509feee1965
Author: Jim Meyering <meyering@redhat.com>
Date:   Mon May 3 18:52:56 2010 +0200

    post-release administrivia
    
    * NEWS: Add header line for next release.
    * .prev-version: Record previous version.
    * cfg.mk (old_NEWS_hash): Auto-update.

commit 022cd5c5eb647a22a4daa5fe5cbc10af6d5a1112
Author: Jim Meyering <meyering@redhat.com>
Date:   Mon May 3 18:49:55 2010 +0200

    version 3.0
    
    * NEWS: Record release date.

commit ee02ef075faaab2feb61a5f4a6120e11517dac8d
Author: Jim Meyering <meyering@redhat.com>
Date:   Mon May 3 08:53:31 2010 +0200

    build: update gnulib submodule to latest

commit 3f027ba48d26ebca62066845832e12062a1ed8b2
Author: Jim Meyering <meyering@redhat.com>
Date:   Sat May 1 08:17:06 2010 +0200

    build: use gnulib's sys_wait module
    
    * bootstrap.conf (gnulib_modules): Use gnulib's sys_wait module,
    now that we assume its presence.

commit 5c63f4d41638b863f5c5a71401af6e1c042d223d
Author: Jim Meyering <meyering@redhat.com>
Date:   Fri Apr 30 18:46:27 2010 +0200

    build: update gnulib submodule to latest
    
    * bootstrap: Also update from gnulib.
    * tests/init.sh: Likewise

commit 7ea9bf381b354cbf5e05ab89e0ee2009162bc09a
Author: Jim Meyering <meyering@redhat.com>
Date:   Fri Apr 30 18:56:03 2010 +0200

    maint: remove now-useless #if HAVE_HEADER_H guards
    
    * src/system.h: Include <sys/wait.h> unconditionally,
    now that gnulib guarantees its presence.
    * lib/cmpbuf.c: Likewise for <unistd.h> and <inttypes.h>.

commit 59669066e7771fa01912e4c2081ad80aa78d3f68
Author: Jim Meyering <meyering@redhat.com>
Date:   Sat Apr 17 08:21:32 2010 +0200

    tests: use original no-newline-at-eof test, but with -U1, not -U2
    
    * tests/no-newline-at-eof: Revert to the smaller test, but with
    -U1 rather than -U2, since that actually triggers the bug.

commit 4ba438168d7508853e4be9f74ad6d95ac024a20a
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Apr 16 22:20:04 2010 -0700

    Followon improvements for the fix for Debian bug 577832.
    
    * src/io.c (find_and_hash_each_line): Omit the inserted newline in
    a simpler way.
    * tests/no-newline-at-eof: Fix the test case so that it rejects
    the old, buggy behavior.

commit 16e65488ddd26fe0ad3f8d8ebd30709c9291e6dd
Author: Jim Meyering <meyering@redhat.com>
Date:   Fri Apr 16 11:18:10 2010 +0200

    build: update gnulib submodule to latest

commit 6bb3d2900866c23da01a409aa3447ecf68627fc1
Author: Jim Meyering <meyering@redhat.com>
Date:   Fri Apr 16 09:14:04 2010 +0200

    tests: test for the no-newline-at-EOF bug
    
    * tests/no-newline-at-eof: New file.
    * tests/Makefile.am (TESTS): Add it.

commit f444711a2639b4974ff3e720c455a1f96f1109e8
Author: Jim Meyering <meyering@redhat.com>
Date:   Thu Apr 15 23:26:22 2010 +0200

    diff: fix a regression when at least one input lacks a newline-at-EOF,
    
    and the final hunk plus context-length aligns exactly with the end
    of the newline-lacking file.  Diff would fail to output the required
    "\ No newline at end of file" line, thus rendering the output invalid.
    This bug appears to have been introduced by 2006-05-07
    commit 58d0483b, "(find_identical_ends): Fix huge performance bug...",
    at least to the extent that reverting that change fixes the bug.
    Considering the stated effect of that change and lack of metrics,
    reverting it is not an option, so here we take a more direct approach.
    
    Given these inputs,
    
        printf '\n1'>a; printf '\n0\n\n1'>b
    
    and running diff like this:
    
        ./diff -U1 a b
    
    for input file "b", the pointer, files[1].linbuf[4][-1], to
    the last byte on the final line was mistakenly pointing at the
    sentinel newline at EOF, rather than at the preceding byte.
    
      (gdb) p files[1].linbuf[4][-1]
      $3 = 10 '\n'
    
    Thus, this test in the final print_1_line call:
    
      if ((!line_flag || line_flag[0]) && limit[-1] != '\n')
        fprintf (out, "\n\\ %s\n", _("No newline at end of file"));
    
    would fail, because limit[-1] (which is files[1].linbuf[4][-1])
    was mistakenly '\n', rather than the desired '1'.
    
    My first thought was simply to adjust the final linbuf[line] setting,
    at the end of io.c's find_and_hash_each_line function function:
    
           if (p == bufend)
    -       break;
    +       {
    +         if (current->missing_newline)
    +           --linbuf[line];
    +         break;
    +       }
    
    But that would make diff misbehave with this input
    (same as above, but with a newline appended to "a"),
    
        printf '\n1\n'>a; printf '\n0\n\n1'>b
        ./diff -U1 a b
    
    due to the block (100 lines above) that is triggered in that case
    (but not in the both-files-missing-newline case):
    
          if (p == bufend
              && current->missing_newline
              && ROBUST_OUTPUT_STYLE (output_style))
            {
              /* This line is incomplete.  If this is significant,
                 put the line into buckets[-1].  */
              if (ignore_white_space < IGNORE_SPACE_CHANGE)
                bucket = &buckets[-1];
    
              /* Omit the inserted newline when computing linbuf later.  */
              p--;
              bufend = suffix_begin = p;
            }
    
    Note how "p" is decremented and "bufend" adjusted.
    When that happens, we certainly don't want to decrement
    "bufend" yet again.
    
    Since there is no other way to determine at the end whether "bufend"
    was already decremented, add a new variable to serve as witness.
    
    * NEWS (Bug fixes): Mention it.
    Reported by Timo Juhani Lindfors in http://bugs.debian.org/577832.
    Forwarded by Santiago Vila.

commit 648802169a29ea096d6e9813b043b91af9342f8d
Author: Jim Meyering <meyering@redhat.com>
Date:   Fri Apr 16 08:47:28 2010 +0200

    tests: update init.sh from gnulib
    
    * tests/init.sh: Update from gnulib.

commit 4065b154b0eda7aa100bcd0a905b0f4304fbacfd
Author: Jim Meyering <meyering@redhat.com>
Date:   Thu Apr 8 11:04:15 2010 +0200

    build: include cfg.mk and dist-check.mk in the distribution tarball
    
    * Makefile.am (EXTRA_DIST): Add cfg.mk and dist-check.mk.

commit 70a02578aebbc3f0fd6edea240d5c1e9e76101e3
Author: Jim Meyering <meyering@redhat.com>
Date:   Thu Apr 8 11:02:32 2010 +0200

    maint: update to latest gnulib
    
    * cfg.mk (sc_cross_check_PATH_usage_in_tests): Remove rule,
    now that it's in gnulib's maint.mk.
    * gnulib: Update to latest.

commit 0c6d7eea33394375e0e794e72c7896508645f426
Author: Jim Meyering <meyering@redhat.com>
Date:   Wed Apr 7 11:43:14 2010 +0200

    tests: make new PATH-crosschecking syntax-check tighter
    
    * cfg.mk (sc_cross_check_PATH_usage_in_tests): Use grep's -x (match
    entire line) option with -F.

commit fe2d46d4aaa79e15d2df24ae387c032858982c3f
Author: Jim Meyering <meyering@redhat.com>
Date:   Wed Apr 7 10:59:00 2010 +0200

    tests: pull latest help-version from gzip
    
    * tests/help-version: Update from gzip.
    * Makefile.am (TESTS_ENVIRONMENT): Export VERSION,
    as required for this new help-version script.

commit 46773b6abbfd75432387a6e28579a11c62e897d9
Author: Jim Meyering <meyering@redhat.com>
Date:   Wed Apr 7 10:51:19 2010 +0200

    tests: add syntax-check rule to verify that tests use proper PATH
    
    * cfg.mk (sc_cross_check_PATH_usage_in_tests): New rule, that is
    useful only in conjunction with the help-version script.

commit 55cf264a2bac21ed6b8729bc175df421e35facf4
Author: Jim Meyering <meyering@redhat.com>
Date:   Wed Apr 7 10:56:06 2010 +0200

    tests: use path_prepend_ consistently; remove unnecessary VERBOSE check
    
    * tests/basic: Likewise.
    * tests/binary: Likewise.
    * tests/function-line-vs-leading-space: Likewise.
    * tests/label-vs-func: Likewise.
    * tests/stdin: Likewise.

commit eb7d0cc49110157fe0a7820f39cb052371af2699
Author: Eric Blake <eblake@redhat.com>
Date:   Tue Apr 6 10:11:35 2010 -0600

    maint: ignore generated files
    
    * .gitignore: Ignore recent gnulib additions.

commit a7784f93efeb7609159de1217d43231a9f7a7f2f
Author: Eric Blake <eblake@redhat.com>
Date:   Tue Apr 6 10:03:29 2010 -0600

    maint: update to latest bootstrap
    
    * bootstrap: Copy from gnulib/build-aux.

commit adc5cf557b1f56c8ed1aff907ca3e9abf344ce86
Author: Jim Meyering <meyering@redhat.com>
Date:   Mon Apr 5 22:08:58 2010 +0200

    tests: get latest init.sh from gnulib
    
    * tests/init.sh: Update from gnulib.

commit c5b10cdca91e438acc819b0cde4ea694ce52d3d2
Author: Jim Meyering <meyering@redhat.com>
Date:   Mon Apr 5 21:47:17 2010 +0200

    build: update gnulib submodule to latest; adapt
    
    * cfg.mk (local-checks-to-skip): Add new sc_texinfo_acronym, to skip it.

commit eb8258b8c6b3930e06fc20b02456448c43daeff1
Author: Jim Meyering <meyering@redhat.com>
Date:   Thu Mar 18 18:10:29 2010 +0100

    diff -F/-p: don't depend on locale-specific white-space definition
    
    * src/context.c: Include "c-ctype.h".
    Use c_isspace, not isspace.

commit f21d1195aef067e6459cca8a1b79a50498a10532
Author: Jim Meyering <meyering@redhat.com>
Date:   Thu Mar 18 17:25:50 2010 +0100

    tests: exercise new behavior of -F RE
    
    * tests/function-line-vs-leading-space: New file.
    * tests/Makefile.am (TESTS): Add it.

commit 24cc227fa1900502d167a60a8325af576dfe5552
Author: Yannick Moy <yannick.moy@adacore.com>
Date:   Thu Mar 4 14:20:16 2010 +0100

    with -F or -p, emit better function lines: no leading white space
    
    * src/diff.c (print_context_function): For languages like Ada
    that allow local functions and procedures, the plain context
    function line may start with enough blank characters that the
    function name does not get completely printed in the 40
    characters limit.  This patch solves this problem by removing
    these useless initial blank characters.
    * NEWS (Changes in behavior): Mention this change.

commit d9c2b10e33c2fd073a10e7770c859c16001592f9
Author: Jim Meyering <meyering@redhat.com>
Date:   Wed Mar 17 16:53:17 2010 +0100

    build: don't require a specific version of help2man
    
    * bootstrap.conf (buildreq): Bootstrap can't deal with it,
    perhaps because the command name contains a digit.

commit 61fb56b31483ae1c3d483ce099d3468697d37a75
Author: Jim Meyering <meyering@redhat.com>
Date:   Wed Mar 17 15:52:05 2010 +0100

    build: make bootstrap ensure that help2man is available
    
    * bootstrap.conf (buildreq): Add help2man.

commit 1afa8038498155d2666c387547dd2c8c44ca718e
Author: Jim Meyering <meyering@redhat.com>
Date:   Tue Feb 23 09:39:07 2010 +0100

    tests: test for the "Binary files A and B differ" diagnostic
    
    * tests/binary: New script.
    * tests/Makefile.am (TESTS): Add it.

commit 3f591f4bb5776b4fc91573b940a9d845458cc617
Author: Jim Meyering <meyering@redhat.com>
Date:   Thu Feb 18 12:59:29 2010 +0100

    revert 2002 change that removed "Binary " from "files A and B differ"
    
    With this change, "printf '\0'|diff - /dev/null" now prints
    "Binary files - and /dev/null differ" once again.
    This reverts 2002-06-28 commit a352f0980,
    "(briefly_report): Don't say "Binary files differ", ...".
    * src/analyze.c (briefly_report): Do include the "Binary " prefix
    in the diagnostic, when !brief.
    * NEWS (Changes in behavior): Mention the diagnostic change.
    Reported by Andreas Hoenen in http://bugs.debian.org/570064.

commit aa56d5f6d086855785d2fe83d148cf090eabee80
Author: Juan Manuel Guerrero <juan.guerrero@gmx.de>
Date:   Sun Feb 14 18:16:25 2010 +0100

    avoid compilation failure on systems lacking both fork and vfork
    
    * src/sdiff.c [!HAVE_WORKING_FORK && !HAVE_WORKING_VFORK] (main):
    Pass the right number of arguments to shell_quote_copy.
    * src/util.c [!HAVE_WORKING_FORK && !HAVE_WORKING_VFORK] (begin_output):
    Likewise.

commit 9999d0b8dff45ef3b093e9addebf4ff1b464d9fc
Author: Jim Meyering <meyering@redhat.com>
Date:   Thu Feb 11 11:09:01 2010 +0100

    post-release administrivia
    
    * NEWS: Add header line for next release.
    * .prev-version: Record previous version.
    * cfg.mk (old_NEWS_hash): Auto-update.

commit 66f2f2d60ab2bd66c820e255f2ce8bfdcaca34a9
Author: Jim Meyering <meyering@redhat.com>
Date:   Thu Feb 11 10:45:20 2010 +0100

    version 2.9
    
    * NEWS: Record release date.

commit fecd0079fe6e15b0f53bf953721d838d9099bf05
Author: Jim Meyering <meyering@redhat.com>
Date:   Thu Feb 11 09:06:02 2010 +0100

    doc: document the release procedure
    
    * README-release: New file.

commit 9f735dd16ab54550329f2fad357d816f7438e7d0
Author: Jim Meyering <meyering@redhat.com>
Date:   Wed Feb 10 11:37:23 2010 +0100

    maint: change use of "|" to more maintainable "||" (no semantic change)
    
    * src/analyze.c (diff_2_files): Using the "||" operator happens to
    be equivalent to using "|" in this case.  It is also clearer and
    less prone to inadvertent bug introduction, in case the variable,
    "changes" were ever to take on a value not in {0,1}.
    Patch by Tim Waugh, via Mike Frysinger.

commit b50a16567acff496bdf3ac0004809b6dcc88c2d6
Author: Jim Meyering <meyering@redhat.com>
Date:   Wed Feb 10 09:09:55 2010 +0100

    portability: avoid "diff - ..." failure at least on *BSD and Solaris
    
    The new "stdin" test was failing on many types of systems.
    * src/diff.c (compare_files): Guard use of xfreopen (NULL, "rb", ...
    also with O_BINARY, so as to avoid this unnecessary call on
    systems where it's not needed (on some it fails with "Bad address".

commit b22f6671d773e326fdc9c4b096a5c056c6cd0509
Author: Jim Meyering <meyering@redhat.com>
Date:   Wed Feb 10 08:55:59 2010 +0100

    tests: honor VERBOSE
    
    * tests/basic: Enable "set -x" if $VERBOSE.
    * tests/help-version: Likewise.
    * tests/label-vs-func: Likewise.
    * tests/stdin: Likewise.

commit a1dcb61f03265e69a0ebd4f09deb45af3e1a56b9
Author: Jim Meyering <meyering@redhat.com>
Date:   Fri Feb 5 07:46:44 2010 +0100

    build: update gnulib submodule to latest

commit 3c0aac1e7efa0410e913c9a5b936e5759c63901f
Author: Jim Meyering <meyering@redhat.com>
Date:   Thu Feb 4 20:02:06 2010 +0100

    sync with gnulib
    
    * gl/lib/regcomp.c.diff: Adjust to apply to the latest in gnulib.
    * gnulib: Update submodule to latest.

commit 6bb67138079e8ef3457ee1fa07cebcb78b6049d6
Author: Jim Meyering <meyering@redhat.com>
Date:   Sun Jan 17 11:39:00 2010 +0100

    build: do not override gnulib-provided AM_CFLAGS options
    
    Avoid a warning from automake:
    lib/Makefile.am:23: AM_CFLAGS multiply defined in condition TRUE ...
    lib/gnulib.mk:30: ... `AM_CFLAGS' previously defined here
    lib/Makefile.am:18:   `lib/gnulib.mk' included from here
    
    * lib/Makefile.am (AM_CFLAGS): Append $(WARN_CFLAGS) and
    $(WERROR_CFLAGS), i.e., use "+=", not "=".
    This was introduced via 2009-12-17 commit e58efa5b
    "build: enable warnings and -Werror.",
    but fortunately is not a bug, because the definition
    it would have overridden was always empty.

commit f51320402bf1342d47199f7dfe37add89092ee5b
Author: Jim Meyering <meyering@redhat.com>
Date:   Sun Jan 17 11:15:26 2010 +0100

    maint: add to .gitignore
    
    * .gitignore: Ignore more.

commit ef2251a3e5fa8bdf667cf38a9d9cbca38db1137b
Author: Jim Meyering <meyering@redhat.com>
Date:   Sat Jan 16 08:32:06 2010 +0100

    doc: add to TODO
    
    * TODO: Add an item, suggested by Dan Jacobson.

commit 07e844a96ddecc1702b847ce95d956409a75de46
Author: Jim Meyering <meyering@redhat.com>
Date:   Wed Jan 13 13:54:13 2010 +0100

    tests: ensure that an argument of "-" is treated as standard input
    
    * tests/stdin: New test.
    * tests/Makefile.am (TESTS): Add it.

commit 2d648ae3fe10d9b554f7c2c5ee8c84371e687392
Author: Jim Meyering <meyering@redhat.com>
Date:   Sun Jan 10 11:45:20 2010 +0100

    tests: now "make distcheck" runs more tests, incl. syntax-check
    
    * cfg.mk: Include dist-check.mk, from coreutils.
    * Makefile.am (distcheck-hook): Define rule, to hook to...
    * dist-check.mk: New file.

commit 617600b42265557a2d3be46e6277697ec47df90d
Author: Jim Meyering <meyering@redhat.com>
Date:   Sat Jan 9 11:48:53 2010 +0100

    build: update gnulib to latest, for fixed syntax-check rule

commit a5188c6f727aa4abeb414950179a27da4a2e0142
Author: Jim Meyering <meyering@redhat.com>
Date:   Sat Jan 9 11:18:46 2010 +0100

    maint: record updated NEWS hash
    
    * cfg.mk (old_NEWS_hash): Update to account for GFDL change.

commit a9d7c6d1a52970f26741f6af4cf873730ad50c2a
Author: Jim Meyering <meyering@redhat.com>
Date:   Fri Jan 8 11:35:26 2010 +0100

    build: update gnulib submodule to latest

commit 4e1233f063e4c3e5421cd28245b96f2607a7038b
Author: Jim Meyering <meyering@redhat.com>
Date:   Sat Jan 9 11:05:59 2010 +0100

    tests: add a test of basic functionality
    
    * tests/basic: Start adding tests.
    * tests/Makefile.am (TESTS): Add it.

commit cadd497e2759a208c3512b9c8c6c7fb61c5fbb22
Author: Jim Meyering <meyering@redhat.com>
Date:   Fri Jan 8 11:34:43 2010 +0100

    maint: udpate GFDL license to 1.3
    
    * doc/diff.texi: Update to use GFDL version 1.3.

commit cb251009d3ca44aca9934d87ab3a2af1c0e66f90
Author: Eric Blake <ebb9@byu.net>
Date:   Sat Jan 2 10:17:00 2010 -0700

    build: allow compilation on cygwin
    
    * src/Makefile.am (cmp_LDADD): Move LIBICONV...
    (LDADD): ...into global flags, since all programs need it.

commit b20ae152dd435cd10b7bb207a948616d6b6332fd
Author: Jim Meyering <meyering@redhat.com>
Date:   Sun Jan 3 18:54:21 2010 +0100

    maint: record update-copyright options for this package
    
    * cfg.mk: Next time, just run "make update-copyright".

commit a6b73e6dd7a293316f669a8930198d140df6236b
Author: Jim Meyering <meyering@redhat.com>
Date:   Sun Jan 3 18:39:19 2010 +0100

    tests: prepend ../src, not "." to PATH
    
    * tests/help-version: Correct PATH.

commit 6a44886e245da5862051080a6c7938dd1f0a3fc3
Author: Jim Meyering <meyering@redhat.com>
Date:   Fri Jan 1 16:18:27 2010 +0100

    maint: update all FSF copyright year lists to include 2010
    
    Use this command:
    git ls-files |grep -vE '^(\..*|COPYING|gnulib)$' |xargs \
    env UPDATE_COPYRIGHT_USE_INTERVALS=1 build-aux/update-copyright

commit 10d11122eaa135104737d462015d48041c304f1d
Author: Jim Meyering <meyering@redhat.com>
Date:   Thu Dec 31 17:20:42 2009 +0100

    maint: newer gnulib; don't hard-code my GPG key ID
    
    * cfg.mk (gpg_key_ID): Remove definition, now that maint.mk automates it.
    * gnulib: Update to latest.

commit 9fe26edf840736d3c4d6c89005b3a0c860444d4c
Author: Jim Meyering <meyering@redhat.com>
Date:   Sat Nov 28 19:36:01 2009 +0100

    tests: exercise diff -p's function-name matching
    
    * tests/label-vs-func: New file.
    * tests/Makefile.am (TESTS): Add label-vs-func.
    Reported by Simon Arlott <simon@fire.lp0.eu>
    http://article.gmane.org/gmane.linux.kernel.janitors/14260

commit e0fc06c5ce4e7c370ae2366b35c5952023c537fe
Author: Jim Meyering <meyering@redhat.com>
Date:   Sat Nov 28 19:31:46 2009 +0100

    tests: use gnulib's init.sh
    
    * tests/Makefile.am (EXTRA_DIST): Add init.sh.
    Remove test-lib.sh.
    * tests/init.sh: New file.
    * tests/test-lib.sh: Remove file.
    * tests/help-version: Use init.sh, not test-lib.sh.

commit 37abff282fc5adb392653c7a11e56bb733a672e6
Author: Jim Meyering <meyering@redhat.com>
Date:   Sat Nov 28 19:43:28 2009 +0100

    maint: don't let trailing spaces in diffs perturb make syntax-check
    
    * .x-sc_space_tab: New file.

commit e58efa5bd2f2fdab0aff6395b9d6c46e0db09fd3
Author: Jim Meyering <meyering@redhat.com>
Date:   Sat Nov 21 17:45:33 2009 +0100

    build: enable warnings and -Werror.
    
    * src/Makefile.am (AM_CFLAGS): Enable warnings and -Werror.
    Set to this: $(WARN_CFLAGS) $(WERROR_CFLAGS)
    * lib/Makefile.am (AM_CFLAGS): Similarly, but use this:
    $(GNULIB_WARN_CFLAGS) $(WERROR_CFLAGS)
    * configure.ac (GNULIB_WARN_CFLAGS): Don't turn off -Wuninitialized.

commit 8c3d25a63a2c5912170ef6e13f748f3904e6b5cf
Author: Jim Meyering <meyering@redhat.com>
Date:   Sun Nov 22 17:06:57 2009 +0100

    build: avoid a warning from gnulib's sh-quote.c
    
    * gl/lib/sh-quote.c.diff: New file, to avoid a warning.

commit f4bde95cc1eb6d36629163797a04d698d6e3b483
Author: Jim Meyering <meyering@redhat.com>
Date:   Sat Nov 21 18:08:00 2009 +0100

    maint: avoid warnings via patched versions of gnulib's regex functions
    
    * gl/lib/regcomp.c.diff: New file.
    * gl/lib/regex_internal.c.diff: Likewise.
    * gl/lib/regex_internal.h.diff: Likewise.
    * gl/lib/regexec.c.diff: Likewise.

commit f8435aeffe78d4090828937f9bedfc8290f1c1e9
Author: Jim Meyering <meyering@redhat.com>
Date:   Sat Nov 21 19:33:01 2009 +0100

    build: update gnulib submodule to latest

commit 4c048db1c7f64e937ae58593158714d48545fbb5
Author: Eric Blake <ebb9@byu.net>
Date:   Fri Nov 20 14:55:05 2009 -0700

    build: ignore more files
    
    * .gitignore: Add config.cache, *.exe.
    
    Signed-off-by: Eric Blake <ebb9@byu.net>

commit e5b1ef85fbc034ffc5f3a0c18fa2917fba42ec89
Author: Eric Blake <ebb9@byu.net>
Date:   Thu Nov 19 09:15:28 2009 -0700

    build: fix test run on cygwin
    
    This, plus a gnulib update for xalloc-die-tests, are necessary
    for make check to pass on cygwin.
    
    * tests/Makefile.am (built_programs): Ignore $(EXEEXT).
    * src/Makefile.am (paths.h): Add missing dependency.

commit 25742fce0a76d714d6f0669610cff0804ff90895
Author: Jim Meyering <meyering@redhat.com>
Date:   Fri Nov 20 22:49:00 2009 +0100

    maint: remove vestiges of nanosleep
    
    * src/Makefile.am (LDADD): Remove $(LIB_NANOSLEEP), now
    that we no longer use the nanosleep module.
    Spotted by Eric Blake.

commit e90c254a0ebafd26a0ea07e2ec3867c539947f63
Author: Jim Meyering <meyering@redhat.com>
Date:   Fri Nov 20 22:30:41 2009 +0100

    maint: don't pull in gnulib's nanosleep unnecessarily
    
    * bootstrap.conf (gnulib_modules): Remove nanosleep.  Not needed.
    Spotted by Eric Blake.

commit 3f7fe0297caa17a2acdc97a30896dd8963b1def4
Author: Jim Meyering <meyering@redhat.com>
Date:   Fri Nov 20 17:07:47 2009 +0100

    maint: cfg.mk: remove factored-out ftp host/dir definitions
    
    * cfg.mk (gnu_ftp_host-alpha, gnu_ftp_host-beta gnu_ftp_host-stable):
    (gnu_rel_host, url_dir_list): Remove definitions.  The defaults,
    now provided by maint.mk, are the same.
    * gnulib: Update for latest, including those maint.mk additions.

commit 2fe6784a3507be4fc1ae9d78eb5b8c6d6f759ae6
Author: Jim Meyering <meyering@redhat.com>
Date:   Fri Nov 20 10:36:54 2009 +0100

    build: link with now-required libraries
    
    * src/Makefile.am (LDADD): Add gnulib-required libraries.
    (cmp_LDADD): Add $(LIBICONV), for cmp's use of proper_name_utf8.

commit 4fe5ec326f4a09060ec30097cef9ba8b547f69d5
Author: Jim Meyering <meyering@redhat.com>
Date:   Fri Nov 20 10:26:48 2009 +0100

    maint: lib/xfreopen.c contains translatable strings
    
    * po/POTFILES.in: Add lib/xfreopen.c.

commit 788645f184922bce1d9851c4fd2f193458935046
Author: Jim Meyering <meyering@redhat.com>
Date:   Fri Nov 20 09:58:45 2009 +0100

    maint: remove hard-coded macro definitions provided by intprops.h
    
    * lib/cmpbuf.c: Include "intprops.h" rather than open-coding macros
    like TYPE_SIGNED and TYPE_MINIMUM.

commit 3b828e32235ebe162ec2093e56e0e0dd778b6e71
Author: Jim Meyering <meyering@redhat.com>
Date:   Thu Nov 19 20:35:52 2009 +0100

    maint: add gnulib's announce-gen module
    
    * bootstrap.conf (gnulib_modules): Add announce-gen

commit 975a1e0418b41f95f67efa7fa5a5db7c8432632d
Author: Jim Meyering <meyering@redhat.com>
Date:   Thu Nov 19 18:51:53 2009 +0100

    build: suppress warnings about bindtextdomain and textdomain
    
    * src/system.h (bindtextdomain, textdomain) [!ENABLE_NLS]: Define away.

commit 7ebb24620d87386e5579bef6ff0e50778dff84be
Author: Jim Meyering <meyering@redhat.com>
Date:   Thu Nov 19 18:10:56 2009 +0100

    build: use more gnulib modules
    
    * bootstrap.conf (gnulib_modules): Add mktime, nanosleep, strptime
    and timegm.

commit cd10d2c30801df4abf60dd0fb54ddd4a2f9fc02a
Author: Jim Meyering <meyering@redhat.com>
Date:   Thu Nov 19 16:09:56 2009 +0100

    use xfreopen rather than freopen
    
    * src/cmp.c: Include "xfreopen.h".
    Use xfreopen in place of freopen.
    * src/diff.c Likewise, and...
    (main): Set exit_failure to EXIT_TROUBLE, rather than to 2.
    * src/diff3.c: Likewise.
    * bootstrap.conf (gnulib_modules): Add xfreopen.

commit 163f2fa3e873d2dfebce2c41abc8532a9fa370f9
Author: Jim Meyering <meyering@redhat.com>
Date:   Thu Nov 19 15:39:47 2009 +0100

    build: enable many warnings
    
    * configure.ac: Add support for --enable-gcc-warnings.
    * bootstrap.conf (gnulib_modules): Add manywarnings.
    * Makefile.am (AM_CFLAGS): Add $(WARN_CFLAGS) $(WERROR_CFLAGS)

commit 3eee17bbbe3798d91b9e36f5756b0de391eb61d5
Author: Jim Meyering <meyering@redhat.com>
Date:   Fri Nov 20 10:20:31 2009 +0100

    build: update gnulib submodule to latest

commit d837c269eac591b4fedf58deba84e00f3c6c334c
Author: Jim Meyering <meyering@redhat.com>
Date:   Thu Nov 19 19:43:46 2009 +0100

    maint: add an assertion to suppress clang-detected warning
    
    The clang static analyzer reported that a NULL parent could be
    dereferenced.  However, that cannot happen, because for all callers,
    the parameter, parent, is always non-NULL at that point.
    * src/diff.c: Include <assert.h>.
    Assert that parent is not NULL.

commit 7af115552a637d96a98ddd17353c6e7f94e137b4
Author: Jim Meyering <meyering@redhat.com>
Date:   Thu Nov 19 19:40:11 2009 +0100

    maint: remove dead assignment from diff3.c
    
    * src/diff3.c (make_3way_diff): Remove dead assignment.

commit 6be63587089728ac8dd140781ae586fb314d9ac4
Author: Jim Meyering <meyering@redhat.com>
Date:   Wed Nov 18 07:41:04 2009 +0100

    build: update gnulib submodule to latest

commit 2514ec69733ac7491cd80b9e4710034e6218a134
Author: Jim Meyering <meyering@redhat.com>
Date:   Mon Nov 16 21:49:37 2009 +0100

    maint: hide build commands behind $(AM_V_GEN)
    
    * src/Makefile.am (paths.h): Use $(AM_V_GEN), and split a long line.
    * man/Makefile.am ($(dist_man1_MANS)): Use $(AM_V_GEN) here, too.

commit a401664d47f17b1c7497c2a251b073de105cdbec
Author: Jim Meyering <meyering@redhat.com>
Date:   Mon Nov 16 21:41:38 2009 +0100

    build: let automake generate better man-installation rules
    
    * man/Makefile.am (dist_man1_MANS): Rename from dist_man_MANS,
    to enable better automake-generated installation rules.

commit 5f93400251fb7be08fa03ef7c2dd78b4850481ba
Author: Jim Meyering <meyering@redhat.com>
Date:   Mon Nov 16 17:15:38 2009 +0100

    admin: ignore all of gnulib-tests
    
    * .gitignore: Add gnulib-tests

commit 8fbbf26925a6e2183be8211fb82a6eb518229a38
Author: Eric Blake <ebb9@byu.net>
Date:   Thu Nov 12 08:17:56 2009 -0700

    build: avoid link failure when libsigsegv is used
    
    * src/Makefile.am (LDADD): Link against LIBSIGSEGV.

commit 9b0a630024092f50d6c94d9d033c02dd5bdd6a5b
Author: Jim Meyering <meyering@redhat.com>
Date:   Mon Nov 16 09:01:57 2009 +0100

    maint: define/use PROGRAM_NAME and AUTHORS; use propername module
    
    * bootstrap.conf (gnulib_modules): Add propername.
    * src/cmp.c (PROGRAM_NAME, AUTHORS): Define.
    (main): Use them in use of version_etc.
    * src/diff.c (PROGRAM_NAME, AUTHORS, main): Likewise.
    * src/diff3.c (PROGRAM_NAME, AUTHORS, main): Likewise.
    * src/sdiff.c (PROGRAM_NAME, AUTHORS, main): Likewise.
    * src/system.h: Include "propername.h".

commit b60091684ac415bcc6efaaedc42d31dedd378a75
Author: Jim Meyering <meyering@redhat.com>
Date:   Mon Nov 16 08:58:54 2009 +0100

    maint: no longer define *_FILENO constants
    
    * src/system.h (STDIN_FILENO, STDOUT_FILENO, STDERR_FILENO):
    Remove definitions.  Now guaranteed by gnulib.

commit 3850429db6a8582ae5f1d43fb92dd29ee9af261e
Author: Jim Meyering <meyering@redhat.com>
Date:   Mon Nov 16 08:17:35 2009 +0100

    maint: bug-diffutils@gnu.org is the new bug-reporting address
    
    * configure.ac (AC_INIT): Use bug-diffutils@..., not bug-gnu-utils
    as the bug-reporting address.
    * NEWS (Administrivia): Mention this.
    * src/cmp.c (usage): Remove hard-coded address.
    Instead, use gnulib's emit_bug_reporting_address function.
    * src/diff.c (usage, option_help_msgid): Likewise.
    * src/diff3.c (usage): Likewise.
    * src/sdiff.c (usage): Likewise.

commit 943b8a4383375c4eb197b4e984d5bca89790c5b0
Author: Jim Meyering <meyering@redhat.com>
Date:   Mon Nov 16 07:38:03 2009 +0100

    sdiff, diff3: exec diff, not $(bindir)/diff
    
    * src/Makefile.am (paths.h): Emit a definition of DEFAULT_DIFF_PROGRAM
    that is simply "diff" (or whatever $(transform) would convert that to,
    e.g., "gdiff").  This makes it so that tests can work without first
    installing diff, and so that the binaries do not hard-code $(prefix).
    * NEWS (Changes in behavior): Mention this.

commit e454c1471aaf8b3e6bead2313838aefebfe97bca
Author: Jim Meyering <meyering@redhat.com>
Date:   Sat Nov 14 10:31:41 2009 +0100

    tests: add the first script; hook up gnulib-tests
    
    * configure.ac (AC_CONFIG_FILES): Add tests/Makefile and
    gnulib-tests/Makefile.
    * tests/help-version: New file, from coreutils.
    * tests/test-lib.sh: Likewise.
    * tests/Makefile.am: New file, from gzip.
    * Makefile.am (SUBDIRS): Add tests and gnulib-tests.
    * tests/t-local.sh: New, empty(for now) file.

commit 8465a94ddbb1308d0a406280d87dc432f2005e6a
Author: Jim Meyering <meyering@redhat.com>
Date:   Fri Nov 13 18:01:24 2009 +0100

    build: require gettext-0.17
    
    * configure.ac: Require gettext-0.17; it was released two years ago.

commit 0fb1003a455d9955c683e8f08eec80880c51c1db
Author: Jim Meyering <meyering@redhat.com>
Date:   Fri Nov 13 18:00:44 2009 +0100

    build: correct gettext configure-time support
    
    * configure.ac: Use AM_GNU_GETTEXT([external], [need-ngettext]),
    rather than AM_GNU_GETTEXT([external], [need-formatstring-macros]).
    Reported by Martin Jacobs in
    http://thread.gmane.org/gmane.comp.parsers.bison.bugs/3181

commit 8c265a45e54a77003ce754fac893eaf292f7cd6d
Author: Jim Meyering <meyering@redhat.com>
Date:   Thu Nov 12 09:38:34 2009 +0100

    build: generalize autoheader check
    
    * bootstrap: Look for AC_CONFIG_HEADER as well as AC_CONFIG_HEADERS.

commit 8ec1458ae90b7da54a0d2d476fc70456bf3e7816
Author: Jim Meyering <meyering@redhat.com>
Date:   Thu Nov 12 08:21:18 2009 +0100

    maint: use a git submodule for gnulib
    
    * .gitmodules: New file, to track gnulib.
    * gnulib: New file, created by running this:
    git submodule add git://git.sv.gnu.org/gnulib.git gnulib

commit 8356d902509c4df69fd5dcdb4fe112cb3d57dc95
Author: Jim Meyering <meyering@redhat.com>
Date:   Thu Nov 12 08:19:53 2009 +0100

    maint: tell git what it can ignore
    
    * .gitignore: Ignore generated files.

commit 3504236b28c6d92653675b3d80361dafed381e0d
Author: Jim Meyering <meyering@redhat.com>
Date:   Wed Nov 11 22:24:33 2009 +0100

    build: generate ChangeLog (from git logs) into distribution tarball
    
    * Makefile.am (dist-hook, gen-ChangeLog): New rules.
    (gen_start_date): Define.
    * bootstrap.conf (gnulib_modules): Add gitlog-to-changelog.

commit 9bfafb33a6fad87d9b3fc41f0d8e97f9eac8f848
Author: Jim Meyering <meyering@redhat.com>
Date:   Wed Nov 11 22:10:24 2009 +0100

    admin: update all copyright notices to include the year 2009

commit 5b6ba5593b9425a5843986ec97af75fd7c60c6e6
Author: Jim Meyering <meyering@redhat.com>
Date:   Wed Nov 11 21:56:27 2009 +0100

    maint/sc: enable the m4 quote check
    
    * m4/vararrays.m4 (AC_C_VARARRAYS): Quote AC_DEFINE argument.
    * cfg.mk (local-checks-to-skip): Add sc_m4_quote_check.

commit 08d9ddae59b92de9568c8efb0e4c8cd495686df9
Author: Jim Meyering <meyering@redhat.com>
Date:   Wed Nov 11 21:28:53 2009 +0100

    build: rely on gnulib's progname module
    
    * bootstrap.conf (gnulib_modules): Add progname.
    * cfg.mk (local-checks-to-skip): Add sc_program_name.
    * src/cmp.c: Include progname.h.
    (program_name): Remove declaration.
    (main): Call set_program_name.
    * src/diff.c (main): Likewise.
    * src/diff3.c (main): Likewise.
    * src/sdiff.c (main): Likewise.
    * src/diff.h (program_name): Remove extern declaration.

commit 8cbaebf3532d23cf115ecfb733caa2c0536c070d
Author: Jim Meyering <meyering@redhat.com>
Date:   Wed Nov 11 21:22:38 2009 +0100

    maint/sc: enable the space-TAB check
    
    * doc/diagmeet.note: Use no TABs.
    * ms/config.sed: Use TAB-space, not space-TAB in [].
    * cfg.mk (local-checks-to-skip): Remove sc_space_tab.

commit 0363ae9f0f40e492f1460440cebc5c933b482b95
Author: Jim Meyering <meyering@redhat.com>
Date:   Wed Nov 11 21:12:48 2009 +0100

    build: rely on gnulib's mbrtowc module
    
    * bootstrap.conf (gnulib_modules): Add mbrtowc.
    * src/side.c [!HAVE_MBRTOWC]: Remove now-useless code,
    since gnulib guarantees working <wchar.h> and mbrtowc.
    * cfg.mk (local-checks-to-skip): Remove sc_prohibit_HAVE_MBRTOWC.

commit 2b13b2c76a1ca2119c7e79a2b1985c504ee7a5f4
Author: Jim Meyering <meyering@redhat.com>
Date:   Wed Nov 11 21:08:44 2009 +0100

    maint/sc: enable check for unmarked diagnostics
    
    * cfg.mk (local-checks-to-skip): Remove sc_unmarked_diagnostics.
    * src/dir.c (diff_dirs): Mark a diagnostic for translation.

commit 242183ade35ec89c28710574f77037ce8fea84ad
Author: Jim Meyering <meyering@redhat.com>
Date:   Wed Nov 11 21:07:08 2009 +0100

    maint/sc: enable two config.h-checking rules
    
    * cfg.mk (local-checks-to-skip): Remove sc_require_config_h and
    sc_require_config_h_first.
    (config_h_header): Define.

commit c9893c55535136d90433b4f9abbc5e7c1e6a303e
Author: Jim Meyering <meyering@redhat.com>
Date:   Wed Nov 11 21:01:38 2009 +0100

    maint/sc: enable the po check
    
    * cfg.mk (local-checks-to-skip): Add sc_po_check.
    * po/POTFILES.in: Update.

commit d4bfdc5340505513d702ee7b6f9eb616868662c5
Author: Jim Meyering <meyering@redhat.com>
Date:   Wed Nov 11 20:57:13 2009 +0100

    maint/sc: use STREQ, not strcmp(a,b) == 0
    
    Run this command:
      git grep -l 'strcmp *([^=]*== *0'|xargs \
        perl -pi -e 's/\bstrcmp( *\(.*?\)) *== *0/STREQ$1/g'
    and then add the new definition.
    * src/system.h (STREQ): Define.
    * src/cmp.c (main): Use STREQ, not strcmp.
    * src/diff.c (main, compare_files): Likewise.
    * src/diff3.c (main): Likewise.
    * src/sdiff.c (expand_name): Likewise.
    * cfg.mk (local-checks-to-skip): Add sc_prohibit_strcmp.

commit c952719219ef62b8405edd68f47716ad29d7c41d
Author: Jim Meyering <meyering@redhat.com>
Date:   Wed Nov 11 20:50:55 2009 +0100

    maint/sc: enforce "file system" spelling
    
    * src/system.h: Spell it as two words, not one.
    * ms/config.sed: Likewise.
    * cfg.mk (local-checks-to-skip): Remove sc_file_system.

commit 036f253976af28b3112a7b246069f73345023ded
Author: Jim Meyering <meyering@redhat.com>
Date:   Wed Nov 11 20:48:06 2009 +0100

    maint/sc: enable check for CVS keyword expansion
    
    * doc/diff.texi: Remove $Id$.
    * cfg.mk (local-checks-to-skip): Remove sc_prohibit_cvs_keyword.

commit e5b61431a50c0cf303ec586d139e5e4b95767abe
Author: Jim Meyering <meyering@redhat.com>
Date:   Wed Nov 11 20:44:10 2009 +0100

    maint: record previous version
    
    * .prev-version: New file.

commit 21ebf6648ef306f055004f4411331417980d817c
Author: Jim Meyering <meyering@redhat.com>
Date:   Wed Nov 11 20:43:53 2009 +0100

    maint/sc: enable check for duplicate "the"; fix one
    
    * NEWS: s/the the/the/.
    Adjust style to fit what some of the hooks and release tools expect.
    * cfg.mk (local-checks-to-skip): Remove sc_the_the.
    (old_NEWS_hash): Update.

commit f54288e8ee642ba16c57abd2252fad07625794e0
Author: Jim Meyering <meyering@redhat.com>
Date:   Wed Nov 11 19:54:28 2009 +0100

    maint/sc: remove cast of xmalloc return value
    
    * lib/prepargs.c (prepend_default_options): Remove useless cast.
    * cfg.mk (local-checks-to-skip): Remove sc_cast_of_x_alloc_return_value.

commit 90ac0e3b3bf7c069c0559c650beb5a0afa4b7614
Author: Jim Meyering <meyering@redhat.com>
Date:   Wed Nov 11 19:41:53 2009 +0100

    maint: rename ChangeLog to ChangeLog-2008
    
    * ChangeLog-2008: Rename from ChangeLog.
    * Makefile.am (EXTRA_DIST): Add ChangeLog-2008.
    * .gitignore: Ignore ChangeLog.

commit cb0791d7a466db7406b040a2670cbb27dfc184b1
Author: Jim Meyering <meyering@redhat.com>
Date:   Wed Nov 11 19:36:10 2009 +0100

    maint/sc: remove useless if-before-free tests
    
    * src/diff.c (compare-files): Remove useless if stmts.
    * src/dir.c (diff_dirs): Likewise.
    * cfg.mk (local-checks-to-skip): Remove sc_avoid_if_before_free.

commit 8075840b3938a05d7dc931adcb6d0ca9e90d432d
Author: Jim Meyering <meyering@redhat.com>
Date:   Wed Nov 11 15:18:13 2009 +0100

    maint: require newer automake, new non-major version string, dist-xz
    
    * configure.ac: Drop -cvs suffix.  Switch to git-based format.
    Distribute xz-compressed tarballs, too.
    Require automake-1.11.
    Enable automake's --enable-silent-rules option.

commit a9a19e94fbb30fe57846bf94d03d61f8b84f9f9e
Author: Jim Meyering <meyering@redhat.com>
Date:   Wed Nov 11 15:13:54 2009 +0100

    build: update build/release infrastructure
    
    * bootstrap: Update from gnulib.
    * bootstrap.conf (gnulib-modules): Add do-release-commit-and-tag,
    git-version-gen, gnu-make, gnu-web-doc-update, gnumakefile, gnupload,
    maintainer-makefile, update-copyright.
    * gnulib-tests/Makefile.am: New file.
    * cfg.mk: New file.
    (local-checks-to-skip): List currently-failing tests,
    so that "syntax-check" passes initially.
    (manual_title): Define.

commit 8fd1173dd50ff556a19d046efee0a5bbf6aaf777
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Jan 31 00:45:01 2008 +0000

    * doc/diff.texi: Update Back-Cover text to reflect new GNU wording.

commit f1a0d330653ed34da99313c510fbc6ee7844b523
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Jan 24 17:49:46 2008 +0000

    * src/side.c [!HAVE_MBRTOWC]: Supply defns for mbstate_t and mbrtowc.
    
    Problem reported by Bruno Haible.

commit c3b0f9e45b0660716286fc561f38abdd1019c239
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Jan 24 00:02:11 2008 +0000

    * src/side.c (print_half_line): Don't convert to unsigned char
    
    unnecessarily.

commit 8983b8d9040d3b909e8a7aeda9188affa1585014
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Wed Jan 23 23:56:30 2008 +0000

    Don't mishandle multibyte characters in side-by-side format.
    
    Problem reported by Erik Karlsson in
    <http://lists.gnu.org/archive/html/bug-gnu-utils/2008-01/msg00030.html>.
    * bootstrap.conf (gnulib_modules): Add wcwidth.
    * src/side.c: Include <wchar.h>.
    (print_half_line): Compute number of bytes and print widths of
    multibyte characters.  Inspired by an alternative solution from
    Bruno Haible in
    <http://lists.gnu.org/archive/html/bug-gnu-utils/2008-01/msg00032.html>.

commit e1820a76c057c2c7c5f46f51c6fc37dae8c423c1
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Wed Dec 5 07:24:14 2007 +0000

    * NEWS: New diff option --suppress-blank-empty (no longer -u default).
    
    * doc/diff.texi (Detailed Unified): Trailing spaces are no longer
    omitted.
    (Trailing Blanks): New section.
    (diff Options) Mention new option.
    * src/diff.h (suppress_blank_entry): New decl.
    * src/context.c (pr_unidiff_hunk): Support --suppress-blank-empty.
    * src/util.c (print_1_line): Likewise.
    * src/diff.c (longopts, main, option_help_msgid): Likewise.
    (SUPPRESS_BLANK_EMPTY_OPTION): New constant.

commit d4897fbc006f1c7ff2c1b825fa86c299c46472c8
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Wed Dec 5 07:07:22 2007 +0000

    * configure.ac: Invoke gl_USE_SYSTEM_EXTENSIONS after gl_EARLY,
    
    since gnulib now requires this order.

commit 99c5b6631d8e766cca9ec5595ae552ec34a58c00
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Wed Dec 5 07:01:49 2007 +0000

    * bootstrap: Import from gnulib.

commit 9c6f0755416965dc426cc2f60c6635f04531e35a
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Aug 17 23:37:27 2007 +0000

    Fix typo in previous change; Bruno wrote the code.

commit 0cb3c7ffeff111a4784185c0c791b92dc4ad2d61
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Aug 17 23:35:48 2007 +0000

    Break out diffseq.h into a separate file, so that gettext can use
    this code.  Idea from Bruno Haible.
    * bootstrap.conf (gnulib_modules): Add diffseq.
    * src/analyze.c (xvec, yvec, fdiag, bdiag, too_expensive, SNAKE_LIMIT):
    (struct partition, diag, compareseq): Remove; now in diffseq.h.
    (ELEMENT, EQUAL, OFFSET, EXTRA_CONTEXT_FIELDS, NOTE_DELETE, NOTE_INSERT):
    (USE_HEURISTIC): New macros.
    Include "diffseq.h".
    (diff_2_files): Rewrite to use new diffseq.h interface.

commit 53aeb341d52b8d56cd5080d146330a6cb114d4ba
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Aug 17 23:18:56 2007 +0000

    * bootstrap: Import from gnulib.

commit e78fa511978bacb0948eb333a815d66b14bc0782
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Wed Aug 15 19:33:36 2007 +0000

    * doc/diff.texi (Copying This Manual): Adjust to new fdl.texi layout.

commit 28c227c281a947a7ebac93f2784d9f7a0dac3ffc
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Wed Aug 15 19:32:22 2007 +0000

    * src/diff.c (compare_files): Use last_component rather than base_name,
    adjusting to gnulib API change.  This avoids a memory leak.
    * src/sdiff.c (expand_name): Likewise.
    * src/util.c (dir_file_pathname): Likewise.

commit 4805ca767a3c9b20deede49b2e4b294e58a28325
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Jul 19 18:26:38 2007 +0000

    * doc/diff.texi (White Space): Note that newline always ends a line,
    so -w doesn't ignore newline-related changes.  Problem reported by
    David Kastrup.

commit 7e7a52f33be97ba6ae5ffcca4c504f243ecc12eb
Author: Jim Meyering <meyering@redhat.com>
Date:   Wed Nov 11 12:35:21 2009 +0100

    remove many files
    
    Many are now obtained via bootstrap from gnulib.
    Others (ms/) were not being maintained.

commit 43e4846f1153b7fc199a46c29f5b73c1cff49757
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Jul 19 17:45:29 2007 +0000

    * COPYING: New file.
    * AUTHORS: Update from GPLv2 to GPLv3.
    * Makefile.am: Likewise.
    * NEWS: Likewise.
    * README: Likewise.
    * README-hacking: Likewise.
    * bootstrap: Likewise.
    * bootstrap.conf: Likewise.
    * configure.ac: Likewise.
    * exgettext: Likewise.
    * doc/Makefile.am: Likewise.
    * lib/Makefile.am: Likewise.
    * lib/cmpbuf.c: Likewise.
    * lib/cmpbuf.h: Likewise.
    * lib/prepargs.c: Likewise.
    * m4/vararrays.m4: Likewise.
    * man/Makefile.am: Likewise.
    * ms/Makefile.am: Likewise.
    * ms/README: Likewise.
    * ms/config.bat: Likewise.
    * ms/config.sed: Likewise.
    * ms/config.site: Likewise.
    * po/POTFILES.in: Likewise.
    * src/Makefile.am: Likewise.
    * src/analyze.c: Likewise.
    * src/cmp.c: Likewise.
    * src/context.c: Likewise.
    * src/diff.c: Likewise.
    * src/diff.h: Likewise.
    * src/diff3.c: Likewise.
    * src/dir.c: Likewise.
    * src/ed.c: Likewise.
    * src/io.c: Likewise.
    * src/normal.c: Likewise.
    * src/sdiff.c: Likewise.
    * src/system.h: Likewise.
    * src/util.c: Likewise.

commit 4e45d1d3241f2dbe27d1d434b5e44077457528d6
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Jul 19 17:19:39 2007 +0000

    * src/ifdef.c: Fix typo: "GNU DIFF General Public License" should be
    "GNU General Public License".  Reported by Erich Guenther.
    * src/side.c: Likewise.

commit 2e5425cc4d56407e83e931bcff395d5813ef353b
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Jun 18 22:57:12 2007 +0000

    (print_context_label): Use TYPE_IS_INTEGER macro rather than rolling
    it ourselves.

commit 7f61a0561421a669321c382d79d8e83a08aad21f
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Jun 18 22:45:24 2007 +0000

    * bootstrap.conf (gnulib_modules): Add inttypes.

commit 2da851745e00e862d7afa4dda21276fc859d5c7f
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Jun 18 22:23:18 2007 +0000

    * src/context.c (print_context_label): Don't assume that time_t
    fits in long int, since it doesn't in FreeBSD/arm.  Problem
    reported by Xin Li in
    <http://lists.gnu.org/archive/html/bug-gnu-utils/2007-06/msg00091.html>.

commit b8c8ac122f2f060c9998d20c94d71883bd3435d7
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Wed Jun 6 23:40:16 2007 +0000

    * NEWS:  Mention new sdiff aliases 1 and 2 for l and r.
    * doc/diff.texi (Merge Commands): Likewise.
    * src/sdiff.c (give_help): Give help for them.
    (edit): Support them.

commit cbadd508f38bca085f94fa704b551fdca9097a6f
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Apr 12 00:15:15 2007 +0000

    * doc/diff.texi (Detailed diff3 Normal): "range is a singleton" ->
    "there is only one line", for clarity.  Suggested by Jerry Peek.

commit f9179e0514ce957641d6ba61225e9275d0f74c03
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Wed Apr 4 22:11:27 2007 +0000

    * TODO: Mention possible sdiff improvement.

commit c7f95e3605303a49dec2dc5a4f96b5b1c7c87518
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Wed Apr 4 22:08:14 2007 +0000

    * bootstrap: Sync from gnulib.
    * src/cmp.c: Don't include exit.h; no longer needed.
    * src/diff.c: Likewise.
    * src/sdiff.c: Likewise.
    * src/dir.c: Don't include strcase.h; no longer needed.
    * README-alpha: Remove, replacing with:
    * README-hacking: New file, taken from coreutils with some changes.
    The rename is required by the change to 'bootstrap'.

commit 2f9d531901f2126e6157aed6d23df18d3509b308
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Wed Nov 15 09:25:48 2006 +0000

    * src/analyze.c (build_reverse_script): Fix typo in comment.
    Problem and fix reported by Daniel Hipschman.

commit 2a324549cee6cb97de866694218354186922ac9a
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Nov 14 22:53:59 2006 +0000

    * src/sdiff.c (sigprocmask): Don't dump core if O is null.

commit 1795be71fb9db24aaa5d3ef2fd71f0f952ccb72f
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Nov 14 20:22:12 2006 +0000

    Don't assume SIGPIPE exists, and that sigblock and sigsetmask
    exist if sigprocmask does not.  Problem reported by Paul Edwards
    for MVS 3.8.
    * configure.ac (sigblock): Check whether this function is
    available, if sigprocmask is not.
    * src/sdiff.c (sigs): Omit SIGPIPE if it's not defined.
    Put SIGINT last; all uses changed.
    (handler_index_of_SIGPIPE): Omit if SIGPIPE is not defined.
    (sigblock, sigsetmask) [!HAVE_SIGBLOCK]: New macros.

commit 6bd6999fed54d8c9e1f95308304141663202db73
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Nov 5 00:57:34 2006 +0000

    * src/sdiff.c (sigprocmask) [! HAVE_SIGPROCMASK]: Cast 2nd arg to
    sigset_t *, since it might be a literal 0.  Problem reported by
    Paul Edwards for MVS 3.8.

commit 10892a2dccbd79676e1da06801006e35e05e0830
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Sep 5 23:02:32 2006 +0000

    * NEWS: diff -u no longer outputs trailing white space unless the
    input data has it.

commit 2daf7bfa36f4f44692330e1102ebe004198bbc0f
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Sep 5 22:57:29 2006 +0000

    Modernize bootstrap procedure to match current gnulib.
    * bootstrap: Sync with coreutils bootstrap, except check that
    the directory build-aux exists before trying to copy to it.
    * bootstrap.conf: New file.
    (gnulib_modules): Add config-h, dup2, extensions, fcntl, fdl,
    stat-macros, unistd.
    * configure.ac: Invoke gl_EARLY and gl_INIT rather than
    GNULIB_AUTOCONF_SNIPPET.
    (AC_CONFIG_HEADER): Rename config.h to lib/config.h.
    (AC_CHECK_HEADERS_ONCE): Don't check for fcntl.h, locale.h,
    sys/file.h, unistd.h.  We now use the fcntl and unistd modules,
    and locale.h can be assumed for any C89 compiler.
    (DIFFUTILS_PREREQUISITES): Remove.  No longer needed now that
    we use the stdint module.
    (AC_CHECK_FUNCS_ONCE): Remove dup2, which is no longer needed
    now that we use the dup2 module.
    (AM_GNU_GETTEXT): Use need-formatstring-macros, and ...
    (AM_GNU_GETTEXT_VERSION): specify version 0.15 instead of 0.14.5,
    to be consistent with coreutils.
    * lib/Makefile.am (noinst_LIBRARIES):
    (lib_SOURCES, libdiffutils_a_LIBADD):
    (libdiffutils_a_DEPENDENCIES, BUILT_SOURCES, EXTRA_DIST):
    (MOSTLYCLEANFILES): Remove; now computed automatically.
    (noinst_HEADERS, libdiffutils_a_SOURCES): Just append
    our special files now.
    * lib/cmpbuf.c: Include config.h unconditionally, since we
    no longer define HAVE_CONFIG_H.
    * lib/prepargs.c: Likewise.
    * src/Makefile.am (LDADD): Use $(LIBINTL), not @LIBINTL@.
    (diff_LDADD): Use $(LIB_CLOCK_GETTIME), not @LIB_CLOCK_GETTIME@.
    * src/dir.c (dir_read): Use _D_EXACT_NAMLEN, not NAMELEN.
    * src/system.h (volatile): Remove, since we assume C89 or better.
    Include stat-macros.h.
    (S_IRWXU, S_IRWXG, S_IRWXO, S_IRUSR, S_IWUSR):
    Remove, since we now use stat-macros.h.
    (SEEK_SET, SEEK_CUR): Remove, since we assume C89 or better.
    Include unistd.h unconditionally, since we use unistd.
    Likewise for fcntl.h.
    (dup2): Remove, since we now use dup2.
    (O_RDONLY, O_RWDR, O_BINARY): Remove, since we now use
    fcntl.
    Include dirent.h unconditionally.
    (NAMLEN): Remove, replacing with....
    (_D_EXACT_NAMLEN): New macro.
    Include inttypes.h unconditionally.
    (PTRDIFF_MAX, SIZE_MAX, UINTMAX_MAX, strtoumax): Remove, since
    we now use inttypes.
    Include locale.h unconditionally.
    (setlocale): Remove, since we now assume locale.h.

commit a204b37fb2d871df551d9bf6fb722d8f269a0754
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Sep 5 22:57:09 2006 +0000

    * doc/diff.texi (Detailed Unified): Don't output trailing white
    space unless the input data has it.
    * src/context.c (pr_unidiff_hunk): Likewise.

commit 19397f6b83f488de0e54c7ea4972e86515677752
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Sep 5 14:04:57 2006 +0000

    * src/context.c (print_context_function): Do not print
    trailing white space in a context header.

commit 32625c50259a94e480ab8184a9b6af674e854076
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Wed Jul 26 06:20:59 2006 +0000

    (cmp Options): -l also outputs the EOF message.

commit 67d3afe06ae68b181de2be258099c62400bc3b81
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue May 9 22:57:20 2006 +0000

    * src/cmp.c (cmp): The previous fix wasn't quite right either, as
    it mishandled 'cmp A B >/dev/null' when A is shorter than B and
    differs before A's end-of-file, by outputting a bogus EOF message.
    Also, it was inefficient if A and B were large.

commit f0098c7f4f1c88f7f24af9b3d0ac56bee63ace82
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon May 8 07:21:34 2006 +0000

    Use Jim's wording in ChangeLog entry, mostly.

commit f74bf8344446af160009ddd6f9a1bfde43092adc
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon May 8 07:17:54 2006 +0000

    Correct authorship of previous patch.

commit 69aaf732ab2fbed74b3b19d9e3e0adc6b0ff372e
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon May 8 01:41:04 2006 +0000

    * src/cmp.c (cmp): Fix bug introduced in 2006-03-09 change.
    For example, "cmp <(echo b) <(echo a) > /dev/null" incorrectly
    succeeded.  Problem reported by Jim Meyering.

commit 96e1fbe4c727ac843a4760859148378c22d52b66
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun May 7 08:16:19 2006 +0000

    * src/context.c (pr_context_hunk, pr_unidiff_hunk):
    Prefer fputs or fputc to fprintf, since it's a tad more efficient
    with unlocked-IO on glibc.  Long ago we avoided fputs to
    work around an ancient SunOS bug, but that's no longer relevant.
    * src/diff3.c (output_diff3, dotlines, undotlines):
    (output_diff3_edscript, output_diff3_merge): Likewise.
    This also avoids a gcc -Wformat-security warning reported
    by Jim Meyering.
    * src/ed.c (print_ed_hunk, print_forward_ed_hunk, print_rcs_hunk):
    Likewise.
    * src/normal.c (print_normal_hunk): Likewise.

commit e0842123160e781efcc0ddbf854dae53b7f674e2
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun May 7 04:07:58 2006 +0000

    find_identical_ends and doc/diff.texi fixes

commit 58d0483b621792959a485876aee05d799b6470de
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun May 7 04:07:41 2006 +0000

    (find_identical_ends): Fix huge performance bug that I
    introduced in the 2001-11-25 change: the code to remove the
    identical suffix also looked at the trailing sentinel, which meant
    the common suffix length was always incorrectly calculated to be
    zero.  Problem and fix reported by Daniel Hipschman.  Instead of
    his fix, revert to the (nearly-equivalent) pre-2001 code.

commit bcfeb9cb38452c38234b2b783fff51c0ba529a12
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun May 7 04:06:50 2006 +0000

    Switch from GFDL 1.1 to 1.2.

commit 4c0c7c59d6728975d7b18dd3ca3f76c8cecd8ce8
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Mar 13 19:11:17 2006 +0000

    * src/system.h (PARAMS, PROTOTYPES): Remove; no longer needed.
    (IF_LINT): New macro, to pacify GCC.
    * src/analyze.c (diag, compareseq): Use IF_LINT.
    * src/cmp.c (cmp): Likewise.
    * src/diff3.c (process_diff): Likewise.  Also, prefer NULL to 0.
    * src/ifdef.c (do_printf_spec, scan_char_literal): Likewise.
    * src/sdiff.c (edit): Likewise.

commit a3dd61b474f62af16f8638679c8ade0ab34978cf
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Mar 9 20:57:25 2006 +0000

    Update code comment to match previous patch.

commit dab9c7e59b283db312c08ac765ac41e2338cdaf7
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Mar 9 20:54:39 2006 +0000

    (main): Avoid an unnecessary system call introduced in previous patch.

commit 708ba31420d0bf4dfaa37fafa566727312ecb966
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Mar 9 20:38:11 2006 +0000

    * src/cmp.c (type_no_stdout): New constant.
    (main): Use it to avoid bug when the "EOF on foo" message is
    generated and stdout is /dev/null.

commit 57253a174c8645f56d1dbe7032b8c0128ec4a68c
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Jan 5 07:33:42 2006 +0000

    Handle gettext.m4 like glibc21.m4.  Don't remove po/en.po.

commit f5c76109838cdf542958a88020bd34e2f54f97a4
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Jan 5 07:23:55 2006 +0000

    Update FSF address.

commit e781e2df7cbe7794165e267a627417c906e4adbd
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Jan 5 07:15:26 2006 +0000

    Describe CVS access better, using the README-alpha from GNU tar.

commit 91b8605708cf2d7c49679a46a80b4039167da2cd
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Jan 5 07:08:23 2006 +0000

    * src/cmp.c: Don't include <setmode.h>.
    (specify_ignore_initial): Reword to avoid gcc -W warnings.
    (main): Use freopen instead of setmode, since freopen is in POSIX.
    * src/context.c: Revert most 2004-09-01 changes.  Then:
    (TIMESPEC_NS): Remove.  All uses replaced by
    get_stat_mtime_ns.
    Include stat-time.h, strftime.h.
    (nstrtime): Remove decl.
    * src/diff.c: Revert most 2004-09-01 changes.  Then:
    Don't include <posixver.h>, <quotesys.h>, <setmode.h>.
    Include <sh-quote.h>, <stat-time.h>, <timespec.h>.
    All uses of quotesys replaced by sh-quote.
    (main, compare_files):
    Use freopen instead of setmode, since freopen is in POSIX.
    (main): Don't complain about "diff -NUM'.
    (main, set_mtime_to_now):
    Adjust to stat-time.h macros when accessing nanoseconds.
    * src/diff3.c: Include sh-quote.h rather than quotesys.  All uses
    changed.
    * src/dir.c (dir_read): excluded_filename renamed to
    excluded_file_name.
    * src/io.c: Don't include <setmode.h>.
    (sip, read_files): Remove binary file stuff, leaving a FIXME behind.
    A DOS expert needs to look at this.
    * src/diff.c: Include sh-quote.h rather than quotesys.h.
    All uses changed.
    * src/system.h: Include verify.h.
    (verify): Remove.  All uses changed to verify.h version.
    Include <intprops.h>.
    (TYPE_SIGNED, TYPE_MINIMUM, TYPE_MAXIMUM): Remove.  Now uses
    intprops.h versions.
    (O_BINARY): New defns, taken from coreutils.
    * src/util.c: Include sh-quote.h rather than quotesys.h.
    All uses changed.

commit 174ab8396535806d77708990568f9817d11d5bb3
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Wed Sep 1 15:06:09 2004 +0000

    (recursive, new_file, unidirectional_new_file,
    report_identical_files): Move into struct diffopt.  All uses changed.
    (exclude_options, compare_files, specify_style, check_stdout):
    New arg OPT.  All uses changed.
    (GDIFF_MAIN): Remove.  All uses removed.
    (function_regexp_list, ignore_regexp_list): No longer static; now
    locals in 'main'.
    (main): Set opt.function_regexp, opt.ignore_regexp if using regexps;
    all other code now tests these pointers rather than inspecting fastmap
    internals.
    New local OPT to hold former statics; initialize it.
    (init_regexp_list): New function, used by main.
    (summarize_regexp_list): Now returns struct re_pattern_buffer *, and
    assumes reglist->regexps is not NULL.  All uses changed.

commit 203069b84a21bd917b6d971705fcf0480579e718
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Wed Sep 1 14:50:42 2004 +0000

    (find_function_last_search): Move into struct diffopt.
    All uses changed.
    (pr_context_label, pr_context_header,
    print_context_script, find_function, find_hunk, mark_ignorable,
    pr_context_hunk, pr_unidiff_hunk): New arg OPT.  All uses changed.
    (print_context_number_range,
    print_unidiff_number_range): New arg OUT.  All uses changed.

commit 3b8636727556fc88f4517e57bb65ef60ea78c8e9
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Wed Sep 1 14:37:55 2004 +0000

    Add AC_C_INLINE.

commit 0d349232b335031c4ef8d8d07e2c712cf1f9ba3d
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Wed Jul 21 08:58:38 2004 +0000

    (print_ed_hunk): Optimize the case where an insert's
    last line is a single-dot line.

commit 61d0b7e9bd56a3999d0697a5fa2e87c4a2d170d2
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Wed Jul 21 08:58:12 2004 +0000

    Initial revision

commit ce64bdaf0ec7aa164b1a36bbd9ec79124f08386f
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Wed Jun 30 17:49:57 2004 +0000

    Don't include <stdbool.h>, since setmode.h now does this.
    Include setmode.h first, to catch interface errors.
    Assume HAVE_SETMODE_DOS is defined.

commit 4f8fa6adc36c096088803a9bf2654ce1a4f8b5a8
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Wed Jun 30 17:46:07 2004 +0000

    Include stdbool.h.

commit 316aba17275e68e7be4d5c16ee26ca1f61a1068c
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Apr 26 18:04:04 2004 +0000

    Don't remove po/en.po.

commit 9080cf851154c54bef83895133f11ffcdff837a3
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Apr 13 22:39:49 2004 +0000

    Don't generate a temporary file, as this runs afoul of "make distcheck"
    which operates with read-only directories.

commit 6a7b42e65a6f57eca1747f2571fb871d90c86431
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Apr 13 06:56:38 2004 +0000

    (EXTRA_DIST): Add bootstrap.
    Remove config/config.rpath as it is deduced automatically these days.

commit 4a1de90b3c191e6854a5f91360b50d5f9ef8e859
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Apr 13 06:56:18 2004 +0000

    Version 2.8.7.

commit a76094697e04ec706d37cc5a8b7ad73048fecfef
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Apr 13 06:55:43 2004 +0000

    (AM_GNU_GETTEXT_VERSION): Add.
    (XGETTEXT): Restore from pre-2004-04-12 version.  This fixes
    a bug that lost many msgids in doc/diffutils.pot.
    (AC_INIT): Version 2.8.7.

commit 45cc4e0358a8dc81675edf3c6c17ad0386bd4627
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Apr 13 06:47:34 2004 +0000

    Initial revision

commit fefbcf76e6e9097c97b73c387db27b852c57909e
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Apr 12 23:07:15 2004 +0000

    (AC_CONFIG_COMMANDS): Remove.

commit 74bdeeafed854701b934062d66ac2363016b5f1e
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Apr 12 20:45:50 2004 +0000

    (EXTRA_DIST): Add setmode.h.

commit 2e225054695624e563061098b6ca6e03dc619d47
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Apr 12 20:30:57 2004 +0000

    Use inttostr module, so we needn't worry about specifying it ourself.

commit a74be8d413ed08f1fd2e73499f73e453be2f6e39
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Apr 12 07:44:35 2004 +0000

    * configure.ac: Quote various arguments better.
    (AC_CONFIG_MACRO_DIR): Add call, specifying "m4".
    (AC_CONFIG_HEADER): Replaces AM_CONFIG_HEADER.
    (gl_USE_SYSTEM_EXTENSIONS): Replaces AC_GNU_SOURCE.
    (AC_ISC_POSIX): Remove; nobody ports to ancient ISC any more.
    (AC_PROG_CPP, AC_PROG_INSTALL, AC_C_INLINE,
    AC_HEADER_STDBOOL, AC_HEADER_STDC, AM_GNU_GETTEXT, XGETTEXT,
    AC_HEADER_STAT, AC_FUNC_VPRINTF, jm_FUNC_GLIBC_UNLOCKED_IO,
    jm_FUNC_GNU_STRFTIME, jm_FUNC_MALLOC, jm_FUNC_REALLOC,
    jm_PREREQ_C_STACK, jm_PREREQ_ERROR, jm_PREREQ_HARD_LOCALE,
    jm_PREREQ_QUOTEARG, jm_PREREQ_REGEX, AC_FUNC_FNMATCH_GNU, jm_AC_DOS):
    Remove; not needed here, as our files don't use them directly
    or we rely on gnulib modules.
    (AC_C_CONST): Remove; we assume C89 now.
    (AC_CHECK_HEADERS): Remove libintl.h, limits.h, stdlib.h, string.h,
    time.h.
    (AC_CHECK_TYPE): Remove ptrdiff_t, ssize_t.
    (AC_CHECK_FUNCS): Remove diraccess, strchr, strerror, tmpnam).
    (AC_REPLACE_FUNCS): Remove memchr, mkstemp, strcasecmp.
    (GNULIB_AUTOCONF_SNIPPET): Add call.  This replaces much of
    the above.
    (AC_CONFIG_FILES): Remove lib/posix/Makefile.

commit 2ea441f7e2238c3cb0b31bf1e8f9cf308f9d4c21
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Apr 12 07:44:35 2004 +0000

    Initial revision

commit b3f6204729da36e1b91222a3a37ae1b5b6183db4
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Apr 12 07:44:35 2004 +0000

    Move copyright notice to end.  Defer to "configure
    --help" for special "configure" options.  Suggest latest libiconv.      Update version numbers of Autoconf etc. to current.

commit 477cd3074a36e5f5f6ea9d986f0772cf3f27cfbe
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Apr 12 07:44:35 2004 +0000

    Add news for 2.8.4, 2.8.6.

commit 3f0830fef57d62a48bbfdaa868698038b7b085f7
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Apr 12 07:44:35 2004 +0000

    Do not include regex.h, as diff.h does this now.
    (lines_differ): Don't convert char * to unsigned char *;
    just leave pointers as char *.  This lessens the number of
    potentially-dangerous casts.

commit 43adfd44c5edd962d042abb1976ad0710748d7d5
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Apr 12 07:44:35 2004 +0000

    (S_IRWXU, S_IRWXG, S_IRWXO): Define if not defined.
    (S_IXUSR, S_IXGRP, S_IXOTH): Remove.
    Include <time.h> unconditionally, since we can assume C89 now.
    Likewise for <stdlib.h>, <string.h>.
    (getenv, EXIT_SUCCESS, EXIT_FAILURE, SSIZE_MAX, strchr, strrchr,
    memcmp, memcpy): Remove decl; no longer needed.
    (strcasecoll, strcasecmp): Define if not built in.
    (CTYPE_DOMAIN, ISPRINT, ISSPACE, TOLOWER, _tolower, errno): Remove;
    we now assume C89 or better.  All uses changed.
    Include <stdbool.h> unconditionally now, since gnulib supports it
    if the C compiler doesn't.  All boolean uses of 0 and 1 now
    changed to false and true.
    (lin_is_printable_as_long_int): Renamed from lin_is_printable_as_long.

commit 5af1582ab885a37805191cb2a76026eb67560b1e
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Apr 12 07:44:35 2004 +0000

    minor cleanups for bool, etc

commit c151c4194b162bcee131693aa82359da2b196650
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Apr 12 07:44:35 2004 +0000

    (usage): Mention exit status.
    (main): Adjust to latest gnulib c_stack_action calling conventions.
    Adjust to latest version_etc calling conventions.
    Include <unlocked-io.h>, <exit.h>.
    (check_child_status): Renamed from ck_editor_status, and
    accept a new arg MAX_OK_STATUS.  All callers changed.
    Handle status 126/127 as per POSIX.
    (edit): Likewise.
    (main): Likewise.  Fix getopt typo: -E wasn't supported.

commit 4cdc5fbf2b6e1dd5a38ea4b7d83e3a085ea5c549
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Apr 12 07:44:35 2004 +0000

    Do not include regex.h, as diff.h does this now.
    (find_and_hash_each_line): Don't convert char *
    to unsigned char *; just leave pointers as char *.  This
    lessens the number of potentially-dangerous casts.

commit fbe4a6f698f834461143df0b2868e6545ee45702
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Apr 12 07:44:35 2004 +0000

    (next_line): Remove; replace with...
    (next_line0, next_line1): New vars.
    (print_ifdef_script, print_ifdef_hunk):
    Use them to fix line-number computation bug.

commit b4a6ac7a09084fc340be083ad45fb8c40c959545
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Apr 12 07:44:35 2004 +0000

    int -> long int

commit ede07ddb4d1ca04aab16088671cfae01752e83b9
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Apr 12 07:44:35 2004 +0000

    Include <strcase.h>.
    (failed_locale_specific_sorting): Renamed from failed_strcoll.
    All uses changed.
    (compare_names): Don't invoke strcasecmp first thing when
    ignore_file_name_case; if locale_specific_sorting, we should
    just use that.

commit d5b0491a3196315c14597f5542234a57472dd547
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Apr 12 07:44:35 2004 +0000

    (usage): Mention exit status.
    (main): Adjust to latest gnulib c_stack_action calling conventions.
    Adjust to latest version_etc calling conventions.
    Include unlocked-io.h.
    (strip_trailing_cr): New var.
    (STRIP_TRAILING_CR_OPTION): New enum.
    (longopts, main, option_help_msgid, read_diff):
    Add --strip-trailing-cr support.
    (read_diff): Exit with status 126 (not 127) if errno != ENOENT
    after failed execvp in child.  Report this in parent.

commit 70a8b49b0fb78ea910a4e3fa1fc3846227d7fc42
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Apr 12 07:44:35 2004 +0000

    Include regex.h, unlocked-io.h.
    (struct file_data.changed): Now char *, not bool *, to save
    space on hosts where bool takes more space than char.
    All uses changed.

commit 0b52cc41fc62fec5c6b1920930a20bf26382dfcd
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Apr 12 07:44:35 2004 +0000

    Do not include regex.h, as diff.h does this now.
    (option_help_msgid): Mention exit status.
    (main): Adjust to latest gnulib c_stack_action calling conventions.
    Adjust to latest version_etc calling conventions.
    Include <exit.h>.
    (binary): Define to true if not declared.
    (longopts): Set tabsize flag to 1.
    (main): Don't output nanoseconds if platform lacks them.
    Don't treat files as binary if !binary.
    (set_mtime_to_now): Use 0, not NULL.
    (compare_files): Mark files as nonexistent if it looks like
    'patch' created inaccessible regular empty files to denote
    nonexistent backups.  Don't compare such files.
    Clear st_* members of status of nonexistent file.
    Remove now-unnecessary tests.

commit fae8239911a876b179c0c57ace09f837aaa6541a
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Apr 12 07:44:35 2004 +0000

    Do not include regex.h, as diff.h does this now.

commit 61d1ff8d5006c448ed7f257b021e48c5c2afac42
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Apr 12 07:44:35 2004 +0000

    Sort includes.  Include <exit.h>, <unlocked-io.h>.
    (specify_comparison_type): Don't report an error if the comparison
    type has already been specified the same way as this one.
    (usage): Mention exit status.
    (main): Adjust to latest gnulib c_stack_action calling conventions.
    (main): Adjust to latest version_etc calling conventions.

commit 0ebd95fcbdec9f353f89378dad84e2cdb4e3c1fd
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Apr 12 07:44:35 2004 +0000

    (SUBDIRS): Remove.
    (EXTRA_DIST, noinst_HEADERS): Remove most entries.
    (libdiffutils_a_SOURCES): Now just lib_SOURCES.
    (lib_SOURCES): New macro.
    (DISTCLEANFILES, MOSTLYCLEANFILES): Set to empty now.
    (gnulib.mk): Include: this does most of the work eliminated
    by the above changes.

commit 59500c52b299db1bd589517dbc3b781cb576dcdc
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Apr 12 07:44:35 2004 +0000

    (set_binary_mode): Return true, not 1.

commit 6fc04adf128379f0efac92966a52865fb5f87e29
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Apr 12 07:44:35 2004 +0000

    (__attribute__): New macro.
    (set_binary_mode): Define only if HAVE_SETMODE_DOS.
    Otherwise define a dummy static char, as C89 requires
    that we define something.

commit 6243e2580a0a84026f75edb2a54edfc39d39825e
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Apr 12 07:44:35 2004 +0000

    (dircategory): Change to "Text creation and
    manipulation" from "GNU packages".
    (Translations): New node.
    (Overview): Improve quality of algorithm citations.
    (Binary): -q doesn't exactly cause diff to assume files are binary.
    (Normal): Place after Side by Side, since it's less important.
    (Detailed Context, Detailed Unified, Detailed ed,
    Detailed if-then-else, diff3 Hunks, Detailed diff3 Normal):
    Place at end of menu.
    (Detailed Unified): Mention that fractional timestamps are
    omitted on hosts that don't support them.
    Mention what happens when hunks contain just one line.
    (Line Group Formats, Reject Names): Fix duplicate-word typos.
    (Comparing Directories): Trailing white space and empty lines are
    ignored in the -X file.
    (diff Options): Add --strip-trailing-cr.
    (Projects): gnu -> gvc@gnu.org.

commit 16b4efacf9235515793fcc0a3e827a98219a80f9
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Mar 12 04:39:09 2004 +0000

    (diag): Return void, not lin, since the return
    value wasn't needed.  All callers changed.
    (diag, diff_2_files):
    Use 'true' and 'false' instead of '1' and '0', when appropriate.
    (compareseq): Use lin const * local variables instead of lin *.
    Don't bother checking diag's return value.
    (shift_boundaries, build_reverse_script, build_script, diff_2_files):
    Use char arrays, not bool arrays, since
    sizeof (bool) might be greater than 1.

commit 4ed49df5e498c76b610fc1cb86c5411efb65c090
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Mar 8 00:03:44 2004 +0000

    (Makefile.am): Don't use $<, as it doesn't work with Solaris make.

commit da9e16ed92a74144ed0798aa6d7d4e2e6ad921c7
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Feb 9 08:29:40 2004 +0000

    (AC_FUNC_SETMODE_DOS): AC_LIBOBJ(setmode) if true.

commit a6c2999cb2757182945881bc269110468be086ba
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Jan 12 20:52:38 2004 +0000

    coreutils 5.2.0

commit 55865b500d9c55b7395a89a968eed0c1583120c6
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Jul 28 00:57:07 2003 +0000

    Use a single locale for both British and American English,
    since we don't need to use '-ise' in Britain, says the OED.

commit 74e3ee8f1939d6b2dc32410c38a103a8b906af1d
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Oct 15 03:57:20 2002 +0000

    (diff3.$(OBJEXT), diff.$(OBJEXT), sdiff.$(OBJEXT)):
    Rename from (misspelled) diff3.$(OBJECT), diff.$(OBJECT), sdiff.$(OBJECT).
    Patch by Paul D. Smith in
    <http://mail.gnu.org/pipermail/bug-gnu-utils/2002-October/003251.html>.
    Bug reported by Chris Bainbridge.

commit b6a7784af676924f577b305b5c15978f1e7847e1
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Oct 14 04:40:20 2002 +0000

    (MOSTLYCLEANFILES): Add paths.ht.
    (paths.h): Send output to paths.ht first, and then rename to
    paths.h at the end.  This avoids problems if the disk is full.
    It also works around what appears to be a bug with GNU make -j
    (3.79.1); see <http://bugs.gentoo.org/show_bug.cgi?id=8934>.

commit 2b39a9397d67262ebee902483fb5bdbcfce5c2e6
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Sep 22 07:52:26 2002 +0000

    (TYPE_SIGNED): Remove.
    (INT_STRLEN_BOUND): Don't use TYPE_SIGNED; that way, the macro works
    for either a type or an object.

commit d8c6a49f1a250041d54b8551f904c91b7a2eec61
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Aug 12 07:38:20 2002 +0000

    (jm_FUNC_REALLOC): Define HAVE_REALLOC if realloc works.

commit cf8a358fdf17330bd49ff8e1e0d0be74fba7e162
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Aug 12 07:34:43 2002 +0000

    (jm_FUNC_MALLOC): Define HAVE_MALLOC if malloc works.

commit f7a75bc37a8d5a027f3c2a4519a4db42b5fab7d9
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Wed Aug 7 09:10:36 2002 +0000

    Snapshot before syncing with gnulib again.

commit eb2b167bece3a06cdfea7d956796a89931e5813c
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Aug 4 11:15:53 2002 +0000

    Switch to GPL.

commit da7959d1e0cba81ac77d545a12c328d358f490f9
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Jul 1 14:19:20 2002 +0000

    Include sys/time.h; from Volker Borchert.

commit 6d38b808b9b4ab7d5d0685d6d21885af60c51038
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Jun 28 07:00:15 2002 +0000

    (AC_INIT): Version 2.8.4.

commit a352f09806a8606b4bbec07048da6762ce7d9afa
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Jun 28 06:58:59 2002 +0000

    (briefly_report): Don't say "Binary files differ", since one
    of the files may not be a binary file.
    Bug reported by Dan Jacobson.

commit f8d4015e3620ad843e0a73649b2ba0cb91c2c5e5
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Jun 22 13:29:17 2002 +0000

    (segv_handler, c_stack_action) [! defined SA_SIGINFO]:
    Do not assume SA_SIGINFO behavior.
    Bug reported by Jim Meyering on NetBSD 1.5.2.

commit 932176da4ca083c0b07a60bd20d830b14a058a86
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Jun 17 07:19:01 2002 +0000

    Version 2.8.3.

commit ee74fb1947e525b09250821aec95c0fdca5efae2
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Jun 17 07:15:20 2002 +0000

    Add en_US.

commit 5ac585d8c000be958b4c2a78f8c39d4aed769ee7
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Jun 17 07:03:37 2002 +0000

    Translate "Torbjorn".

commit 00ec5e4806c0645feb6c33c38e06bc58f32fcac2
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Jun 17 07:03:37 2002 +0000

    Initial revision

commit 886c533f81c3058448260622ab3bfbe494ce3978
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Jun 17 06:45:46 2002 +0000

    Include version-etc.h, not freesoft.h.
    (copyright_notice): Remove.
    (main): Use version_etc to print version.
    (version_string): Remove decl.

commit d6a560a408345cd86e74fe70b52aaff2dfef985f
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Jun 17 06:31:13 2002 +0000

    Remove lib/freesoft.c.
    Add lib/file-type.c, lib/version-etc.c, lib/xmalloc.c.

commit 12e1995d935c1d981042eb5927bc7906f4addfdd
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Jun 17 05:55:42 2002 +0000

    (version_string): Remove decl.

commit e69f844815d144855bcb1e3d72f4aa7510d2ecd3
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Jun 17 05:55:42 2002 +0000

    Include version-etc.h, not freesoft.h.
    (copyright_notice): Remove.
    (main): Use version_etc to print version.

commit b4b207d09d13f30957aa3febf82a9d0da06f5ad9
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Jun 17 05:55:42 2002 +0000

    (cmp_SOURCES, diff3_SOURCES, sdiff_SOURCES, diff_SOURCES):
    Remove version.c.
    (MAINTAINERCLEANFILES, $(srcdir)/version.c): Remove.

commit 4ead5e11465e00e3d5bdedaccb921abbb1354974
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Jun 17 05:55:42 2002 +0000

    (noinst_HEADERS): Remove freesoft.h.
    Add version-etc.h.
    (libdiffutils_a_SOURCES): Remove freesoft.c.  Add version-etc.c.

commit b0ec6101bdde2c10f43c65da03539c878345892d
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Jun 17 05:55:42 2002 +0000

    (version_etc): Remove package and version args.
    (version_etc_copyright): Remove.

commit cb95fdb5a348237bb84846202ce6d213f7d46327
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Jun 17 05:55:42 2002 +0000

    (version_etc): Remove package and version args.
    (version_etc_copyright): Remove.
    Do not include unlocked-io.h; no longer needed.
    Include gettext.h rather than libinto.h.
    (_): Define unconditionally.
    (version_etc): Adjust wording to match current GNU coding standards.
    Translate "(C)" if possible.

commit 0c3f74704f4525d9a6e55b27c791688e312573c7
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Jun 17 05:55:42 2002 +0000

    (Special Files): Document behavior of symlink loops.

commit 588fadc48e9ab796859ac6d41928cbbc982465b1
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Jun 17 05:52:49 2002 +0000

    (AC_INIT): Version 2.8.3.

commit 54b2d5d20f17f17dbd7f3198fd7940573355623e
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Jun 17 05:52:49 2002 +0000

    Update to automake 1.6.2.

commit edd7dd52ff64c0bbb05198a7fb6cc8cd9b164ad4
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Wed Jun 12 06:06:47 2002 +0000

    (WIDE_CHAR_SUPPORT): New macro.  Use it uniformly instead of
    (defined HAVE_WCTYPE_H && defined HAVE_WCHAR_H).  It also depends
    on HAVE_BTOWC.

commit 4b89533a437ec6309014174b534c28a9178a2777
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Jun 11 12:13:01 2002 +0000

    (readnum): Fix autoincrement typo.

commit d327549393709d88696313ba55aece1c29861549
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Jun 11 11:59:47 2002 +0000

    Check for HAVE_SIGALTSTACK and HAVE_GETCONTEXT, too.

commit faf225b9c68c5a42b6958f712336255fabfa1316
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Jun 11 11:56:33 2002 +0000

    Don't assume uintmax_t.  Check for getcontext and sigaltstack existence,
    too.

commit 536f11749bab2eee07d0e2c635ca9e6195663bee
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Jun 11 11:22:20 2002 +0000

    Don't invoke AC_FUNC_FNMATCH_GNU with an argument.

commit 94bad85d38ad8570928cc6d609871a2de1c26e27
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Jun 11 11:20:13 2002 +0000

    Trim trailing white space.

commit 65dbacedda1323bda3b04326110c08bed4756627
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Jun 11 11:18:52 2002 +0000

    Fix trailing white space.

commit 1886715b4b613d1f049a298e6e0b808b49bc6845
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Jun 11 11:15:03 2002 +0000

    Translate (C).

commit 1027af18b661bf6e24a9153dcfe5395db98351e9
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Jun 11 06:06:32 2002 +0000

    (finish_output): Check for ENOEXEC.
    (lines_differ, output_1_line): New option --tabsize=COLUMNS.
    (analyze_hunk): If -b or -w is also specified, -B now considers
    lines to be empty if they contain only white space.

commit 4ddc54cbc5ad3e54dceaa5b53b83467a24ec2254
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Jun 11 06:06:32 2002 +0000

    *** empty log message ***

commit 0a49c9797c2f508e62fbd06541ea7664cafc7efc
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Jun 11 06:06:32 2002 +0000

    (tab_from_to, print_half_line, print_1sdiff_line):
    New option --tabsize=COLUMNS.

commit d11594d81392ef8f68131fe9c6c846c106b22036
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Jun 11 06:06:32 2002 +0000

    Include <file-type.h>.
    Include paths.h.
    (copyright_notice): Renamed from copyright_string.
    Now a msgid, so that copyright symbol can be translated.
    All uses changed.
    (catchsig, signal_handler, initial_action): Signal handlers return void,
    not RETSIGTYPE, since we no longer support K&R.
    (TABSIZE_OPTION): New constant.
    (longopts, usage, main): New option --tabsize=COLUMNS.
    (cleanup): New arg signo.  All uses changed.
    (ck_editor_status, main, edit): Don't worry about ENOEXEC.

commit 22efb75195447a35bcdcd7c48b08edc679b55340
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Jun 11 06:06:32 2002 +0000

    Include <file-type.h>.
    (find_and_hash_each_line): New option --tabsize=COLUMNS.

commit 1572db90e55550ce98478386da6293db999c7991
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Jun 11 06:06:32 2002 +0000

    Include <file-type.h>.
    Include paths.h.
    (copyright_notice): Renamed from copyright_string.
    Now a msgid, so that copyright symbol can be translated.
    All uses changed.
    (skipwhite, readnum): New functions.
    (process_diff_control): Use them.
    (SKIPWHITE, READNUM): Remove.
    (read_diff): Don't worry about errno == ENOEXEC.

commit b4d2d2b865f4562f3c47114a7e750939802a805d
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Jun 11 06:06:32 2002 +0000

    (TAB_WIDTH): Remove.
    (tabsize): New decl.
    (sdiff_half_width, sdiff_column2_offset): Now size_t rather than
    unsigned int.

commit 208896a9c327459761e27170ae0f293550981dbf
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Jun 11 06:06:32 2002 +0000

    Include <file-type.h>.
    Include paths.h.
    (copyright_notice): Renamed from copyright_string.
    Now a msgid, so that copyright symbol can be translated.
    All uses changed.
    Include posixver.h.
    (TABSIZE_OPTION): New constant.
    (main): Allow widths up to SIZE_MAX.
    (filetype): Move to lib/file-type.c and rename to file_type.
    All uses changed.
    (longopts, main, usage): New option --tabsize=COLUMNS.

commit b2b34cb3be44f7e2f2a41aa890619b94cca85a78
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Jun 11 06:06:32 2002 +0000

    Include <file-type.h>.
    Include paths.h.
    (copyright_notice): Renamed from copyright_string.
    Now a msgid, so that copyright symbol can be translated.
    All uses changed.

commit 2aab82acbe56ab6fad747994b6ee7231dd3d6ce5
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Jun 11 06:06:32 2002 +0000

    Include <file-type.h>.

commit a1ef5140b61e798296a87b60a0a0461e8989f462
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Jun 11 06:06:32 2002 +0000

    (noinst_HEADERS): Remove diff.h.
    (DEFS): Remove.
    (diff_sources): Add diff.h.
    (MOSTLYCLEANFILES): New macro.
    (cmp.$(OBJEXT) diff3.$(OBJECT) diff.$(OBJECT) sdiff.$(OBJECT)): Depend
    on paths.h.
    (paths.h): New rule.

commit 5b713e8dd605e2c2b7ddc2629305009e3c755a38
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Jun 11 06:06:32 2002 +0000

    Add hu, pt_BR.

commit 0d1e55b956643e0554d2fc4f075497e03b82a80d
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Jun 11 06:06:32 2002 +0000

    (AC_HEADER_STDBOOL): Do not cast pointer to
    bool in integer constant expression; C99 does not allow it.

commit 70c7ef8c86d183076f9dcd80f3ddf41df8d97f25
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Jun 11 06:06:32 2002 +0000

    (jm_PREREQ_QUOTEARG): AC_MBSTATE_T -> AC_TYPE_MBSTATE_T.

commit 6756cc93587506482ff6c85d4ee22cf6b3702b77
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Jun 11 06:06:32 2002 +0000

    Update to latest Autoconf CVS for AC_GNU_SOURCE
    (renamed from AC__GNU_SOURCE).

commit f4468d980da9386fd8866b038f98eaecf02d8513
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Jun 11 06:06:32 2002 +0000

    (jm_PREREQ_C_STACK): Do not AC_REQUIRE jm_AC_TYPE_UINTMAX_T.
    Check for sys/resource.h, uccontext.h.
    Check for decls of getcontext, sigaltstack.
    Check for stack_t.

commit aa5475b6b4e5d4e4b50c7c90c524b06b03ff9272
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Jun 11 06:06:32 2002 +0000

    Include posixver.h.

commit bf641a954266b8b01c44aec876777867efa49e9d
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Jun 11 06:06:32 2002 +0000

    (struct patternlist.str): Size 1, not 0, as C89 requires this.
    (NEW_PATTERN): Use offsetof, not sizeof, since str now has size 1.

commit 229fb658714487a3e8de3535274dadc86bb4cde4
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Jun 11 05:53:54 2002 +0000

    (AC_INIT): Version 2.8.2.
    (AC_GNU_SOURCE): Move up, so that it affects later compilations properly.
    (DEFAULT_DIFF_PROGRAM, AC_TYPE_SIGNAL): Remove.
    (jm_AC_TYPE_INTMAX_T): Add.
    (AC_FUNC_FNMATCH_GNU): Use this, instead of AC_FUNC_FNMATCH.
    (AC_CONFIG_LINKS): regex.hin renamed from regex_.h.

commit 8578be467d873454a08ba86e3c840f0dda48ae90
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Jun 11 05:53:54 2002 +0000

    Incorporate contents from INSTALLME.  Upgrade to help2man 1.28.

commit d67b77f4306960b8233ef75ee32f95d92eb29801
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Jun 11 05:53:54 2002 +0000

    Version 2.8.2.

commit 1fe83a59f8a6c6c48cd842ead12dc70663067998
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Jun 11 05:53:54 2002 +0000

    (EXTRA_DIST): Remove INSTALLME.

commit bb9cc01d988adfbf8928d040fbd29d6b953fe158
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Jun 11 05:53:54 2002 +0000

    (EXTRA_DIST): Add fnmatch_loop.c.
    (noinst_HEADERS): fnmatch_.h renamed from fnmatch.hin.
    regex_.h renamed from regex.hin.
    Add file-type.h.
    (libdiffutils_a_SOURCES): Add file-type.c.
    (DISTCLEANFILES): Remove fnmatch.hno, regex.hno.

commit 9e4cdf9d2ceac4e2599c50523c14f544e0015a6d
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Jun 11 05:53:54 2002 +0000

    (__const): Do not define to empty, as this breaks
    Sun cc.  The code doesn't work with K&R anyway.

commit 871e480cf6d7be4c0ffa60703cb8e558b55e5944
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Jun 11 05:53:54 2002 +0000

    (alloca, __builtin_expect): Define for non-GCC hosts.
    <strings.h>: Include only if HAVE_STRINGS_H.
    <stddef.h>: Include if we include stdlib.h.
    Do not comment out all code if ! HAVE_FNMATCH_GNU.
    (getenv): Do not declare if HAVE_DECL_GETENV.
    (__strchrnul, __wcschrnul): Remove; not used.
    (MEMPCPY): Use mempcpy if not _LIBC; use memcpy if neither _LIBC
    nor HAVE_MEMPCPY.
    (FOLD) [HANDLE_MULTIBYTE]: Do not pass wide char to ISUPPER.
    (STRLEN, STRCAT, MEMPCPY) [HANDLE_MULTIBYTE && !defined _LIBC]:
    Use wcslen rather than __wcslen, and likewise for wcscat, wmempcpy.
    (MEMPCPY) [HANDLE_MULTIBYTE]: Use wmempcpy if not _LIBC; use wmemcpy
    if neither _LIBC nor HAVE_WMEMPCPY.

commit a9a0f5a47ba0a86cbdbaccb17951a7b612741bf5
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Jun 11 05:53:54 2002 +0000

    (siginfo_t, c_stack_die): Remove decl.

commit 88ead7550596dfef16049c68f65b5e70bd1395cd
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Jun 11 05:53:54 2002 +0000

    (__attribute__): New macro.
    (EOVERFLOW): Define if not defined.(stack_t): Define to struct sigaltstack if not defined or declared.
    Include <sys/resource.h>, <ucontext.h> if available.
    Include <stdio.h> if DEBUG.
    Do not include <inttypes.h> or <stdint.h>.
    (c_stack_die): Remove info and context args.  All uses changed.
    (segv_action): Likewise.
    (alternate_signal_stack): Change uintmax_t to long, to ease porting.
    (get_stack_location, min_address_from_argv, max_address_from_argv,
    null_action): New functions.
    (stack_base, stack_size): New vars.
    (segv_handler): context arg may not be used.
    Use global stack_base, stack_size if
    ! HAVE_XSI_STACK_OVERFLOW_HEURISTIC.
    Add debug code.
    Invoke die (rather than segv_action) to exit.
    (c_stack_action): Accept new argv arg, and simpler handler arg.
    All uses changed.  Move code into new functions above.
    Allow null action.
    [! (defined SA_ONSTACK && defined _SC_PAGESIZE)]: Assume all segvs
    are stack overflows.
    (main) [DEBUG]: Describe what output should be like.

commit 6cce27301e62cc6ce0aa6896ffcc1fba43a10b39
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Jun 11 05:53:54 2002 +0000

    Reword "@option{-f} and @option{--foo}" to "@option{-f} or @option{--foo}".
    Use @acronym instead of @sc where appropriate.
    (Specified Lines): Renamed from Specified Folding.
    (Comparison, Blank Lines):
    Clarify wordings for Blank Lines and Specified Lines nodes.
    (Binary): Mention --verbose and --print-bytes.
    (Tabs, sdiff Option Summary, diff Options):
    New option --tabsize=COLUMNS.

commit 3c8ae4bdc186ef5ee25ebe47d2718c8e7227d008
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Jun 10 08:04:33 2002 +0000

    Convert to new autoconf.

commit 735b377bbdb5385c533fbd910359b9b5fbb8ba9b
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat May 25 10:34:07 2002 +0000

    (jm_PREREQ_EXCLUDE): Use AC_FUNC_FNMATCH_GNU.
    (jm_PREREQ_QUOTEARG): AM_C_PROTOTYPES -> AC_C_PROTOTYPES.

commit a1fdcabe77b73cf3131c7c9372755c6dd280b20e
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri May 10 11:20:06 2002 +0000

    Initial revision

commit e2e1c72458808505888bfd037e030be0c6a1fc64
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Apr 25 21:55:16 2002 +0000

    Check for false and true values in preprocessor expressions.

commit b68181fadb5995369e4eb5258f11dcc263ebd8c7
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Apr 21 04:35:32 2002 +0000

    Update to Automake 1.6.1.

commit 3977399600bd39600c19f76410ac485eade0ab04
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Apr 9 17:55:36 2002 +0000

    Initial revision

commit 384ece6125c1d7f941c9afdc5420c1e0f8c5eb3d
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Apr 8 18:56:39 2002 +0000

    (__restrict_arr): Define for GCC 3.1 and up.

commit 23447f11cd30a9146194535cd24dbfd326702ea6
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Apr 5 20:37:31 2002 +0000

    (AC_INIT): Version 2.8.1.
    (AC_HEADER_STDBOOL): Add.
    (AC_CHECK_HEADERS): Remove stdbool.h.

commit 52dd0175b9162ac5de7fb0f7743982b586800d41
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Apr 5 20:37:31 2002 +0000

    Add Ulrich Drepper.

commit 4921a4ab37be351e7b0e6b6f8fa95692a0394e5e
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Apr 5 20:37:31 2002 +0000

    Doc fixes in 2.8.1.

commit a07c16a6f30ee48431a3d983cbb76cbd7faac2c5
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Apr 5 20:37:31 2002 +0000

    (SSIZE_MAX): Define if limits.h doesn't.

commit 869386e545a4569fec82ea14efceefe1976d097c
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Apr 5 20:37:31 2002 +0000

    Include cmpbuf.h.
    (read_diff): Use block_read instead of read, to work around Tru64 5.1 bug.

commit e3c53fd2ffd9ce6038a435af784da55b785ffae6
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Apr 5 20:37:31 2002 +0000

    (cmp): Use block_read instead of read, to work around Tru64 5.1 bug.

commit 4f9d18c728e3c5161ffa3f34c91e3dc12f12229b
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Apr 5 20:37:31 2002 +0000

    Assign PTRDIFF_MAX - 1 to a size_t variable, just in case there's a problem
    with ptrdiff_t versus size_t.

commit 0be3e22c88468137b418c833b1ef6a31fa9290b3
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Apr 5 20:37:31 2002 +0000

    (datadir, INCLUDES): Remove.
    (AM_CPPFLAGS): New macro.

commit bea637acb3fd1df8bb51634bd05c0c3cae1e3d8a
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Apr 5 20:37:31 2002 +0000

    Initial revision

commit c7448142e8cfbc6c458b9f70b6bad67b097a49ad
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Apr 5 20:37:31 2002 +0000

    (jm_PREREQ_EXCLUDE): Use AC_HEADER_STDBOOL rather than AC_CHECK_HEADERS(stdbool.h).
    (jm_PREREQ_HASH): Likewise.

commit a758e82c032307554e827eae4d017113cab4b1f7
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Apr 5 20:37:31 2002 +0000

    (errno): Remove declaration; K&R C is obsolete.
    Include limits.h.
    (SIZE_MAX, SSIZE_MAX): Define if standard headers don't.
    (MIN): New macro.
    (block_read): Do not attempt to read more than SSIZE_MAX bytes, as the
    resulting behavior is implementation-defined.  Work around bug in
    Tru64 5.1, which can't read more than INT_MAX bytes at a time.

commit e21807a095fb6db7ce208b43e54f7d6cc8762247
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Apr 5 20:37:31 2002 +0000

    Use new @copying directive.  Work around incompatibility with Debian
    install-info.
    Put @contents first, not last, since Texinfo now suggests this.
    Fix bug in -w documentation noted by Karl Berry.
    Mention links for speedup.
    New node "Speedups" for future speedups.
    Just say "Index", not "Concept Index".

commit 9ca86332609254e0ad957e7524d25b442ff60ec2
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Apr 5 20:37:31 2002 +0000

    Mention GNU texinfo.

commit 8074c424b524873712e3cce26a1ca302b7927f9e
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Mar 25 04:58:36 2002 +0000

    (sip): Do not mishandle buffered count when reverting to text mode.

commit 79a1780c886394cf7a423606ff1230fa04bdc1ca
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Mar 24 07:50:25 2002 +0000

    Upgrade the description of `patch' to GNU patch 2.5.4, and revamp
    the documentation accordingly.

commit a888728c15b0d5b1a9edb63c281ead02938542cc
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Mar 24 07:48:39 2002 +0000

    (AC_INIT): Version 2.8.
    (AC_PREREQ): 2.53.

commit a9d6b567a0d30c144d003a93321891f736bdef31
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Mar 24 07:46:58 2002 +0000

    Diffutils 2.8.

commit d3a786ee18774379e976c3c8fde2fd1cadf472ca
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Mar 24 07:40:52 2002 +0000

    Upgrade to gettext 0.11.1 and help2man 1.27.

commit 78899f4efb372cba80dca7f970c6744b1eb4f4c4
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Mar 24 07:36:37 2002 +0000

    (c_stack_die) [!HAVE_SIGINFO_T]: Don't use info.
    Bug reported by Eli Zaretskii.

commit f581b40bf9c058223186ed2bb554ae8d5ad87a35
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Mar 24 07:35:28 2002 +0000

    (main): Fix typo that prevented diff -y from working.  Bug reported by
    Mitsuru Chinen.

commit 855c8786ae73c5078b5248f7c26c97d816f944ed
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Mar 15 22:07:58 2002 +0000

    Tweak editing of install-info-am target.

commit 10baaae888f0f9e70ef7e7665ea33c20591e1617
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Mar 12 13:08:22 2002 +0000

    (cmp): Fix typos in previous change.

commit 7bbd6de9bca5f9be4122984dbc6ccc6754c91765
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Mar 12 13:03:58 2002 +0000

    Use "byte" rather than "char" if a translation for "byte" is available.

commit 3115963776ec53e46ba6da6a1fd8f7df01a8e039
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Mar 12 07:17:13 2002 +0000

    Bring back --horizon-lines.

commit 89b6f2d6e560f2cf3e16c1dbc1c7fdbe0700f33d
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Mar 12 07:16:19 2002 +0000

    cmp -l -s and cmp -s -l are not allowed.  Use cmp -s or cmp -l instead.
    Deprecate diff -h, -H, -L, -P, --inhibit-hunk-merge.

commit c19f0389186ef8990657d3fb253e72641c9ea2d3
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Mar 12 07:14:31 2002 +0000

    (option_help_msgid): Bring back --horizon-lines documentation.

commit fa03d1fdfbcb50aa07445b5df7cdbb14b496f342
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Mar 12 06:50:10 2002 +0000

    (AC_INIT): Version 2.7.10.
    (jm_PREREQ_HARD_LOCALE): Add.

commit d950765db33214a06f0a9512396e5f8cf532f2f8
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Mar 12 06:34:28 2002 +0000

    -L -> --label

commit d8a86d88b2d0777d3d13e4bf76e52202974b4f48
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Mar 12 06:34:28 2002 +0000

    (option_help_msgid): Do not document -L, -P, --horizon-lines,
    --inhibit-hunk-merge, -H.

commit 9f0dae504667a7369cfdb1d8bcfd69bbeec78659
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Mar 12 06:34:28 2002 +0000

    (specify_comparison_type): New function.
    (check_stdout): "indices and codes" -> "byte numbers and values"
    (main): Use specify_comparison_type to detect option clashes.

commit 1d63e8c4d1574ceddfd86ded8da35fca45af577d
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Mar 12 06:34:28 2002 +0000

    (jm_PREREQ): Add jm_PREREQ_HARD_LOCALE.
    (jm_PREREQ_HARD_LOCALE): New macro.

commit 0d3dcc25e737e4429adcc663b39b3a876f84657e
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Mar 12 06:34:28 2002 +0000

    (alloca): Remove.
    Include stdlib.h if available, for malloc.
    (hard_locale): Use malloc, not alloca.  Test for storage allocation failure.

commit 8fe985d9880461be41f90f60672daea5eed736cf
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Mar 12 06:34:28 2002 +0000

    (Overview): byte != character.
    (Detailed Context, Detailed Unified, Alternate Names, diff Options): Do not document diff -L.
    (Comparing Directories): Do not document diff -P.
    (Making Patches, diff Options): Likewise.
    (diff Performance, sdiff Option Summary, diff Options, sdiff Options): Do not document diff -H.
    (diff Performance, diff Options): Do not document --horizon-lines.
    (cmp Options): Prefer -b to -c.
    (cmp Options, diff Options, diff3 Options, sdiff Options): Put short
    options next to the similar long options.
    Document --help, and use the same wording for --verbose on all commands.
    (diff3 Options): Fix typo in description of -E, which used wrongly used
    "-e" instead of "-E".
    (patch Options): Put short options next to the similar long options.

commit 2839f50782cc5757a03caa671bb82028edb0a0f2
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Mar 11 08:37:01 2002 +0000

    Do not distribute shar file.

commit db6505cbe52329d36717f52d1ba013dbf30dd61b
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Mar 11 08:23:30 2002 +0000

    Initial revision

commit 91bee6760695a602ba855ffd3e1339f6056e7865
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Mar 11 08:00:47 2002 +0000

    (option_help_msgid, usage): Reword for help2man.

commit 68f96e5cd777642bec7b1d9e0fd5345796c95586
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Mar 11 08:00:47 2002 +0000

    Remove trailing white space.

commit 4f981362a7a3074f1216cfb8060075b256b1cda1
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Mar 11 08:00:47 2002 +0000

    (option_help_msgid): Reword for help2man.

commit d001fbedbe556f6ad3139d86350a502ab3dee29b
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Mar 11 08:00:47 2002 +0000

    (usage): Reword for help2man.

commit dbea9821b7e9fe612becb6ce2041e7f7720e2c05
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Mar 11 08:00:47 2002 +0000

    (AUTOMAKE_OPTIONS): Remove.

commit 796ad2bc350bb9d5c6d57870e2450d0a37d694b5
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Mar 11 08:00:47 2002 +0000

    Add zh_TW.

commit b3dabc957103be5a3ec304696bd558ec940fd670
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Mar 11 08:00:47 2002 +0000

    (AUTOMAKE_OPTIONS): Remove gnits.

commit 6d9d2036a21790ec48b34948a1099c8b20718e24
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Mar 11 08:00:47 2002 +0000

    (AC_SYS_XSI_STACK_OVERFLOW_HEURISTIC): Change wording of message.
    Do not check for stdbool.h or ucontext.h, or for ucontext_t or
    sigaction or sigaltstack.

commit 1e15bf9664e3d40ced7875a46fc00bd3a35b6296
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Mar 11 08:00:47 2002 +0000

    Include <errno.h>
    (ENOTSUP): Define if errno.h doesn't.
    (SA_NODEFER, SA_ONSTACK, SA_RESETHAND, SA_SIGINFO, SIGSTKSZ, _SC_PAGESIZE,
    ALTERNATE_STACK_SIZE, stack_t, sigaltstack): Remove; we now assume them
    all when HAVE_XSI_STACK_OVERFLOW_HEURISTIC, so we don't need substitutes.
    (<ucontext.h>): Include only if HAVE_XSI_STACK_OVERFLOW_HEURISTIC.
    (alternate_signal_stack): Now of size SIGSTKSZ, not ALTERNATE_STACK_SIZE.
    (segv_handler): Simplify, under the assumption that
    HAVE_XSI_STACK_OVERFLOW_HEURISTIC is nonzero.
    (c_stack_action): Likewise.
    (exit_failure) [DEBUG]: Initialize to 0, not 1.
    (recurse, main) [DEBUG]: Remove main args.

commit 1ada67d90b1f55e10dfe2f4ea646855b963a9274
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Mar 11 07:09:22 2002 +0000

    (AC_INIT): Change package name from diff to diffutils.  Bump version
    to 2.7.9.
    (AM_INIT_AUTOMAKE): Use new form, with options gnits dist-shar,
    rather than old from that duplicated AC_INIT.
    (AM_MISSING_PROG): Add help2man.
    (REGEX_MALLOC): Define.
    (AC_CONFIG_FILES): Add man/Makefile.

commit f88dc3e8ed068be29a0f96c1213f143ead9c61e8
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Mar 11 07:08:45 2002 +0000

    Add man pages.

commit 3ec1124c9faf779d7bf99dac29aa09f88ec98417
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Mar 11 07:07:05 2002 +0000

    (AUTOMAKE_OPTIONS): Remove.
    (SUBDIRS): Add man.

commit f28f42d6d6f29b5835cdb7c4c91701cfb6e56f62
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Mar 11 07:07:05 2002 +0000

    Update to autoconf 2.53, automake 1.6, help2man 1.25 with patch.
     .

commit b89a1f4f2cba1a0f1d5357fd7fb11666b35f9eed
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Mar 2 11:56:17 2002 +0000

    Tweak editing of install-info-am and
    uninstall-info-am targets, to include 8+3-butchered names of Info
    files.

commit a0303415a5f3500f2246f5fb36748fe2eeb5f50c
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Mar 1 19:46:11 2002 +0000

    Remove trailing white space

commit 6e1f365f51d8d682047721b5041d362ce0914563
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Mar 1 07:42:20 2002 +0000

    Initial revision

commit be90df3756ef94bb38b8256078fd9fb99303bf78
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Feb 28 08:05:12 2002 +0000

    Include <xalloc.h>.

commit 56e47cdf45fd4cfe528d9bb802d7535fd895493f
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Feb 28 08:05:12 2002 +0000

    (LONG_OPTION, GROUP_FORMAT_OPTION, LINE_FORMAT_OPTION): Remove.
    (longopts): Revert to prevision version.

commit 145637ede6ef151716c0ed602f17ed6f3b02f994
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Feb 28 07:35:36 2002 +0000

    Reword to put POSIX first.

commit aa3a3c3a118c8869416a3c39ab4851bb9881e030
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Feb 28 07:26:14 2002 +0000

    diff -NUM is now deprecated.
    diff now takes the maximum of the specified contexts.
    Conflicting options now cause an error again.
    "Microsoft OSes" -> DGJPP

commit 2fb91b7373594ad082b9362944e34249f20bfe82
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Feb 28 06:32:34 2002 +0000

    (AC_INIT, AM_INIT_AUTOMAKE): Version 2.7.8
    (AC__GNU_SOURCE): Add this, replacing AH_VERBATIM of _GNU_SOURCE.
    (AM_GNU_GETTEXT): Add external arg, from gettext 0.11.
    (tempname): Use AC_LIBOBJS, not LIBOBJS=, as now required by autoconf.
    (jm_PREREQ_C_STACK): Add.
    (AC_CONFIG_FILES): Remove intl/Makefile.

commit de95c16082c62034ac0b034e71684b43ddc499f7
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Feb 28 05:22:26 2002 +0000

    2 -> EXIT_TROUBLE.
    Adopt POSIX convention for ENOEXEC and exit status 126.
    unsigned -> unsigned int

commit 52fbd2fdd450db3285b5df0754a537e81f16e057
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Feb 28 05:22:26 2002 +0000

    Don't use alloca or include <alloca.h>.
    unsigned -> unsigned int
    (EXIT_SUCCESS, EXIT_FAILURE, EXIT_TROUBLE): Define if not defined.
    Include signal.h.
    (SA_RESTART): Define if not defined.
    (SIGCHLD): Likewise.

commit 3064374e471e327d5e298176f9606fcbd9197b73
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Feb 28 05:22:26 2002 +0000

    unsigned -> unsigned int.

commit 0d7a3eb7ac6f51ac0e4484f9c4fce89d008905ec
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Feb 28 05:22:26 2002 +0000

    Include c-stack.h, exitfail.h.  Do not include signal.h.
    0 -> EXIT_SUCCESS, 1 -> EXIT_FAILURE, 2 -> EXIT_TROUBLE.
    (ck_editor_status): New function.
    (main): Check for stack overflow.
    Adopt POSIX convention for subsidiary programs not found.
    (diffarg): Check for integer overflow to avoid core dumps.
    (trapsigs): Remove SA_INTERRUPT special case; now done by header.
    (SIGCHLD): Likewise.
    (edit): Adopt POSIX convention for subsidiary programs not found.

commit 4179042755cc919ce8d9b8043cd7e60515f36b30
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Feb 28 05:03:41 2002 +0000

    (sip): Avoid integer overflow and core dumps if buffer alignments are
    preposterously incompatible.
    (slurp): Do not dump core if the file is growing as we read it.
    If a regular file grows, keep reading until we catch up with its EOF.
    (find_and_hash_each_line): Check for integer overflow to avoid core dumps.
    (GUESS_LINES): Remove.
    (guess_lines): New function.  Avoid integer overflow.
    (find_identical_ends): Use it.
    Avoid integer overflow and possible core dumps.

commit 9d39ee103c4ba56fc584ee877a800e3a57312183
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Feb 28 05:03:41 2002 +0000

    (format_group, print_ifdef_lines): Avoid core dumps with
    bad formats.
    (do_printf_spec): Avoid alloca.

commit 1ae253c28bd45fb808e3ba5d5a27d7a7781fdf86
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Feb 28 05:03:41 2002 +0000

    (dir_read): Ignore st_size of directories: POSIX says it's garbage.
    Check for integer overflow to avoid core dumps.
    (diff_dirs): 0 -> EXIT_SUCCESS, 2 -> EXIT_TROUBLE.

commit 309c90b06bd95d1b1a9dc3f418d60b0c01ad8dd8
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Feb 28 05:03:41 2002 +0000

    Include c-stack.h, exitfail.h.
    (ALLOCATE): Remove.  All uses changed to xmalloc, or to xmalloc plus
    an overflow check.
    (myread): Remove.
    (main): Check for stack overflow.
    0 -> EXIT_SUCCESS, 1 -> EXIT_FAIULRE, 2 -> EXIT_TROUBLE.
    (try_help): Likewise.
    (process_diff): Check for integer overflow, to avoid core dumps.
    2 -> EXIT_TROUBLE.
    (read_diff): Exit with status 126 if the file is not executable,
    for compatibility with POSIX 1003.1-2001.
    Accommodate ancient AIX hosts that set errno to EINTR after uncaught
    SIGCONT.
    Check for integer overflow to avoid core dumps.
    (fatal, perror_with_exit): 2 -> EXIT_TROUBLE.

commit 8a8172ed6d1018777adcf0a4d8e542c89b62a2db
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Feb 28 05:03:41 2002 +0000

    Include c-stack.h, exitfail.h.
    Do not include signal.h.
    (specify_style, specify_value): Bring these routines back, as POSIX
    requires that the order of options not matter.
    (shortopts): New constant.
    (group_format_option, line_format_option): New constants.
    (LONG_OPTION, GROUP_FORMAT_OPTION, LINE_FORMAT_OPTION): New macros.
    (longopts): Use them.
    (main): 0 -> EXIT_SUCCESS, 1 -> EXIT_FAILURE, 2 -> EXIT_TROUBLE.
    Ensure that order of options does not matter.
    Check for stack overflow.
    If contexts overflow, substitute LIN_MAX, as that's good enough.
    If multiple contexts are specified, use their maximum.
    -c is equivalent to -C 3 now, instead of having an implicit context;
    likewise for -u and -U 3.
    Use specify_style and specify_value.
    (SIGCHLD): Do not define; now done in a header.
    Use new style time stamp format for -u / -U.
    Reject numeric-string options if operating in POSIX 1003.1-2001 mode.
    Avoid overflow problems with tab width.
    Simplify from-file and to-file code.
    (usage): Do not mention obsolete options.
    (filetype): Do not mention whether a file is executable.
    Add typed memory objects.
    (compare_files): 0 -> EXIT_SUCCESS, 1 -> EXIT_FAILURE, 2 -> EXIT_TROUBLE.

commit c959ef623200eb155fd7b3922b45d6a05473d627
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Feb 28 04:48:46 2002 +0000

    (pr_context_hunk): Do not dump core if an enormous context causes an
    arithmetic overflow.
    (pr_unidiff_hunk): Likewise.
    (find_hunk): Likewise.

commit 4aae6ffeaf06ddbe087ab7240f004a21d29053ff
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Feb 28 04:48:46 2002 +0000

    Include c-stack.h, exitfail.h.
    (hard_locale_LC_MESSAGES): Depend on ENABLE_NLS.
    (try_help, check_stdout, main, cmp): 2 -> EXIT_TROUBLE.
    (main): Check for stack overflow.
    0 -> EXIT_SUCCESS.
    1 -> EXIT_FAILURE.
    (cmp): Likewise.
    Accommodate ancient AIX hosts that set errno to
    EINTR after uncaught SIGCONT.

commit e53339d2dc48207afa94f48d24c3d2aba979b467
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Feb 28 04:28:07 2002 +0000

    (diff_2_files): Avoid arithmetic overflow in buffer size calculation.

commit 1035ed370de10d17eb8740297c7e5f869bba309b
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Feb 28 04:28:07 2002 +0000

    (datadir): @DATADIRNAME@ -> share.
    (INCLUDES): Remove intl.
    (LDADD): Change INTLLIBS to LIBINTL.  No need to link libdiffutils.a twice.

commit e7d9579f6a33b24bab7b5f4c797d116968534448
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Feb 28 04:28:07 2002 +0000

    Add lib/c-stack.c, src/dir.c.

commit 58166227e9ce53b408123ec4a56603df61a0de6b
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Feb 28 04:28:07 2002 +0000

    Add cs, ja.

commit 07c7dac163b39bdfc849c3c44e503548f7e1ca0e
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Feb 28 04:28:07 2002 +0000

    (AC_FUNC_SETMODE_DOS): Check for fcntl.h and unistd.h unconditionally.

commit 570f74da59f3403ea25d43e9d8413a240da40a98
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Feb 28 04:28:07 2002 +0000

    (jm_PREREQ): Add jm_PREREQ_POSIXVER.
    (jm_PREREQ_POSIXVER): New macro.

commit 9f0eff52c22275bc86d26a562a679812c5dd7cdb
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Feb 28 04:28:07 2002 +0000

    Initial revision

commit 8d9e3b29bf92b6c9d622475e3eb000e2c62d42cd
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Feb 28 04:28:07 2002 +0000

    (buffer_lcm): New arg LCM_MAX.

commit 47b633e3cfc658faf4c0e5ab0aa9990c14c64e87
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Feb 28 04:28:07 2002 +0000

    Include errno.h.
    (errno): Declare if !STDC_HEADERS.
    Include signal.h.
    (SA_RESTART): Define if not already defined.
    Include <inttypes.h>.
    (PTRDIFF_MAX): Define if not already defined.
    (TYPE_SIGNED, TYPE_MINIMUM, TYPE_MAXIMUM): Likewise.
    (block_read): Accommodate ancient AIX hosts that set errno to EINTR
    after uncaught SIGCONT.
    (buffer_lcm): Return a reasonable size if the multiple is too large.
    New arg LCM_MAX.  All callers changed.

commit a44befd50b332e152c4beae97fdac417cd214ffa
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Feb 28 04:28:07 2002 +0000

    (noinst_HEADERS): Add c-stack.h, exitfail.h.
    (libdiffutils_a_SOURCES): Add c-stack.c, exitfail.c, quotesys.c.
    (INCLUDES): Remove.

commit 2e507ad1c092735de058e7e7b7066ecac50269a4
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Feb 28 04:28:07 2002 +0000

    Include exitfail.h.
    (xalloc_exit_failure): Remove; subsumed by exit_failure.
    All uses changed.

commit b89fe19666dfdbf512fb5c9d24db924fd31b468c
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Feb 28 04:28:07 2002 +0000

    (xalloc_exit_failure): Remove; subsumed by exit_failure.

commit 8eb1bae7000c49615c8ccde9bab35c50070396f9
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Feb 28 04:28:07 2002 +0000

    Include "hard-locale.h".
    (hard_locale): Ignore ENABLE_NLS, since we want to operate on
    locales other than LC_MESSAGES.

commit 3561657de9831ea2750619b86935d18430a27065
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Feb 28 04:28:07 2002 +0000

    Add vr index.
    Update copyright to 2002.
    (Standards conformance): New chapter.
    (Binary): Differing binary files are trouble unless the user asked for
    brief output.
    (Detailed Context): Prefer new time stamp format in discussion.
    (Less Context): Likewise.  (Also use short option).
    (Detailed Unified): Likewise.
    (Alternate Names): Separate option from arg.
    (Pagination): Prefer new time stamp format in discussion.
    (Making Patches): Mention -U 2.
    (diff Options): Deprecate -LINES, as POSIX 1003.1-2001 does not allow it.

commit 5fcad7569e7edea859fe050d60ca8f1bac5607bb
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Feb 28 04:18:53 2002 +0000

    (SUBDIRS): Remove intl.

commit 9fefe1c55909e3aef526522c29d9646812523a4a
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Feb 28 04:18:53 2002 +0000

    Update advice for Solaris installation problems.
    We no longer use a test version of gettext.
    Autoconf test version updated from  2.52f to 2.52h.
    POSIX 1003.1-2001 patch for Automake.

commit 38231fc04f4ed6581db50bbd68d22f45a7d7c91d
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Feb 16 05:30:19 2002 +0000

    Initial revision

commit 3121d568e22a84e44e7508f3b116185bed77e38c
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Jan 24 20:48:10 2002 +0000

    Warn about libiconv problems.

commit 0f9e8c67e1c082c4b3a284002796cb0f5da8e15d
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Jan 24 20:40:17 2002 +0000

    DIFF -> Diffutils

commit 9c2cd387c77c5499932c7c4111dd4dee50d0d1cf
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Jan 24 20:35:06 2002 +0000

    Don't say "illegal".  Fix headers to match recent gettext standards.

commit 2d27ca42cda7c727cba1a70c58ff9d9c7422a0b3
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Jan 24 20:16:38 2002 +0000

    (AC_INIT, AM_INIT_AUTOMAKE): Version 2.7.7.
    (AC_INIT): Use new 3-arg form.
    (AC_CONFIG_SRCDIR): Specify src/diff.c here, not in AC_INIT.
    (ALL_LINGUAS): Remove: now in po/LINGUAS as per Gettext 0.11.
    (AC_CONFIG_AUX_DIR): New macro invocation.

commit 4b67faa4adaf9b8471caed288dcbbf43cecd5d2e
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Jan 24 20:16:38 2002 +0000

    Mention INSTALLME.

commit ffaecd082cbb558dc496f5583f53a5e14aab716e
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Jan 24 20:16:38 2002 +0000

    (AC_INIT, AM_INIT_AUTOMAKE): Version 2.7.7.
    Reformat for imminent 2.8 release.

commit 6f653ba4711ea25106bdfce5946c4ee2d131a198
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Jan 24 20:16:38 2002 +0000

    (EXTRA_DIST): Add config/config.rpath, INSTALLME.
    (DISTCLEANFILES): Remove.

commit 788366578a517c465ff131c4690e7bef0149d850
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Jan 24 20:16:38 2002 +0000

    (finish_output): Ensure that werrno is initialized.
    (lines_differ): Have an explicit do-nothing case for
    IGNORE_NO_WHITE_SPACE, to pacify gcc -Wall.

commit 17832e035de3e3a6b59ed901d87d36d156cc80a4
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Jan 24 20:16:38 2002 +0000

    (UINTMAX_MAX): New macro.
    Include gettext.h, not libgettext.h.
    (N_): Do not wrap arg in parentheses.  Fix from Bruno Haible.

commit f8b1a9f4e4b845c5bab4b016213e40eace32215a
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Jan 24 20:16:38 2002 +0000

    (copyright_string): Update to 2002.
    (usage): Reformat messages to ease translation.
    (handler_index_of_SIGINT, handler_index_of_SIGPIPE):
    New macros.
    (main): Do not confuse signal numbers with their indices.
    Bug reported by Bruno Haible.
    (edit): Cat lin to long before printing with %ld, since lin might
    be narrow than long.

commit ec7bf151d0ae5b8a92be3354f6783353adb0afd9
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Jan 24 20:16:38 2002 +0000

    (file_block_read): Use SIZE_MAX instead of (size_t) -1,
    to avoid warnings on some compilers.

commit 8d25777b1af7332dfb556095d26e5c7c4724796d
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Jan 24 20:16:38 2002 +0000

    Include <setjmp.h>
    (struct dirdata): New member nnames.
    (locale_specific_sorting, failed_strcoll): New vars.
    (dir_read): Renamed from dir_sort.  Don't sort the dir.
    Set new nnames member of struct dirdata.  All callers changed.
    (compare_names): Don't check for errno after strcasecmp.
    Use strcoll only if locale_specific_sorting is nonzero.
    If strcoll fails, longjmp out rather than returning a value
    that might result in an invalid comparison function that might
    make qsort dump core.
    (diff_dirs): Sort the directory ourselves.  Use setjmp to recover
    from strcoll failure, falling back on native byte comparison.
    Make local variables volatile if they need to preserve their value
    after setjmp/longjmp.

commit a76d0e1130b4d06d00ec29b237cf1f9a82bd6193
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Jan 24 20:16:38 2002 +0000

    (copyright_string): Update to 2002.
    (usage): Reformat messages to ease translation.
    (main): Remove unused variable.

commit 89d3f55dd661b9df807fd93617c7ba4f42fa3da3
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Jan 24 20:16:38 2002 +0000

    (copyright_string): Update to 2002.
    (bytes, parse_ignore_initial, cmp): Use UINTMAX_MAX
    instead of (uintmax_t) -1, to avoid warnings on some compilers.
    (usage): Reformat messages to ease translation.

commit 5289afd403a0c0309eaa0c2ca6cd256facd2b438
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Jan 24 20:16:38 2002 +0000

    Include <string.h>.  Reported by Bruno Haible.

commit eadc9ce7d6afaee9bbdcbabde146e6a7536040a1
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Jan 24 20:16:38 2002 +0000

    Fix comment.

commit 75cd3e885faf8d8ab4f69b884eed11533d94abd4
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Jan 24 20:16:38 2002 +0000

    (noinst_HEADERS): Add gettext.h.

commit 65da723237e469bfccaf8920355d5f413a1dd044
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Jan 24 20:16:38 2002 +0000

    Move most of contents to INSTALLME.

commit 39a4929c852dd49bd4bdd4c438a13cca95022868
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Jan 24 20:16:38 2002 +0000

    Initial revision

commit 6580226bf62049ab531501429f2ed3d52acf8d59
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Jan 24 02:10:11 2002 +0000

    Initial revision

commit 3f4addd972269b5f93567ed569f3cdf862485713
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Wed Jan 16 12:19:34 2002 +0000

    Initial revision

commit c30fa59166501a8529845b1b5664878cea335112
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Jan 5 21:13:09 2002 +0000

    Initial revision

commit 879669e496b3749942de106860a1d738bfc35ad3
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Dec 31 23:05:35 2001 +0000

    (interact): After extracting rlen from the editor command, test for a
    terminating null character, not for a newline.

commit 2bc51c81cb21b206b57e9466d49e84f2ed7ae5dc
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Dec 31 23:05:01 2001 +0000

    Fix AC_CONFIG_LINKS for when symlinks are unavailable.

commit c6228a86aff93d1374085be36f0051240afd5ece
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Dec 31 23:04:26 2001 +0000

    Allow longer source directory names without
    overflowing the line length limits.  Create the cache in the
    build directory, not in the source directory

commit 5b9b018b29a6d76ac8c5a1d07d168618898a761f
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Dec 24 02:03:34 2001 +0000

    * New diff3 and sdiff option: --diff-program=PROGRAM.
    * The test-version environment variables DIFF_OPTIONS and DIFF_PROGRAM
      have been withdrawn, as they caused compatibility problems.
      You can use aliases or shell script wrappers instead.

commit c3809af86cf16612f01b01f27bb30d7b44db97a0
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Dec 24 01:59:05 2001 +0000

    (begin_output): Have child exit with status 127 rather than reporting
    failure on its own.  Set errno to 0 before invoking popen.
    (finish_output): Report errno on pclose failure.
    Distinguish between subsidiary program not found, and failure.

commit 1f7b77fe80d868007776e8e33d3be2bd19cae399
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Dec 24 01:55:59 2001 +0000

    (not_found, execdiff): Remove.
    (DIFF_PROGRAM_OPTION): New constant.
    (longopts, option_help_msgid, main): Add --diff-program=PROGRAM.
    (check_stdout): New function.
    (main): Remove DIFF_PROGRAM support.  Check stdout after printing version.
    Use check_stdout after printing help.  Use execvp/perror_fatail rather
    than execdiff.  Set errno to 0 before invoking popen.
    Check for pclose failure properly.
    (main, edit): If child exec fails, exit with 127 rather than trying to
    print diagnostic.
    Distinguish between subsidiary program failing and not being found.
    (edit): Handle signals the same way, regardless of whether we're using
    system or fork+exec.  Check for system returning -1.

commit c3a98cfc023bb1cd00875a77f2ae35e78967c218
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Dec 24 01:48:07 2001 +0000

    (DIFF_PROGRAM_OPTION, HELP_OPTION): New constants.
    (longopts, main): Use them.
    (longopts, main, option_help_msgid): New option --diff-option=PROGRAM.
    (main): Remove DIFF_PROGRAM support.
    Check stdout after printing version.
    (check_stdout): Report errno info if fclose fails.
    (read_diff): Have child exit with status 127 when program is not found,
    rather than trying to have the child report failure.  CHeck for
    pclose returning -1.

commit f16be0e2b03914a24479e5b4587dd31ccfbb3fdf
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Dec 24 01:44:21 2001 +0000

    (DEFAULT_WIDTH): Remove.
    (main): Use 130 instead of DEFAULT_WIDTH, since it's not really
    builder-settable.  Do not prepend DIFF_OPTIONS.
    (check-stdout): If fclose (stdout) fails, print errno info.
    (option_help_msgid): Default context is 3, not 2.
    (usage): Work even if ptrdiff_t is wider than int.

commit aa71c5d0fd39a210285416856a782657c7be6945
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Dec 24 00:53:12 2001 +0000

    (diff Options): Remove DIFF_OPTIONS.
    (Invoking diff3, Invoking sdiff): Remove DIFF_PROGRAM.
    (diff3 Options, sdiff Options): Add --diff-program.

commit 5400b5e9051392e46fd4438fbc5e022e63e922c9
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Dec 24 00:11:59 2001 +0000

    (valid_suffixes): Add '0', to support suffixes like "MB" and "MiB".
    (check_stdout): Don't assume that the translations of "write failed"
    and of "standard output" lack '%'.
    (main): Check stdout after printing version.

commit e053f8c49d1a14ab45ec697502f0f3ceaa85790d
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Dec 24 00:09:16 2001 +0000

    [HAVE_FCNTL_H && HAVE_SETMODE_DOS]: Include <fcntl.h>.
    [!HAVE_SETMODE_DOS]: Do not include <unistd.h>.
    (set_binary_mode): Return mode (not 1) if fd is a tty.
    Do not assume that O_TEXT is zero.

commit 2eb762252f7faef3208c90fffef44edf5fb07102
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Dec 24 00:06:54 2001 +0000

    (cmp Options): In byte counts, a plain suffix (without any integer)
    is assumed to modify the integer 1.  Index terms like "kibibyte".
    Document plain "k".
    
    (Reporting Bugs): Mention bug-report archive and test version
    location.  Ask for "diff --version" in bug reports.

commit ed5c8a4d3f69d096a02d850331f610c6daf1dd64
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Dec 24 00:03:09 2001 +0000

    (ALL_LINGUAS): Add tr.

commit 26b18e2062458fb970aa7956e16840c7ee41ccc6
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Dec 22 01:48:53 2001 +0000

    Latest version from self.

commit f4501e2ec54a1a01572d275c33148107a64d76f8
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Dec 13 19:30:37 2001 +0000

    Fix typos.

commit 25dfb088db254b39ddb21457473b76299d985999
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Dec 13 19:26:46 2001 +0000

    Fix comment.

commit 08562bb5c3ac0748d5c6474d89399a73588f0fbc
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Dec 13 19:26:46 2001 +0000

    Remove the split prevention of config.status.
    Fix Sed commands for converting absolute file names into op_srcdir-relative ones.

commit 510ff6559ed90ad984f5c442ff0ee054823c0325
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Dec 13 19:26:46 2001 +0000

    Initial revision

commit c47d95a0840d2f0e48d0bb64e8f40d8860f674ab
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Wed Dec 12 00:40:53 2001 +0000

    Remove jm-glibc-io.m4

commit b272bbb9bb27e469a99b8930e91d87ce15f161af
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Dec 11 09:19:39 2001 +0000

    Add --no-ignore-file-name-case.
    File name case sensitivity now affects file name exclusion.
    Fix typos.

commit f1db1aefd227cf1e9d0717d72f959eca5c52e116
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Dec 11 09:19:12 2001 +0000

    diffutils 2.7.5

commit c4b00134ca02faac16f6b321be5287df8558d18b
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Dec 11 09:14:20 2001 +0000

    Include dirname.h.
    (dir_file_pathname): Use base_name rather than file_name_lastdirchar.

commit 05264956fc8fc4b2428e495becfdfe70b2e1652f
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Dec 11 09:13:35 2001 +0000

    (S_IXUSR, S_IXGRP, S_IXOTH): New macros.
    Include <libgettext.h> rather than rolling it ourselves.
    (file_name_lastdirchar, HAVE_SETMODE, set_binary_mode): Remove.

commit 33e8ec0f79d0de7582d315cb938fcee6d2d4a446
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Dec 11 09:12:22 2001 +0000

    Include <dirname.h>.
    (expand_name): Use base_name rather than file_name_lastdirchar, for
    portability to DOS.
    (main): Initialize xalloc_exit_failure before possibly invoking any memory
    allocator.

commit 994ba2db42d306251ad663d42a702e3c7cec3c03
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Dec 11 09:10:47 2001 +0000

    Include setmode.h.

commit e8398dcf9a5254d63732ff5710df7bda0cf33470
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Dec 11 09:10:14 2001 +0000

    (main): Initialize xalloc_exit_failure before possibly invoking any memory
    allocator.

commit e3b1ff596cdbafce7eebce8c5976cd005bed8ab4
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Dec 11 08:30:46 2001 +0000

    Include dirname.h, setmode.h.
    
    (main): Later values and/or styles now silently override earlier.
    (specify_value, specify_style): Likewise.  All callers changed.  Remove.
    
    (binary, main, option_help_msgid, compare_files):
    HAVE_SETMODE -> HAVE_SETMODE_DOS.
    (NO_IGNORE_FILE_NAME_CASE_OPTION): New constant.
    (longopts, main, option_help_msgid): Support it.
    (exclude_options): New function.
    (main): Use it. Initialize xalloc_exit_failure before potentially
    allocating memory.
    
    (filetype): Distinguish executable files from others, as POSIX suggests.
    
    (compare_files): Use base_name instead of file_name_lastdirchar.

commit fe7c8fb737386c5032c08a082e8f1a6a189aecec
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Dec 11 08:20:24 2001 +0000

    Include <hard-locale.h>, <setmode.h>.
    (hard_locale_LC_MESSAGES): New macro.
    (sprintc): Remove int width arg; it's now the caller's responsibility to pad.
    All callers changed.
    (stat_buf): New static var; was formerly a local var in 'main'.
    (valid_suffixes): Add 'K', for 'KiB'.
    (option_help_msgid): Don't confuse bytes with characters.
    (main): Set xalloc_exit_failure before invoking anything that might
    allocate memory.  Fix bug: -n was incorrectly ignored when optimizing
    the case of regular files with different lengths.
    (cmp): Use an index column wide enough to store this comparison's indexes.
    In locales other than the POSIX locale, say "byte" rather than "char".

commit d788533d5f17bd403c6d87e77f32a241905879ca
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Dec 11 08:12:21 2001 +0000

    pc -> ms

commit d104e14d8e39ca9fc7381c448da64de088b45dc2
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Dec 11 08:11:35 2001 +0000

    Initial revision

commit 412c4f34362c26ceb5305d8504b1e5766e4c9220
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Dec 11 08:09:04 2001 +0000

    (noinst_HEADERS): Add dirname.h, setmode.h.
    (libdiffutils_a_SOURCES): Add basename.c, setmode.c.

commit 380d97d7b99670c6fdb7c2f8cd0df8e8af524c66
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Dec 11 08:07:59 2001 +0000

    (AM_INIT_AUTOMAKE): Version 2.7.5.
    (PR_PROGRAM): Use AC_DEFINE_UNQUOTED, so that $PR_PROGRAM is expanded by sh.
    (ptrdiff_t, ssize_t): Use AC_CHECK_TYPE with a default of int,
    not AC_CHECK_TYPES.
    (jm_AC_DOS, AC_FUNC_SETMODE_DOS): New macros.
    (AC_CONFIG_FILES): Add ms/Makefile.

commit 277dbf811b8cd5300445328436282849faa477c6
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Dec 11 08:03:58 2001 +0000

    (SUBDIRS): Add ms.

commit 39ac13e2120e473ef5e0c35dce345e5a73b14d17
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Dec 3 14:05:54 2001 +0000

    Fix copyright notice.

commit 0ac2866bd3c157a355a3aa1bd82cfef8f38a2b9b
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Dec 3 13:56:28 2001 +0000

    diffutils 2.7.7

commit 0b98d9a71f7c825c3052aa675d9029511d80f51b
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Dec 3 13:44:47 2001 +0000

    (direntry, Overview, Comparison, Binary, Invoking cmp): Use "byte"
    rather than "character" when talking about cmp, since it compares
    bytes, not character.
    (Invoking cmp): New trailing operands FROM-SKIP and TO-SKIP.
    -i or --ignore-initial now accepts FROM-SKIP:TO-SKIP.
    New option -n or --bytes.
    Count operands now may be in octal or hex, and may be followed by a
    size multiplier.

commit c33d179ab620a88209cad033c8d6cdd6f6d09f82
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Dec 3 13:39:54 2001 +0000

    (usage): Clarify.

commit d7f6b143d910dd2177be966fc485e599e0a8e31a
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Dec 3 13:39:35 2001 +0000

    (AM_INIT_AUTOMAKE): version 2.7.4.
    (DEFAULT_DIFF_PROGRAM): Define to "diff", not "$bindir/diff"
    (which didn't work anyway).
    (AC_CHECK_MEMBERS): Add struct stat.st_blksize, struct stat.st_rdev.
    (AC_STRUCT_ST_BLKSIZE, AC_STRUCT_ST_RDEV): Remove; obsolescent.
    (AC_FUNC_FORK): Use this, instead of obsolescent AC_FUNC_VFORK.
    (AC_CONFIG_FILES, AC_CONFIG_COMMANDS): Add.
    (AC_OUTPUT): Remove args; they were obsolescent.

commit a6def20a05ca209c84a26015f2a1f3fbfd2ac19b
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Dec 3 13:37:07 2001 +0000

    Test version 2.7.4.

commit 129a699834531edf968287ffd74798e5b0f827dd
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Dec 3 13:22:49 2001 +0000

    (setup_output, begin_output, finish_output): HAVE_FORK ->
    HAVE_WORKING_FORK || HAVE_WORKING_VFORK.

commit ca059f5bfd498ae64fb81c7446cf7a2c1bca6eed
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Dec 3 13:20:30 2001 +0000

    (STAT_BLOCKSIZE): Use HAVE_STRUCT_STAT_ST_BLKSIZE, not HAVE_ST_BLKSIZE.
    (vfork): New macro.
    (HAVE_FORK): Remove.
    (set_binary_mode): New macro.

commit 44e0be8f0f88fc57c67ff11b15353a4fc0a21ac6
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Dec 3 13:18:51 2001 +0000

    (diffpid, cleanup, main, edit): HAVE_FORK -> HAVE_WORKING_FORK ||
    HAVE_WORKING_VFORK.
    (main): HAVE_VFORK -> HAVE_WORKING_VFORK.
    (edit): Reopen the temporary file after the editor has run, in case
    the editor operates by unlinking the old file and linking a new one.
    (P_tmpdir): Rename from PVT_tmpdir; this fixes a typo.  All uses changed.

commit 5ea1938003be6f5fd5d54c9a2ef9238815aad411
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Dec 3 13:16:21 2001 +0000

    (sip, read_files): Remove tests for HAVE_SETMODE; use set_binary_mode
    instead of setmode.
    (sip): Fix typo in backward lseek when reverting to text mode.

commit f95e035eda1ac8ff79ea16e4c8b07aa33b1ec6ef
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Dec 3 13:14:44 2001 +0000

    (read_diff): HAVE_FORK -> HAVE_WORKING_FORK || HAVE_WORKING_VFORK.

commit 5f0e17299fb53cd6ce420320037cc0fdeed6cba0
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Dec 3 13:13:04 2001 +0000

    Initial revision

commit 75ea63a2d7ffde984977953d5d604e7ce73386f0
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Dec 3 13:12:06 2001 +0000

    (EXTRA_DIST): Add xstrtol.c.
    (noinst_HEADERS): Add xstrtol.h.
    (libdiffutils_a_SOURCES): Add xstrtoumax.c.

commit 98d914fc6c4fc046cd93aaa97c27faa09983c102
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Dec 3 13:11:04 2001 +0000

    <xstrtol.h>: Include.
    (ignore_initial): Now an array with 2 elements.  All uses changed.
    (bytes): New var.
    (HELP_OPTION): New constant.
    (long_options, main): Use it.
    (long_options, option_help_msgid, main, cmp): Add support for -n or --bytes.
    (parse_ignore_initial): New function.
    (option_help_msgid, main): Add -i M:N.
    (usage, main): Add two optional trailing operands, a la BSD.
    (main): setmode -> set_binary_mode.
    (cmp): Report byte number of what we've seen, not of the entire file.
    This is to be consistent with the line number, which is always relative
    with what we've seen.

commit 32164584130dc9e2bd1dd5ade4df6ef9ea4fabe2
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Dec 3 07:43:59 2001 +0000

    (main, compare_files): setmode -> set_binary_mode.

commit c99680457cfd3e1c05b85593120dc3615fac8512
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Dec 3 06:23:58 2001 +0000

    (__xstrtol): Don't accept 'Ki'; require 'KiB'.

commit cc58a4f8063c010a61ca2aedcc0e5a12d89c863c
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Dec 3 05:33:58 2001 +0000

    (__xstrtol): Add support for IEC 60027-2.

commit 770d68dc364ebbb35a1fde71766efec8c7c9792d
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Nov 25 15:13:04 2001 +0000

    autoconf/lib/autoconf/functions.m4

commit 91a8ea4b54c8f53be5394d6380f632434ad79c53
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Nov 25 08:06:19 2001 +0000

    (INCLUDES): Add -I../lib, for regex.h.

commit 23689a884bbf814bb7fca5fff4952109f3fa00fa
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Nov 25 07:48:26 2001 +0000

    Don't set LIB_CLOCK_GETTIME to 'none required'; set it to
    the empty string instead.

commit 9b53dc875732f3df331505769fc1b414591a62d7
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Nov 25 07:36:42 2001 +0000

    (EXTRA_DIST): Add strtoimax.c, strtol.c.

commit 10d66dc46d700293ee9484e6da522ebe278b5ee0
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Nov 25 07:30:11 2001 +0000

    (SUBDIRS): Put intl before lib, so that libintl.h exists.

commit 7577cc7fb6cdf08f3b6344a5ae5351b66f8ab974
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Nov 25 07:25:31 2001 +0000

    (noinst_HEADERS): Add unlocked-io.h.

commit 258ce5d07b536306e19f1efda97243df66966544
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Nov 25 07:25:09 2001 +0000

    (__EXTENSIONS__): New define, for the unlocked macros.

commit a443fa483a1738694bf3b677bb60355a7e151e06
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Nov 25 06:51:21 2001 +0000

    Add copyright notice.
    Remove stuff that doesn't apply any more.

commit 6c994721a7274e8cd5964fb2b65341ac3d6777cd
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Nov 25 06:33:50 2001 +0000

    2.7.3 news

commit 96db06389fc69f0108beeffbff22770e4fc00dd4
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Nov 25 06:32:33 2001 +0000

    Initial revision

commit f1d11746cab0d2175dd6136249050801adb13946
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Nov 25 06:31:33 2001 +0000

    offsets -> indices for cmp

commit 814c36a2c8e714f3aae096e0cc47f57ed5cb8d4c
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Nov 25 06:31:04 2001 +0000

    (option_help_msgid): offsets -> indices

commit 7160e82d562025f3e95aa37ca40ab56a63a2c183
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Nov 25 06:28:48 2001 +0000

    (option_help_msgid): Don't mention --binary on POSIX hosts.

commit eefb9adae1642dcb0e2ac523c79998f466e94e77
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Nov 25 06:28:17 2001 +0000

    (STRIP_TRAILING_CR_OPTION): New constant.
    (longopts, option_help_msgid, main): Add -E, --ignore-tab-expansion,
    --strip-trailing-cr.

commit bcb8f7f3527717c5c8cd2848a8c443bb442b0be2
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Nov 25 05:54:30 2001 +0000

    Change direcategory from Utilities to GNU Packages.
    Add individual utilities.
    Switch to Free Documentation License.
    @code -> @command
    @samp -> @option
    GNU -> @sc{gnu}
    GNU patch version is 2.5.4.
    Expand tabs to spaces, except when in an example that actually uses tabs.
    Prefer @node with just one arg.
    Document -E or --ignore-tab-expansion, --strip-trailing-cr, --ignore-file-name-case.
    Regular expressions are now grep style, not Emacs style.
    cmp's -c or --print-chars option is now -b or --print-bytes.
    Time stamps now depend on LC_TIME.
    -p now implies ^[[:alpha:]$_].
    Flags now include ' and 0.
    cmp -i is an alias for --ignore-initial
    Document --from-file, --to-file.
    Document DIFF_OPTIONS.

commit 49e3b25b41c934ca6945d94de98d747fa5cc9922
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Nov 25 00:22:19 2001 +0000

    (AC_CHECK_FUNCS): Add gettimeofday, clock_gettime.
    (LIB_CLOCK_GETTIME): New subst.

commit b6092f7a19c7b78a5c002a3fd80d0b8b61c3ea61
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Nov 25 00:21:28 2001 +0000

    Assume C89 or better.
    (_GNU_SOURCE): Remove; config.h now defines it.
    (alloca): Declare like coreutils does it.
    (verify, TYPE_SIGNED, TYPE_MINIMUM, TYPE_MAXIMUM, O_RDWR, S_IRUSR, S_IWUSR):
    New macros.
    (STAT_BLOCKSIZE): Parenthesize definiens.
    <inttypes.h>: Include if HAVE_INTTYPES_H.
    (CHAR_MAX, INT_MAX): Remove.
    (PTRDIFF_MAX, SIZE_MAX): New macros.
    (strtoumax): New decl.
    Include stddef.h.
    (bzero): Remove.
    (bindtextdomain, textdomain, N_): New macros.
    (ISPRINT, ISSPACE): Remove ifndef wrappers.
    (ISUPPER, ISDIGIT): Remove.
    (TOLOWER): New macro.
    (MIN): Renamed from min; all callers changed.
    (MAX): Likewise, from max.
    (lin): New type.
    (LIN_MAX): New macro.
    (file_name_cmp): Renamed from filename_cmp.  All callers changed.
    (file_name_lastdirchar): Renamed from file_name_lastdirchar.
    All callers changed.
    (could_be_mvfs_stat_bug, could_be_nfs_stat_bug, dev_may_have_duplicate_ino):
    Remove.
    (HAVE_SETMODE, NULL_DEVICE): New macros.
    (same_file): Do not check attributes.
    (same_file_attributes): New macro.

commit 7cc1ca84b34554f4c4c20c69d8bba80f9cb63fa7
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Nov 25 00:11:23 2001 +0000

    Assume C89 or better.
    int -> bool for booleans.
    int -> lin for line numbers.
    int -> size_t for sizes.
    Use angle-brackets when including quotesys.h.
    Include error.h, regex.h, xalloc.h.
    (message5): sizeof -> offsetof
    (begin_output): Invoke pr without -f.
    (lines_differ): Renamed from line_cmp, and return bool not 3-way int.
    All callers changed.
    Add support for IGNORE_TAB_EXPANSION.
    (change_letter): Now an array rather than a function.  All callers changed.
    (translate_range): Translate line numbers to long, not lin, for convenience
    with printf.
    (analyze_hunk): Return enum changes instead of a count of inserts and deletes.
    All callers changed.
    (zalloc): New function.

commit babd4445b7551da0b2eb132cbb59794a80caf229
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Nov 24 23:59:13 2001 +0000

    Assume C89 or better.
    int -> bool for booleans.
    int -> lin for line numbers.

commit f7ea233c667071964270b985ad52f2efa53a5eb3
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Nov 24 23:56:49 2001 +0000

    Assume C89 or better.
    int -> bool for booleans.
    int -> lin for line numbers.
    Use angle-brackets when including getopt.h, quotesys.h.
    Include error.h, freesoft.h, stdio.h, xalloc.h.
    (copyright_string): Use only most recent year.
    (authorship_msgid, option_help_msgid): Wrap in N_().
    
    (tmpname): Now volatile.
    (tmpmade): Remove.
    (tmp): New var.
    (private_tempnam, exists, letters): Remove.
    (temporary_file): New function.
    (edit): Use it.
    (interact): Use strtoumax, not atoi.

commit 7a9851bed3ee069c6d78e0526c3edf6c85315dea
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Nov 24 23:46:37 2001 +0000

    Assume C89 or better.
    int -> lin for line numbers.

commit 420373575c3761cc50e762084400056affb968a0
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Nov 24 23:44:22 2001 +0000

    Assume C89 or better.
    int -> bool for booleans.
    int -> lin for line numbers.
    int -> size_t for sizes.
    Use angle-brackets when including cmpbuf.h.
    Include regex.h, xalloc.h.
    (word): Remove; now done in system.h.
    (hash_value): New type; use it instead of 'unsigned' for hash values.
    (file_block_read): New function.
    (sip, slurp): Use it.  Now static.
    (sip): Ensure block size is a multiple of word size.  Clear eof flag.
    (slurp): Use xalloc_die to report memory exhaustion.
    (find_and_hash_each_line): Use TOLOWER instead of _tolower.
    Add support for IGNORE_TAB_EXPANSION.
    (prepare_text_end): Strip trailing CR if requested.
    (find_identical_ends): Prepare the text only once, if they're duplicates.
    Let the compiler take advantage more of the fact that the buffers are
    word-aligned.
    (primes): Remove.
    (prime_offset): New var.
    (read_var): Use prime_offset instead of primes.
    Use zalloc instead of xmalloc + bzero.

commit 9afb404ccb9b04b4a488008cb04dd262db71b52f
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Nov 24 20:16:15 2001 +0000

    Assume C89 or better.
    int -> lin for line numbers.
    (format_group): Use strtoumax to parse line numbers.
    (format_group, print_ifdef_lines): Use do_printf_spec to handle printf specs.
    (groups_letter_value): Don't use _tolower; it's locale-dependent.
    (do_printf_spec): Renamed from scan_printf_spec; now does the printing.

commit 36b388a33f2cb41d622680b81d9bf0142f542424
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Nov 24 20:10:42 2001 +0000

    Assume C89 or better.
    int -> lin for line numbers (or 'long' when that's more convenient).
    (print_ed_hunk): Fix bug when handling double-dot inserts.

commit 1c2ed8ea5b7561400ef64ce60c71181d5a1f4649
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Nov 24 20:08:03 2001 +0000

    Assume C89 or better.
    int -> bool for booleans.
    Include error.h, exclude.h, xalloc.h.
    
    (dir_sort): Return 0 on error, 1 on success.  All callers changed.
    compare_names -> compare_names_for_qsort.
    
    (compare_names): Try strcasecmp if ignore_file_name_case.  Then try
    strcoll.  Use file_name_cmp only as a last resort.  Warn about
    strcasecmp or strcoll failure.
    (compare_names_for_qsort): New function.
    
    (diff_dirs): Use compare_names rather than filename_cmp.

commit a54f0db411e5cc633bf739f9e644c9d8d7da9b18
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Nov 24 19:56:07 2001 +0000

    Assume C89 or better.
    int -> bool for booleans.
    int -> lin for line numbers.
    Use angle-brackets when including getopt.h, quotesys.h.
    Include error.h, freesoft.h, inttostr.h, xalloc.h.
    (copyright_string): Use only most recent year.
    (authorship_msgid, option_help_msgid): Wrap in N_().
    
    Rename the following variables for consistency with user-visible
    option spellings.  All uses changed.
    (text): Renamed from always_text.
    (initial_tab): Renamed from tab_align_flag.
    
    (horizon_lines): Remove.  Remove all uses.
    
    (main): Invoke bindtextdomain and textdomain after setlocale.
    Rename "DIFF" to "DIFF_PROGRAM".
    
    Try to compare file0 to file1, because this is where changes are
    expected to come from.  Diffing between these pairs of files is more
    likely to avoid phantom changes from file0 to file1.
    However, use file2 as the common file if this is a 3-way diff,
    for backward compatibility.
    
    (create_diff3_block): Use xcalloc instead of malloc + bzero.
    
    (INT_STRLEN_BOUND): Remove; now in system.h.
    
    (read_diff): Always use --horizon-lines=100 rather than trying to guess it.
    Do not pass --inhibit-hunk-merge.
    Minimum chunk size is 1, not 8KiB.
    Use xalloc_die to report memory exhaustion.
    (undotlines): Use long for start, not int.

commit 2efe295eb51b9c02594a473d0d55b0ea8fe599c0
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Nov 24 19:29:55 2001 +0000

    Assume C89 or better.
    int -> bool for booleans.
    int -> lin for line numbers.
    Don't include regex.h.
    (enum changes): New enum.
    (enum line_class): Remove; subsumed by enum changes.
    (enum output_style): New constant OUTPUT_UNSPECIFIED.
    
    (ignore_space_change_flag, ignore_all_space_flag): Remove.
    (ignore_white_space): New decl, subsuming the above two.  All uses changed.
    
    Rename the following decls for consistency with user-visible
    option spellings.  All uses changed.
    (text): Renamed from always_text_flag.
    (ignore_blank_lines): Renamed from ignore_blank_lines_flag.
    (ignore_case): Renamed from ignore_case_flag.
    (brief): Renamed from no_details_flag.
    (initial_tab): Renamed from tab_align_flag.
    (expand_tabs): Renamed from tab_expand_flag.
    (starting_file): Renamed from dir_start_file.
    (paginate): Renamed from paginate_flag.
    (sdiff_merge_assist): Renamed from sdiff_help_sdiff.
    (left_column): Renamed from sdiff_left_only.
    (suppress_common_lines): Renamed from sdiff_skip_common_lines.
    (speed_large_files): Renamed from heuristic.
    (minimal): Renamed from no_discards.
    
    (inhibit_hunk_merge): Remove.
    
    (strip_trailing_cr, excluded, time_format): New decls.
    
    (files_can_be_treated_as_binary): Renamed from ignore_some_changes.
    
    (group_format, line_format): Now char const *[], not char *[].
    
    (struct file_data): Buffer is now word*, not char*, as it's always
    aligned and this can help the compiler.  buffered_chars -> buffered
    (since it's a byte count, not a char count).  All uses changed.
    New member `eof'.
    
    (FILE_BUFFER): New macro.
    
    (excluded_filename, error, free_software_msgid): Remove decls; now in
    other .h files.
    
    (sip, slurp): Remove decls.
    (file_block_read): New decl.
    (change_letter): Now an array, not a function.
    (lines_differ): Renamed from line_cmp.
    (analyze_hunk): Now returns enum changes rather than two change counts.

commit d7f8501f5336632c5213b4bab9a44c26523b1b11
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Nov 24 19:12:49 2001 +0000

    (diff_LDADD): New symbol.

commit 2e8641a5e5c62be99544041e777c1a73dc34a16f
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Nov 24 19:10:43 2001 +0000

    Assume C89 or better.
    int -> bool for booleans.
    long -> off_t for line numbers.
    Use angle-brackets when including getopt.h, fnmatch.h, quotesys.h.
    Include error.h, exclude.h, freesoft.h, hard-locale.h, prepargs.h,
    regex.h, signal.h, xalloc.h.
    (copyright_string): Use only most recent year.
    (authorship_msgid, option_help_msgid): Wrap in N_().
    
    Rename the following variables for consistency with user-visible
    option spellings.  All uses changed.
    (binary): Renamed from binary_flag.
    (new_file): Renamed from entire_new_file_flag.
    (unidirectional_new_file): Renamed from unidirectional_new_file_flag.
    (report_identical_files): Renamed from print_file_same_flag.
    
    (numeric_arg): Remove.
    
    (exclude, exclude_alloc, exclude_count, excluded_filename, add_exclude,
    add_exclude_file):
    Remove; now done by exclude.h.
    
    (BINARY_OPTION, FROM_FILE_OPTION, HELP_OPTION, HORIZON_LINES_OPTION,
    IGNORE_FILE_NAME_CASE_OPTION, INHIBIT_HUNK_MERGE_OPTION,
    LEFT_COLUMN_OPTION, LINE_FORMAT_OPTION, NORMAL_OPTION,
    SDIFF_MERGE_ASSIST_OPTION, STRIP_TRAILING_CR_OPTION,
    SUPPRESS_COMMON_LINES_OPTION, TO_FILE_OPTION,
    UNCHANGED_LINE_FORMAT_OPTION, OLD_LINE_FORMAT_OPTION,
    NEW_LINE_FORMAT_OPTION, UNCHANGED_GROUP_FORMAT_OPTION,
    OLD_GROUP_FORMAT_OPTION, NEW_GROUP_FORMAT_OPTION,
    CHANGED_GROUP_FORMAT_OPTION): New constants.
    (longopts, main): Use them.
    
    (longopts, main, option_help_msgid): Add -E, --from-file, --to-file.
    
    (main): Invoke bindtextdomain and textdomain after setlocale.
    Use grep syntax, not Emacs, for regular expressions.
    Use exclude.h, not our own functions.
    Use ISO 8601 time format in hard locales.
    Prepend DIFF_OPTIONS.
    Don't update ignore_some_changes.
    Use strtoumax instead of numeric_arg.
    Use specify_value when appropriate.
    error -> try_help when appropriate.
    -p now means ^[[:alpha:]$_], not ^[_a-zA-Z$].
    Ignore --inhibit-hunk-merge.
    Prefer changed group formats to unchanged ones.
    Remove now-unnecessary casts.
    Set files_can_be_treated_as_binary.
    
    (specify_value): Renamed from specify_format.  All uses changed.
    
    (specify_style): Default is now unspecified, not normal.  All uses changed.
    
    (set_mtime_to_now): New function.
    (compare_files): Use it.  Use memset, not bzero.
    Set stdin mtime to current time even when stdin is not a regular file.
    Check for same file attributes, as well as for same file.
    Use files_can_be_treated_as_binary.
    "write failed" -> "standard output on output failure.

commit d96c04ee417716da551c9af5ff9da185536d4557
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Nov 24 14:34:53 2001 +0000

    Assume C89 or better.
    int -> lin for line numbers.
    Include inttostr.h, regex.h.
    (TIMESPEC_NS): New macro.
    (nstrftime): New decl.
    (print_context_label): Use nstrftime and time_format to format times.
    Print numeric time stamp value if localtime fails.
    (print_context_function): New function.
    (pr_context_hunk, pr_unidiff_hunk): Use it.
    (find_function): Use size_t for sizes, not int.

commit 4de1d68d32189b44d363b3c43d77eef81b184df5
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Nov 24 14:16:12 2001 +0000

    Assume C89 or better.
    int -> bool for booleans.
    long -> off_t for line numbers.
    Use angle-brackets when including cmpbuf.h, getopt.h.
    Include error.h, freesoft.h, inttostr.h, xalloc.h.
    (copyright_string): Use only most recent year.
    (authorship_msgid): Wrap in N_().
    (buffer): Now word*, not char*.  All uses changed.
    (word): Remove macro; now in system.h.
    (long_options, option_help_msgid, main): -c --print-chars -> -b --print-bytes
    (check_stdout): "write failed" -> "standard output"
    (option_help_msgid): Wrap in N_().
    (main): Invoke bindtextdomain and textdomain after setlocale.
    Use strtoumax instead of doing the work ourselves.
    Check for same_file_attributes as well as same_file.
    (cmp): Use ssize_t for read returns, not size_t.
    Do not assume that size_t is not narrower than int.
    Do not assume that line numbers fit in 'long'.
    (block_compare_and_count, block_compare):
    Compiler now checks that buffers are word-aligned.
    (block_compare_and_count): Count sizes with size_t, not long.
    (sprintc): byte arg is unsigned char, not unsigned.

commit dd1268672597e935cdd910f1adf731dc4bd3e6f1
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Nov 24 13:51:07 2001 +0000

    Assume C89 or better.
    int -> lin for line numbers.
    int -> bool for booleans.
    unsigned int -> size_t for sizes.
    Use angle-brackets when including cmpbuf.h.
    Include error.h, regex.h, xalloc.h.
    (discard_confusing_lines, diff_2_files): Use zalloc rather than xalloc+bzero.
    (discard_confusing_lines): unsigned int -> lin for values that are really
    line numbers.
    (shift_boundaries): Do not inhibit hunk merges.
    (build_reverse_script, build_script, diff_2_files): Use |, not ||, for speed.
    (diff_2_files): no_details_flag & ~ignore_some_changes ->
    files_can_be_treated_as_binary.  Esure that buffer size is a multiple
    of sizeof (word).  Use file_block_read to read buffers.
    (diff_2_files): Abort if output style is not one of the expected styles.

commit a821b5602b040227ab71a2638dca2253fb6da5c1
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Nov 23 18:44:41 2001 +0000

    Initial revision

commit f78da6466e7b2d77de2a4214fe83985ee5b7e6e1
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Nov 23 13:28:32 2001 +0000

    Initial revision

commit 22af62a5678ea705380884bef4ec43e82e65db63
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Nov 23 13:25:01 2001 +0000

    (jm_PREREQ_READUTMP): Remove, as it gives autoheader the willies.

commit cd1a913b43413da87860f557a094c398744a9e2c
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Nov 23 13:04:25 2001 +0000

    Include config.h, freesoft.h rather than diff.h.
    (free_software_msgid): Wrap contents in N_.

commit e28790892e335a412aff01934a37a3a2768c1dbb
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Nov 23 13:02:42 2001 +0000

    Use prototypes instead of old-style functions.

commit 33d72d80bc0ccc713ba39768ef102c6dc7904074
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Nov 23 13:02:08 2001 +0000

    Don't include system.h; instead, include config.h, unistd.h.
    Use prototypes instead of old-style functions.
    (block_read): Don't assume that int is no wider than size_t.

commit e48d1026c5f76e1795ebec078167a6c651f0fa16
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Nov 23 08:05:29 2001 +0000

    Initial revision

commit 8b1cfebb78c02f55f91d229ecceef4284957f6db
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Nov 23 07:54:35 2001 +0000

    Define filename_cmp as an object-like macro, not as a function-like
    macro.

commit da34f9fc343796c6025e60a8f5726604d9a34b74
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Nov 23 07:52:27 2001 +0000

    Always operate in the C locale.
    Set AWK using a method that works even with broken shells.

commit abb43c1f76f48e45fcabe330a503a62eaa117db7
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Nov 23 07:46:59 2001 +0000

    (AC_INIT): Use src/diff.c, not diff.h, as the source files got removed.
    (AM_CONFIG_HEADER): Switch from AC_CONFIG_HEADER.
    (AC_ARG_PROGRAM, AC_MINIX): Remove.
    
    (AC_PREREQ, AM_INIT_AUTOMAKE, ALL_LINGUAS, AC_PROG_AWK,
    AM_PROG_CC_STDC, AC_PROG_RANLIB, AC_C_INLINE, AC_C_VARARRAYS,
    DEFAULT_DIFF_PROGRAM, DEFAULT_EDITOR_PROGRAM, AC_STRUCT_ST_MTIM_NSEC): Add.
    
    (PR_PROGRAM): AC_DEFINE.
    
    (AC_SYS_LARGEFILE): Use instead of our homebrew version.
    
    (_GNU_SOURCE): Define if not defined.
    
    (AC_CHECK_HEADERS): Add stdbool.h, unistd.h.
    (AC_CHECK_TYPES): Add ptrdiff_t, uintmax_t.
    (AM_GNU_GETTEXT, XGETTEXT): Add.
    
    (WITH_MVFS_STAT_BUG, WITH_NFS_STAT_BUG): Remove.
    (HAVE_MEMCHR): Remove.
    (AC_CHECK_FUNCS): Add diraccess.
    (AC_REPLACE_FUNCS): Add memchr, waitpid.
    (jm_FUNC_GLIBC_UNLOCKED_IO, jm_FUNC_GNU_STRFTIME, jm_FUNC_MALLOC,
     jm_FUNC_REALLOC, jm_PREREQ_ERROR, jm_PREREQ_QUOTEARG, jm_PREREQ_REGEX,
     jm_PREREQ_TEMPNAME, jm_AC_PREREQ_XSTRTOUMAX, AC_FUNC_FNMATCH): Add.
    (fnmatch.h, regex.h): Do not create these files unless we're using
    our own fnmatch and regex.
    (AC_OUTPUT): Add doc/Makefile, intl/Makefile, lib/Makefile, lib/posix/Makefile,
    m4/Makefile, po/Makefile.in, src/Makefile.

commit 851e78757601f74100d920fa8d1861e150309cd6
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Nov 23 07:12:27 2001 +0000

    Don't translate "program" to "programme".

commit 64c1b907e37d9f2eb9af94e5c2a4fec4ed1be624
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Nov 20 19:05:44 2001 +0000

    Initial revision

commit 0b795bef12137f5ea8d0a7771581bf7eda28f314
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Nov 20 05:34:44 2001 +0000

    Initial revision

commit 8e78630e376e1d8ed311a2bd11be0a7215efde0d
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Nov 4 01:21:33 2001 +0000

    Initial revision

commit 8a650ddd00a9c5130a0b67199d5578b845fee1e4
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Oct 27 00:37:40 2001 +0000

    Initial revision

commit ce4ac3d8f5bcfcc73e260bb5754b56ec56a1b313
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Oct 22 08:00:19 2001 +0000

    Initial revision

commit 5e0ab37d1b54802075c6919eb0183a18cf3817d9
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Sep 29 01:15:42 2001 +0000

    Initial revision

commit 37788019c290ff31f902f64fdb6b405ea0f95408
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Aug 23 17:25:08 2001 +0000

    Initial revision

commit 8a81b851d53c92e845961a2881ed3d8a725064d6
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Aug 12 17:11:46 2001 +0000

    Initial revision

commit ecad5d7b24b4bcc21f3275d2d1bb011727cfb3b6
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Jul 15 14:31:54 2001 +0000

    Initial revision

commit 688ab06db171f210dbe73dbef43bb2148e5de15f
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Jul 7 04:55:38 2001 +0000

    Initial revision

commit 42bf2924b081cda528bca0aba18d49aa983e9ed5
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Jul 6 04:44:39 2001 +0000

    Initial revision

commit 7109958ae4875dd0534e4de888a885114cc4e270
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Apr 2 08:26:15 2001 +0000

    Initial revision

commit 4dcf610052023fc1b821cf6850a76327e44874cd
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Jan 26 11:13:28 2001 +0000

    Initial revision

commit eb477ba9451eef62e9344ca64c0c6f072e83bc3f
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Oct 31 07:09:56 2000 +0000

    Initial revision

commit 0090fd30f97f695e18708ddd6c3a34c9f8e6837b
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Aug 7 15:48:18 2000 +0000

    Initial revision

commit 9825e0bef52904997b438ba9aac33848071574b9
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Feb 6 06:57:20 2000 +0000

    From GCC repository

commit 39a0766fcd5481d35e2caf3e779618353ed63469
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Dec 12 02:27:20 1998 +0000

    (lf_snarf): Fix bug when help line wrapped around the input buffer.

commit 4ecee655a20f0db1be9477096f22786959b6578e
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Sep 15 22:34:53 1998 +0000

    Add dircategory.

commit 5c5dfca096877631f67a2a06f324beaf52b36939
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Sep 14 07:27:17 1998 +0000

    Include <config.h> before using "const".

commit df0836e08976e3e58f6aa8420efec13d48433cca
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Sep 14 06:59:43 1998 +0000

    ($D.tar.gz): Don't use ln to create distribution; it doesn't
    work with symlinks.

commit 19db0feae5268084abeabb97a96f8b3a6d102dba
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Sep 14 06:13:10 1998 +0000

    (AC_PATH_PROG): Add PR_PROGRAM.
    If available, prefer support for large files unless the user specified
    one of the CPPFLAGS, LDFLAGS, or LIBS variables.
    (AC_STRUCT_ST_RDEV): Add.
    (HAVE_ST_FSTYPE_STRING): Add.
    (--with-mvfs-stat-bug, --with-nfs-stat-bug): New options.
    (HAVE_MEMCHR): New macro.
    (AC_CHECK_FUNCS): Add sicprocmask.

commit eb6efbf9c67a01ee7317df4ebe2db3a139920ea4
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Sep 14 06:13:10 1998 +0000

    Add --with-mvfs-stat-bug, --with-nfs-stat-bug.

commit 88507c4fc146befc67d9909e1b6b2c2c00dba635
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Sep 14 06:13:10 1998 +0000

    (quotesys.h): Include.
    (PR_PROGRAM): New macro.
    (pfatal_with_name): Abort if error returns.
    (fatal): Likewise.
    (print_message_queue): Free message chain after printing.
    (currently_recursive): Renamed from current_depth, and now a boolean.
    (begin_output): Report error if fflush does.
    Avoid stdio and gettext in child.

commit bc79aedec85808753e4d51323e2385fb1c13d7d0
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Sep 14 06:13:10 1998 +0000

    (__attribute__): New macro.
    (getenv): Don't declare if HAVE_STDLIB_H.
    (CHAR_MAX): New macro.
    (<locale.h>): New include.
    (<locale.h>): Include before <libintl.h>.
    (could_be_mvfs_stat_bug, could_be_nfs_stat_bug, dev_may_have_duplicate_ino,
    same_special_file): New macros.
    (same_file): Use them.

commit 65e8fe11693ff0748df573053a1270e97ed09a8a
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Sep 14 06:13:10 1998 +0000

    (print_half_line): Add brackets to pacify GCC -Wall.

commit e72388acbd0fc8f3619e56cca431984fa571d01f
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Sep 14 06:13:10 1998 +0000

    (quotesys.h): Include.
    (DIFF_PROGRAM, DEFAULT_EDITOR_PROGRAM): Remove.
    (free_software_msgid, editor_program, not_found): New vars.
    (diffbin, edbin): Remove.
    (editor_program): Renamed from edbin.
    (edit, interact): Now take extra string arg.
    (exiterr, fatal, perror_fatal, try_help): Add noreturn attribute.
    (sigset_t, sigemptyset, sigmask, sigaddset, SIG_BLOCK, SIG_SETMASK):
    (sigprocmask): New macros, if !HAVE_SIGPROCMASK.
    (error): Now has printf attribute.
    (longopts, main): Don't assume ASCII.
    (try_help): New operand arg.
    (usage): Conform to new GNU standards.
    (main): Set static vars for editor and diff program.
    Compare getopt_long result to -1, not EOF.
    -v conforms to new GNU standard.
    Complain better about extra and missing operands.
    If HAVE_VFORK, block SIGINT and SIGPIPE in the parent, since when
    the child munges its handlers it may somp on the parent.
    Pass rname to intract.
    Translate not-found message before forking.
    (give_help): Just output it all at once.
    (edit): New args lname, lline, rname, rline.
    (edit): New command 'd'.
    (interact): New args lname, rname.

commit f00d3f0a665703921f746d541d909446f1a4160e
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Sep 14 06:13:10 1998 +0000

    Update FSF address.

commit d81d5f9e6cb8931c2afc616fad19d0df85721b90
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Sep 14 06:13:10 1998 +0000

    (cmpbuf.h): Include.
    (slurp): Check for arithmetic overflow when computing buffer size.

commit a1bec6ce6450cc45f4ff44b66ecb463c1a4352b4
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Sep 14 06:13:10 1998 +0000

    Remove `#if 0'ed code.

commit f2ca3a82c2205ac873d4413badad64db9bf36589
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Sep 14 06:13:10 1998 +0000

    (diff_dirs): Check for recursive directory loop.
    Arg is now struct comparison const *.
    (dir_loop): New function

commit fd90a378218ee0687187ba44800af2ad76373d2e
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Sep 14 06:13:10 1998 +0000

    (quotesys.h): Include.
    (free_software_msgid): New decl.
    (RANGE_START, RANGE_END): Renamed from START and END.
    (fatal, perror_with_exit, try_help): Add noreturn attribute.
    (error): Add printf attribute.
    (diff_program): Now a ptr, not an array.  Initialize to DEFAULT_DIFF_PROGRAM
    instead of DIFF_PROGRAM.
    (longopts, main): Don't assume ASCII.
    (main): Use DIFF environment var to specify name of diff program.
    Compare getopt_long result to -1, not EOF.
    -v now reports version according to new GNU standard.
    Report spelling of extra operand, or last operand before missing one.
    (try_help): Now takes operand arg.
    (option_help_ms): Fix typo: missing comma.
    (usage): Update as per current GNU standards.
    (environ): Remove decl.
    (read_diff): Invoke diff with --inhibit-hunk-merge.
    Translate `not found' message before forking.
    Quote name of diff program.
    Pass horizon lines.
    `memory exhausted' -> `Memory exhausted'

commit bad331bf32f5a812007ef5400b675f19507fc03a
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Sep 14 06:13:10 1998 +0000

    (XTERN): Renamed from EXTERN.
    (struct filedata): Remove dir_p arg.
    (struct comparison): New type.
    (diff_2_files, diff_dirs)" Ise ot/
    (error): Add printf attribute if applicable.
    (free_software_msgid): New decl.
    (pr_program): New decl.
    (fatal): Add noreturn attribute.
    (pfatal_with_name): Likewise.

commit b2bbf871e71760e99cdf6cb2d50a274840ad5930
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Sep 14 06:13:10 1998 +0000

    (authorship_msgid): New var.
    (quotesys.h): Include.
    (ck_atoi): Remove.
    (function_regexp_list, ignore_regexp_list): Now static.
    (binary_flag): Renamed from binary_I_O.
    (entire_new_file_flag, unidirectional_new_file_flag, print_file_same_flag):
    Now static.
    (numeric_arg): Renamed from ck_atoi.
    New argument specifying the argument type.
    (longopts, main): Don't assume ASCII.
    (longopts): Remove old aliases --file-label, --entire-new-file, --ascii,
    --print.
    (main): Check for -1, not EOF, when calling getopt_long.
    Use numeric_arg to report errors.
    Report error if -l specified but pagination is not supported.
    Report error if -S is specified twice with conflicting values.
    Have --version conform to the new GNU standards.
    Add new --from-file, --to-file, --inhibit-hun,-merge options.
    Make the horizon at least as large as the context.
    Add casts to pacify gcc -Wall.
    (try_help): Add operand arg.
    (option_help_msgid): Doc fix to match above.
    (usage): Indent option_help_msgid.
    (compare_files): Now takes struct comparison
    instead of two directory names and a depth.
    (NONEXISTENT, UNOPENED, ERRNO_ENCODE, ERRNO_DECODE):
    New macros.
    (DIR_P): New macro.
    Report error if fflush does.

commit cd804a4efe27ad94e18a34b50d3cde70e1c0b4c0
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Sep 14 06:13:10 1998 +0000

    Fix spacing.

commit 563686fcd98c79e3c73d729e87da072ec9ad7fa7
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Sep 14 06:13:10 1998 +0000

    (authorship_msgid): New var.
    (free_software_msgid): New decl.
    (error): Now has printf attribute.
    (try_help): Likewise.
    (long_options): Don't assume ASCII.
    (try_help): Now accepts operand arg.
    (main): Check for -1, not EOF, when calling getopt_long.
    Report --ignore-initial value when complaining about it.
    Output copyright and free software info with -v.
    Don't assume ASCII.
    Report last operand when one is missing.
    Report text of extra operand.
    Move block_read into cmpbuf.c.

commit f1c356747f2a2969055ef6770d5c9bbbbed99291
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Sep 14 06:13:10 1998 +0000

    Document recent changes.
    The patch doc still corresponds to patch 2.2, unfortunately.
    Update GNU bug reporting address.  Omit Larry Wall's address;
    it's obsolete and he's busy with perl.

commit ddbaec7810f5ca4b230e5708d54d4514ab712273
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Sep 14 06:13:10 1998 +0000

    Fix copyright.

commit ee7817ee7f07dcf291f05f9797df7bd292c02b32
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Sep 14 06:13:10 1998 +0000

    (DEFAULT_DIFF_PROGRAM): Renamed from DIFF_PROGRAM.
    (PR_PROGRAM): All `configure' to define it.
    (srcs): Add $(diffutils_srcs), freesoft.c, quotearg.c instead of quote.c,
    quotearg.h.
    (distfiles): Add acconfig.h, message/*.
    (all): Depend on $(destfiles), not info.
    (version.c): Parenthesize `GNU diffutils'.
    (common_o): Add freesoft.o
    (diff_o): quote.o -> quotearg.o
    (diff3_o, sdiff_o): Likewise.
    (diff.dvi): Depend on version.texi.
    (diff.o diff3.o quotearg.o sdiff.o util.o): New dependency on quotearg.h
    (diff3.o): DIFF_PROGRAM -> DEFAULT_DIFF_PROGRAM.
    (sdiff.o): Likewise.
    (messages.po): Remove.
    (message/msgid.po, message/template.po): New rules.
    (maintainer-clean): Renamed from realclean.
    (install): Install from source directory, if applicable.
    Invoke install-info if needed.
    (install-strip): New rule.
    (check): Set DIFF.
    (stamp-h.in): Don't put the date into the timestamp.
    (D_dirs): Add $D/message.
    ($D.tar.gz): Compress with gzip -9.
    (srcs, distfiles, diff_o, diff3_o, sdiff_o): Rename quotearg.c to
    quotesys.c and quotearg.h to quotesys.h.

commit 8a60489fa41523137624aeef82c6bd353a8a4ea9
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Sep 14 00:34:04 1998 +0000

    (same_file): Add.

commit 40a2ed14d8c92b5859472b0034a31bbe0bec7a5c
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Sep 14 00:34:04 1998 +0000

    Don't alter PROGRAMS.

commit 7a3d2137801b5848c56cc36fa151393342b0faf8
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Sep 14 00:34:04 1998 +0000

    Update FSF address.
    (quote_system_arg): Renamed from system_quote_arg.

commit ddf93d23968097487ae48fa72c3bb87e250afdc7
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Sep 14 00:34:04 1998 +0000

    (DEFAULT_DIFF_PROGRAM): Renamed from DIFF_PROGRAM.
    When editing mkinstalldirs rule, look for exec_prefix and prefix.
    Add .exe when installing files.

commit 822edd195b0e0d752a032c171ea17fb949a25953
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Sep 14 00:34:04 1998 +0000

    (%.exe): Remove.
    (pc-clean): Remove *.exe

commit 03bd647315af7369818dbdc533e5e7ad2f71d8b4
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Sep 14 00:34:04 1998 +0000

    (same_file): Remove.

commit 6e9a130189c23ea1f75fd1cfe52be084e9d6957f
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Sep 14 00:26:54 1998 +0000

    Initial revision

commit 877cbd3f3a05e5f29cc0934a5cb57e14cd20279a
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Sep 14 00:25:27 1998 +0000

    Add copyright date and update FSF address.

commit 9703835363fa00fe91fbda23a565c6dd57e03a77
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Sep 14 00:22:05 1998 +0000

    (diff_dirs): Check for recursive directory loop.
    Arg is now struct comparison const *.
    (dir_loop): New function

commit 15cb246458767a925a974aa2292ec3a41eecf469
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Sep 13 23:17:39 1998 +0000

    Initial revision

commit 064482a2366d06a1b299c26cb6f1dd7001e1d7d5
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Sep 13 05:33:07 1998 +0000

    Add --with-mvfs-stat-bug, --with-nfs-stat-bug.

commit 27d11e852fec1a55420b928e75ba2cc3012ab5f1
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Sep 13 05:33:07 1998 +0000

    (quotearg.h): Include.
    (PR_PROGRAM): New macro.
    (pfatal_with_name): Abort if error returns.
    (fatal): Likewise.
    (print_message_queue): Free message chain after printing.
    (currently_recursive): Renamed from current_depth, and now a boolean.
    (begin_output): Report error if fflush does.
    Avoid stdio and gettext in child.

commit 79532e867d0bd3f4653600485cd24b00eeed99a1
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Sep 13 05:33:07 1998 +0000

    (__attribute__): New macro.
    (getenv): Don't declare if HAVE_STDLIB_H.
    (CHAR_MAX): New macro.
    (<locale.h>): New include.
    (<locale.h>): Include before <libintl.h>.
    (could_be_mvfs_stat_bug, could_be_nfs_stat_bug, dev_may_have_duplicate_ino,
    same_special_file): New macros.
    (same_file): Use them.

commit 7571701a555b3cf0865f496ba5c46b5a09dc12c6
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Sep 13 05:33:07 1998 +0000

    (print_half_line): Add brackets to pacify GCC -Wall.

commit 8e6e1bd3ac438d54c8ee50f34674e051f676fa82
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Sep 13 05:33:07 1998 +0000

    (quotearg.h): Include.
    (DIFF_PROGRAM, DEFAULT_EDITOR_PROGRAM): Remove.
    (free_software_msgid, editor_program, not_found): New vars.
    (diffbin, edbin): Remove.
    (editor_program): Renamed from edbin.
    (edit, interact): Now take extra string arg.
    (exiterr, fatal, perror_fatal, try_help): Add noreturn attribute.
    (sigset_t, sigemptyset, sigmask, sigaddset, SIG_BLOCK, SIG_SETMASK):
    (sigprocmask): New macros, if !HAVE_SIGPROCMASK.
    (error): Now has printf attribute.
    (longopts, main): Don't assume ASCII.
    (try_help): New operand arg.
    (usage): Conform to new GNU standards.
    (main): Set static vars for editor and diff program.
    Compare getopt_long result to -1, not EOF.
    -v conforms to new GNU standard.
    Complain better about extra and missing operands.
    If HAVE_VFORK, block SIGINT and SIGPIPE in the parent, since when
    the child munges its handlers it may somp on the parent.
    Pass rname to intract.
    Translate not-found message before forking.
    (give_help): Just output it all at once.
    (edit): New args lname, lline, rname, rline.
    (edit): New command 'd'.
    (interact): New args lname, rname.

commit aa33c53a5189298c2a8472dc6ccf9bab1ff0b5bc
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Sep 13 05:33:07 1998 +0000

    Update FSF address.

commit c275147038536345976081c670b095fb030e86c5
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Sep 13 05:33:07 1998 +0000

    (cmpbuf.h): Include.
    (slurp): Check for arithmetic overflow when computing buffer size.

commit a3349dc5c0641e7057981f35ae49e321f157e4ca
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Sep 13 05:33:07 1998 +0000

    Remove `#if 0'ed code.

commit 0972f1796deefe04b688322397f930f9216adbe8
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Sep 13 05:33:07 1998 +0000

    (quotearg.h): Include.
    (free_software_msgid): New decl.
    (RANGE_START, RANGE_END): Renamed from START and END.
    (fatal, perror_with_exit, try_help): Add noreturn attribute.
    (error): Add printf attribute.
    (diff_program): Now a ptr, not an array.  Initialize to DEFAULT_DIFF_PROGRAM
    instead of DIFF_PROGRAM.
    (longopts, main): Don't assume ASCII.
    (main): Use DIFF environment var to specify name of diff program.
    Compare getopt_long result to -1, not EOF.
    -v now reports version according to new GNU standard.
    Report spelling of extra operand, or last operand before missing one.
    (try_help): Now takes operand arg.
    (option_help_ms): Fix typo: missing comma.
    (usage): Update as per current GNU standards.
    (environ): Remove decl.
    (read_diff): Invoke diff with --inhibit-hunk-merge.
    Translate `not found' message before forking.
    Quote name of diff program.
    Pass horizon lines.
    `memory exhausted' -> `Memory exhausted'

commit 812d24c69ab194c30ca7d41eba95a06398217be1
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Sep 13 05:33:07 1998 +0000

    (XTERN): Renamed from EXTERN.
    (struct filedata): Remove dir_p arg.
    (struct comparison): New type.
    (diff_2_files, diff_dirs)" Ise ot/
    (error): Add printf attribute if applicable.
    (free_software_msgid): New decl.
    (pr_program): New decl.
    (fatal): Add noreturn attribute.
    (pfatal_with_name): Likewise.

commit 9a57dd54d693952dc3f63ed8baaf99f2fb695132
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Sep 13 05:33:07 1998 +0000

    (authorship_msgid): New var.
    (quotearg.h): Include.
    (ck_atoi): Remove.
    (function_regexp_list, ignore_regexp_list): Now static.
    (binary_flag): Renamed from binary_I_O.
    (entire_new_file_flag, unidirectional_new_file_flag, print_file_same_flag):
    Now static.
    (numeric_arg): Renamed from ck_atoi.
    New argument specifying the argument type.
    (longopts, main): Don't assume ASCII.
    (longopts): Remove old aliases --file-label, --entire-new-file, --ascii,
    --print.
    (main): Check for -1, not EOF, when calling getopt_long.
    Use numeric_arg to report errors.
    Report error if -l specified but pagination is not supported.
    Report error if -S is specified twice with conflicting values.
    Have --version conform to the new GNU standards.
    Add new --from-file, --to-file, --inhibit-hun,-merge options.
    Make the horizon at least as large as the context.
    Add casts to pacify gcc -Wall.
    (try_help): Add operand arg.
    (option_help_msgid): Doc fix to match above.
    (usage): Indent option_help_msgid.
    (compare_files): Now takes struct comparison
    instead of two directory names and a depth.
    (NONEXISTENT, UNOPENED, ERRNO_ENCODE, ERRNO_DECODE):
    New macros.
    (DIR_P): New macro.
    Report error if fflush does.

commit 1a50d285b938342ab331b10f7f05bd22f6502982
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Sep 13 05:33:07 1998 +0000

    Fix spacing.

commit 0aa5e6a1bc202f333432c3a4ec2d2b65e1b01a29
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Sep 13 05:33:07 1998 +0000

    (authorship_msgid): New var.
    (free_software_msgid): New decl.
    (error): Now has printf attribute.
    (try_help): Likewise.
    (long_options): Don't assume ASCII.
    (try_help): Now accepts operand arg.
    (main): Check for -1, not EOF, when calling getopt_long.
    Report --ignore-initial value when complaining about it.
    Output copyright and free software info with -v.
    Don't assume ASCII.
    Report last operand when one is missing.
    Report text of extra operand.
    Move block_read into cmpbuf.c.

commit fe73cbbe5d4520bc1c6b7e0d177c5911ff91b00c
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Sep 13 05:33:07 1998 +0000

    (no_discards): Remove.
    (inhibit): Remove.
    (shift_boundaries): Don't inhibit.  If inhibit_hunk_merge is nonzero,
    don't merge hunks.
    (briefly_report): Now returns 2 if trouble, CHANGES otherwise.
    (diff_2_files): Now takes struct comparison.  If briefly_report reports
    trouble, pass it on to caller.

commit f618b639bd9d535a8c38a471b8cea0e7a52f91e0
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Sep 13 05:33:07 1998 +0000

    (block_read): New decl.

commit c8cc5a397c65806860a5043d55373d58db7ae9e4
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Sep 13 05:33:07 1998 +0000

    (block_read): Moved here from cmp.c.

commit 227301f86a65a121bd18437a610955db7480888b
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Sep 13 05:33:07 1998 +0000

    Document recent changes.
    patch is still only patch 2.2, unfortuantely.

commit 28adfd739abc97634b84ef6f74575e8deac2dc06
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Sep 13 05:18:48 1998 +0000

    Mention --from-file=FILE, --to-file=FILE, ed.

commit dcb0b57294bac8d23515770abdee4b3e00b92103
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Sep 13 05:18:48 1998 +0000

    (DEFAULT_DIFF_PROGRAM): Renamed from DIFF_PROGRAM.
    (PR_PROGRAM): All `configure' to define it.
    (srcs): Add $(diffutils_srcs), freesoft.c, quotearg.c instead of quote.c,
    quotearg.h.
    (distfiles): Add acconfig.h, message/*.
    (all): Depend on $(destfiles), not info.
    (version.c): Parenthesize `GNU diffutils'.
    (common_o): Add freesoft.o
    (diff_o): quote.o -> quotearg.o
    (diff3_o, sdiff_o): Likewise.
    (diff.dvi): Depend on version.texi.
    (diff.o diff3.o quotearg.o sdiff.o util.o): New dependency on quotearg.h
    (diff3.o): DIFF_PROGRAM -> DEFAULT_DIFF_PROGRAM.
    (sdiff.o): Likewise.
    (messages.po): Remove.
    (message/msgid.po, message/template.po): New rules.
    (maintainer-clean): Renamed from realclean.
    (install): Install from source directory, if applicable.
    Invoke install-info if needed.
    (install-strip): New rule.
    (check): Set DIFF.
    (stamp-h.in): Don't put the date into the timestamp.
    (D_dirs): Add $D/message.
    ($D.tar.gz): Compress with gzip -9.

commit 78a974475e68eda02deab1e542c1561c23966a23
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Sep 13 05:18:48 1998 +0000

    Initial revision

commit bf49f4aa398f198b2715a17ac2f7a90a8e13c575
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Jan 3 18:53:37 1995 +0000

    Define filename_cmp to stricmp (again).

commit 19aa2d3c918d10bd29d80d01c8dff75d314fb84a
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Dec 10 16:46:49 1994 +0000

    Adjust to emx 0.9a.
    A few compiler options have changed, and gnuregex.dll should have been
    stripped.

commit 2fb829677f3540677513e3a86b95709147cbc52c
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Dec 10 16:42:51 1994 +0000

    Adjust to emx 0.9a.

commit aa8b128119182543a724dfe62c3f44aa5f47ad33
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Nov 27 06:30:14 1994 +0000

    Adjust to latest patch from eliz.

commit c0a49f9f369d12183c53336dece8496422d17205
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Nov 14 06:24:09 1994 +0000

    (PACKAGE, VERSION, diffutils_srcs, D): New vars.
    (version.c, version.texi, messages.po): New files.
    messages.po is built automatically from source files and `getmsgids'.
    Each function and macro whose first parameter is a gettext msgid
    has had its first parameter's name changed so it ends in `msgid'.
    All arrays of msgids have had their names changed to end in `msgid'.
    `getmsgids' uses this to determine which strings are msgids.
    All strings that are messages are passed through gettext once before
    being used, so that they can be localized.
    Several diagnostics have been changed slightly, to make them more consistent
    and easier to translate.
    (distfiles): Add them, pc/*, and getmsgids.
    (diff.info): Now depends on version.texi.
    (realclean): Clean messages.po, version.*.
    (dist): Just build $D.tar.gz.
    ($D.tar.gz): New file, takes over old `dist' function.
    Don't assume $(distfiles) are all in same directory.

commit 45db00459e6f2963a02ca721c7ade0393d2c7a90
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Nov 14 05:25:53 1994 +0000

    Clean messages.po, too.

commit a6bbb288b23575ef0d0334d78761e63f7f94b5b2
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Nov 14 05:10:56 1994 +0000

    (AC_CHECK_HEADERS): Add libintl.h, locale.h.
    (AC_CHECK_LIB): Check for -lintl.

commit 5ce0e7349f49068f794c064023324fed1292442a
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Nov 14 05:10:56 1994 +0000

    2.7.1 alpha news

commit 993d9f48b184bc387fc3df2a0034d10cc77aaaa9
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Nov 14 05:10:56 1994 +0000

    (struct msg, message5, print_message_queue): Allocate just one block of memory
    to save a messsage.

commit 74674f3e03eaeb72158692b229d8ed49416d55dc
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Nov 14 05:10:56 1994 +0000

    (gettext): Declare; use a stub if ! HAVE_LIBINTL_H.
    (setlocale): Declare; use a stub if ! HAVE_LOCALE_H.

commit caf01e2fb9559d2643a43f279e4d66bab0deb553
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Nov 14 05:10:56 1994 +0000

    (version_string): Fix typo in declaration: `const' was missing.
    (option_help_msgid, help_msgid): New constant.
    (usage, give_help): Use them, so message is translated one option at a time.
    (main): Invoke setlocale first thing, to tell library we're internationalized.
    (trapsigs): Ignore sigaction failure, to be compatible with `signal'.

commit a0d1e40b965340856a1a07e3adceeeae380d4cd9
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Nov 14 05:10:56 1994 +0000

    (main): Invoke setlocale first thing, to tell library we're internationalized.
    (option_help_msgid): New constant.
    (usage): Use it, so message is translated one option at a time.

commit 893aeeb7e0234f11f9153b365f785fcadfc271d8
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Nov 14 05:10:56 1994 +0000

    (main): Invoke setlocale first thing, to tell library we're internationalized.
    -D FOO now outputs `/* ! FOO */ instead of `/* not FOO */'.
    (option_help_msgid): New constant.
    (usage): Use it, so message is translated one option at a time.
    (compare_files): For label, use file_label if set.

commit 4f5769d660ddc9c16421ec97fb0d612b44cb2aa6
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Nov 14 05:10:56 1994 +0000

    (main): Invoke setlocale first thing, to tell library we're internationalized.
    (option_help_msgid): New constant.
    (usage): Use it, so message is translated one option at a time.
    (sprintc): Renamed from `printc'.  Now outputs to a buffer instead of stdout.
    (cmp): Use new sprintc semantics.

commit 3da1b0cc6a4f847d4ca8a70444fd7141f0a15290
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Nov 14 05:10:56 1994 +0000

    (briefly_report): Rewrite `message (A?"B":"C")' as
    `if (A) message ("B") : message ("C")'; this is for getmsgids.
    (briefly_report, diff_2_files): For label, use file_label if set.

commit 204c39de358b8675209e67045ee718e460832bd8
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Nov 14 05:10:56 1994 +0000

    Use version.texi.
    -D FOO now outputs `/* ! FOO */ instead of `/* not FOO */'.

commit 629b424629fa32d92e4cd64c36cc87071b4ff2b0
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Nov 14 05:10:56 1994 +0000

    Initial revision

commit e386d1b4b1a344260d02ac9f573cf7114fe97b29
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Nov 14 05:10:56 1994 +0000

    (PACKAGE, VERSION, diffutils_srcs, D): New vars.
    (version.c, version.texi, messages.po): New files.
    messages.po is built automatically from source files and `getmsgids'.
    Each function and macro whose first parameter is a gettext msgid
    has had its first parameter's name changed so it ends in `msgid'.
    All arrays of msgids have had their names changed to end in `msgid'.
    `getmsgids' uses this to determine which strings are msgids.
    All strings that are messages are passed through gettext once before
    being used, so that they can be localized.
    Several diagnostics have been changed slightly, to make them more consistent
    and easier to translate.
    (distfiles): Add them, pc/*, and getmsgids.
    (diff.info): Now depends on version.texi.
    (realclean): Clean version.*.
    (dist): Just build $D.tar.gz.
    ($D.tar.gz): New file, takes over old `dist' function.
    Don't assume $(distfiles) are all in same directory.

commit 8c445c7c3aeee3eaed656d65d6a3958d4e5450b1
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Nov 13 20:59:45 1994 +0000

    Add HAVE_LIBINTL_H, HAVE_LOCALE_H, HAVE_LIBINTL.

commit 9826645f369ae45dcae53502731b30a9762a050f
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Wed Nov 9 17:42:44 1994 +0000

    (trapsigs): Don't check signal return value, since it's bogus under djgpp.

commit 49a8fa06517d91e798bf13c34bd446d55b1d401b
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Wed Nov 9 17:22:07 1994 +0000

    Include <sys/emxload.h>.  Define _REGEX_RE_COMP.

commit 7e13cd4cb189a8c1903c81018f20a671eaeedace
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Wed Nov 9 17:22:07 1994 +0000

    Remove quote.o.

commit a8a1d53a240395260d8bd1be3567aa5513b1acdf
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Oct 31 17:04:40 1994 +0000

    Fix to match autoconf 2.0 outline.

commit 919d9efa7dac5ba8448c1703a8b3e4259b33c43d
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Oct 31 07:27:27 1994 +0000

    (pr_program): New var.
    (begin_output): Use system_quote_arg to compute command.
    (analyze_hunk): ignore_regexp_list -> ignore_regexp.fastmap
    Fix off-by-1 line length bug.
    Match with one big regexp instead of a list of regexps.
    Use new `trivial_length' local instead of comparing line's first byte to `\n'.
    Help the compiler with linbuf local vars.

commit 47acc0b36a848b347b06303f5a2e07e5c5f1a405
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Oct 31 07:27:27 1994 +0000

    (system_quote_arg): New function; replaces SYSTEM_QUOTE_ARG macro.

commit c421d599f88317290e4b321ea44bef3230bc8ae5
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Oct 31 07:27:27 1994 +0000

    (main): Use system_quote_arg to compute command.

commit f1fe427f312e5fbadf22c83c785d78915aea6490
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Oct 31 07:27:27 1994 +0000

    (find_identical_ends): function_regexp_list -> function_regexp.fastmap

commit 2e6f3b4f2528bdaee622ef8da7119917fb986e22
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Oct 31 07:27:27 1994 +0000

    (read_diff): Quote arguments with system_quote_arg.

commit d3f8acca914ce995591af64dbc291defd2ac3606
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Oct 31 07:27:27 1994 +0000

    (function_regexp, ignore_regexp): Replace lists of compiled regexps with
    these single compiled regexps.
    (regexp_list, function_regexp_list, ignore_regexp_list): Moved to diff.c.

commit 0bde792586cd647051d4dcb31362a09022cca9e9
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Oct 31 07:27:27 1994 +0000

    (option_list): Quote options with system_quote_arg.
    (add_regexp): Build one big regexp instead of a list of regexps.
    (summarize_regexp_list): New function.
    (regexp_list): Redesigned struct; moved here from diff.h.
    (function_regexp_list, ignore_regexp_list): Likewise, for vars.

commit 5b6f6d8841181216494161371b434a2e35462125
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Oct 31 07:27:27 1994 +0000

    (find_function): Simplify interface: don't return size of function line.
    All callers changed.  function_regexp_list -> function_regexp
    (print_context_script, pr_context_hunk, pr_unidiff_hunk):
    ignore_regexp_list -> ignore_regexp.fastmap
    (print_context_script, find_function): INT_MAX now denotes no previous match;

commit 4d0d153b38abed7ee9c4ca5bbf461a03ad1e626e
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Oct 31 07:27:27 1994 +0000

    Fix comment.

commit 55ffd9714e96495ca0c309eb4b5d0d027839d9cb
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Oct 31 07:27:27 1994 +0000

    (diff_2_files): ignore_regexp_list -> ignore_regexp.fastmap

commit c451a2003646e9b05a649b4d86f7a09ca2364a62
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Oct 31 07:27:27 1994 +0000

    \ -> /

commit 0d75a4d1e5c382ae7dd866adcca6e92470f955ab
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Oct 31 07:27:27 1994 +0000

    Remove __GNU_LIBRARY__, SYSTEM_QUOTE_ARG, system_quote_arg.

commit 24bcded990501669da1107c79bfa065d36e58517
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Oct 31 07:27:27 1994 +0000

    (system_quote_arg): Compute size if first arg is 0.

commit bb9307fe16533d834ef2a1181760eff97b5262f4
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Oct 31 07:27:27 1994 +0000

    Quote CFLAGS= for djgpp GNU make.
    Clean *.bat, fname.
    Move dist to different directory.

commit dbc2dc8d0c2dddbfe9ae97d1d0c9bb4103990f5b
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Oct 31 07:27:27 1994 +0000

    Update version number, remove `only' typo.

commit 9d37018f319b9912e6566c3a9e85172385d88023
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Oct 31 07:27:27 1994 +0000

    (srcs, diff_o, diff3_o, sdiff_o): New files quote.c, quote.o.

commit 0c5e4918da08819eed4a360b28e67df68b971205
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Oct 15 20:09:12 1994 +0000

    (perror_with_name, fatal): Use GNU `error'.
    (error): Remove.
    (line_cmp): tolower -> _tolower
    (xmalloc, xrealloc): Remove.

commit 4ce826fb34d8011e8c021eeb14a283ccc920cec5
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Oct 15 20:09:12 1994 +0000

    (_tolower): Define if not already defined.
    (malloc, realloc): Remove unused declarations.

commit 2f95916004c9c67345c8e9298d0a8a8394ff58aa
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Oct 15 20:09:12 1994 +0000

    (xmalloc): Remove.
    (diffarg): Take advantage of cleaner xrealloc semantics.

commit f431aa8c700cb727f1b9b065d0f1d25c8a68f378
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Oct 15 20:09:12 1994 +0000

    (ROL): Use sizeof to make it more generic.
    (slurp): Align buffer size to word size, in case malloc cares.
    (find_and_hash_each_line): Don't invoke line_cmp if the length
    differs and -i is in force.  tolower -> _tolower; this speeds
    up diff -i considerably under some hosts (e.g. Solaris 2.3).
    Don't assume ISSPACE ('\n') is nonzero.

commit ce8a482bf4c3e4ad1ea70e55a74b96a43c8b0e7a
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Oct 15 20:09:12 1994 +0000

    (groups_letter_value): tolower -> _tolower

commit 1fbe4c853ce4b9fda8167ca4751b49b598492f11
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Oct 15 20:09:12 1994 +0000

    (main): Use strerror (EISDIR) instead of "Is a directory".
    (xmalloc, xrealloc): Remove.
    (fatal, perror_with_exit): Use `error'.

commit 5b1cad81664d06f45e309032e914e3f743df3ff0
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Oct 15 20:09:12 1994 +0000

    (ignore_some_line_changes): Removed.  All users changed.
    (error): Change to GNU library standard.  All callers changed.
    (xmalloc_exit_failure): New variable.  xmalloc and xrealloc are now taken
    from GNU library.  All `main' programs set this variable at the start.

commit 67e172c7653a143ac67d7d1fdeeee9a548206424
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Oct 15 20:09:12 1994 +0000

    (add_exclude): Can now assume xrealloc (0, ...) works.
    (add_regexp): Free storage on failure.  Allocate storage all at one go.

commit ff04d4a6b8586b52b7266bfcaa31420b99cd5a52
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Oct 15 20:09:12 1994 +0000

    (main): Align buffer size to word size, in case malloc cares.

commit 9f40dabd6b4732fa4c39e4ed97d1cf3c8b9fc252
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Oct 15 20:09:12 1994 +0000

    error caller changed

commit ea3d57c64052bd50583c58ec9341fa4985c2ac12
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Oct 15 20:09:12 1994 +0000

    (common_o): New variable.  Link error.o and xmalloc.o into all programs.
    (check): Depend on $(PROGRAMS).

commit ae76071a49d024000e07435d703b2d527e22b616
Author: David MacKenzie <djm@djmnet.org>
Date:   Wed Oct 12 21:04:35 1994 +0000

    (main): Set xmalloc_exit_failure.

commit 67feaeb0f0dc56b39eb5323710b6a53322ab39de
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Oct 3 08:00:09 1994 +0000

    ENV -> env

commit a37fd034dd1bfb4f6e09990209f8c992f9865eeb
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Oct 3 08:00:09 1994 +0000

    ENV -> env.  Remove makefile rules.  Read pc/makefile.

commit e13374d8246c1237bc4a4b09228636cba0b2e9df
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Oct 3 08:00:09 1994 +0000

    Simplify the instructions by building a makefile.

commit ac58035dd2b9f19b73316a91b1af4c53d71dd6ba
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Oct 3 08:00:09 1994 +0000

    Simplify the instructions.

commit fd736c91704211b015c294d4095ecaefeeae3a5a
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Oct 3 06:52:06 1994 +0000

    / -> \

commit 5cd6116e856f71b079262ff542728239c285840c
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Oct 3 06:51:30 1994 +0000

    / -> \.  65536, not 64*1024, in case somebody has a small int compiler.

commit 6879b8f6f99fd5011f3dc6554630ccce66cb5804
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Oct 2 21:25:49 1994 +0000

    Limit to only emx-specific stuff.

commit ab1150bcb901777c73ad616bb02185f438bade88
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Oct 2 21:25:49 1994 +0000

    Initial revision

commit 1330271d767986819db277aa63fe5c9989dcded7
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Oct 2 21:25:49 1994 +0000

    Limit to only djgpp-specific stuff.

commit 6c746d1930205bb57496235eee9023141d183175
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Oct 2 21:25:49 1994 +0000

    Remove initialize_main.

commit b092c9884a1cf2a55f13ab26845e7c23d80715ff
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Oct 2 21:25:49 1994 +0000

    Generalize to dgcpp.

commit b85f4c403ed4e705bbf85664e240979f1ec67949
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Oct 2 21:25:49 1994 +0000

    Update for djgpp.

commit 4e44a14836a44835c63c0534b5895ac47d632759
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Oct 1 17:19:37 1994 +0000

    diffutils 2.7 news

commit 7a2d60ee66481b4fcb77274cb2dd0ef53854a759
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Oct 1 05:24:19 1994 +0000

    Update to version 2.7

commit a2290f8c7f41e5e0a1b1cf564427b50ab6751078
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Oct 1 05:14:15 1994 +0000

    (AC_HEADER_SYS_WAIT): Add.
    (AC_CHECK_HEADERS): Remove sys/wait.h.
    (AC_CHECK_FUNCS): Add tmpnam.

commit babad6e9ab0e7d3ff46f154307a473e2924dd8b0
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Oct 1 05:14:15 1994 +0000

    (dir_file_pathname): Use filename_lastdirchar instead of strrchr.

commit 57e35b2fe52c8727730fb758eeb17ad1fbd28e66
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Oct 1 05:14:15 1994 +0000

    (<sys/wait.h>, WEXITSTATUS): Use simpler scheme now that HAVE_SYS_WAIT_H
    is turned off on hosts that are incompatible with Posix applications.

commit 6159ec6f1a9cd96a128da3e3fd4486cdd2d3b646
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Oct 1 05:14:15 1994 +0000

    (private_tempnam): Use tmpnam if HAVE_TMPNAM; this simplifies porting.
    (exists, letters): Omit if HAVE_TMPNAM.
    (expand_name): Use filename_lastdirchar instead of strrchr.

commit 51ee538828055feaae3ea5d6b06b5128c1df2954
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Oct 1 05:14:15 1994 +0000

    (read_diff): If STAT_BLOCKSIZE yields zero, adjust it to a more reasonable
    value.

commit 07ed0ecefeca9be0536797cec89ed07e6446d898
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Sep 25 01:21:32 1994 +0000

    Initial revision

commit bf5a7b416679853f17a4b9067df5c32d176054cb
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Sep 24 20:36:40 1994 +0000

    (exists, private_tempname): Adopt latest GNU libc algorithm.
    (private_tempnam): Specialize for sdiff to avoid portability problems.

commit 7189dccfb05cf4d5c6a76b6cfadf4aa1c97dd9e1
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Sep 24 05:55:49 1994 +0000

    Add rules for `default:' and `.SUFFIXES:'.

commit 4a676345371383b8ba54148f0293d493e12b2b4b
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Sep 24 05:55:49 1994 +0000

    Add io.h.

commit 7e3fa69d9216db89af49fee2e36a63c88c611589
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Sep 22 16:47:00 1994 +0000

    (AC_ARG_PROGRAM): Added.
    (AC_OUTPUT): Add [date > stamp-h].

commit 7124caf284e39d75650ebe9088f26d240abbbbeb
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Sep 22 16:47:00 1994 +0000

    isspace -> ISSPACE, etc.
    (PR_PROGRAM): Moved here from diff.h (old name was PR_FILE_NAME).
    (begin_output): Use SYSTEM_QUOTE_ARG.

commit 87791d0033ba440a562dd110c916e69c14a09929
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Sep 22 16:47:00 1994 +0000

    <string.h>: Include if HAVE_STRING_H, too.
    (CTYPE_DOMAIN, ISDIGIT, ISPRINT, ISSPACE, ISUPPER): New macros that
    work around common <ctype.h> problems.
    (O_BINARY): Remove.
    (SYSTEM_QUOTE_ARG): New macros.

commit 56ebd036789ec66bd34447b959126c4f71485543
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Sep 22 16:47:00 1994 +0000

    isprint -> ISPRINT

commit 20bb7b34b24e09a2229ce5f414d3e554ec506046
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Sep 22 16:47:00 1994 +0000

    isspace -> ISSPACE, etc.
    <ctype.h> now included by system.h.
    (DEFAULT_EDITOR_PROGRAM): Renamed from DEFAULT_EDITOR for consistency.
    (TMPDIR_ENV): New macro.
    (expand_name): Change `isdir' to `is_dir' to avoid theoretical ctype
    namespace contamination.
    (main): Use SYSTEM_QUOTE_ARG.
    (private_tempnam): Don't access "/tmp" directly; access it via PVT_tmpdir.

commit 908dadc7b9c64bdbe7f9e22aeb8d0ccdad66f205
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Sep 22 16:47:00 1994 +0000

    isspace -> ISSPACE, etc.
    (word): Don't define if already defined.
    (read_files): Set mode to binary before returning 1.

commit 9ea02bc7c5da7ec118bed0d7a4614fa3fb2f13f6
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Sep 22 16:47:00 1994 +0000

    isdigit -> ISDIGIT, etc.

commit 321868dd1585e35b2292d23bfe69f2ad69b53eab
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Sep 22 16:47:00 1994 +0000

    <ctype.h> now included by system.h.
    (main): Give proper diagnostic if too many labels were given.
    (read_diff): Use SYSTEM_QUOTE_ARG.

commit 272b19fed95dac834234343f2be96966be004a64
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Sep 22 16:47:00 1994 +0000

    <ctype.h> now included by system.h.
    (PR_FILE_NAME): Rename to PR_PROGRAM and move to Makefile.in, util.c.

commit 4c5217c90efc4f69a7bed6022fe09da968e977a3
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Sep 22 16:47:00 1994 +0000

    Add comment.

commit b53ee8d668cf8834a6a8b82db45368b5a0dd8355
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Sep 22 16:47:00 1994 +0000

    (word): Don't define if already defined.
    (main): Use setmode, not open(..., O_BINARY); this hits stdin too.
    Use NULL_DEVICE instead of "/dev/null".
    (cmp): Use %lu instead of %ld when it is more likely to give correct output.

commit 2b982bf06e9a2d3b9d7676a9c77eda2a4f709701
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Sep 22 16:47:00 1994 +0000

    Initial revision

commit dcbd46bfa35db430751e6504f6212a60e3857be0
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Sep 22 16:47:00 1994 +0000

    Broaden name.

commit 03d25aa193d61d08b384cde510238b2ee92d882d
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Sep 22 16:47:00 1994 +0000

    Rewrite from scratch.

commit 654e86283e81c14a294bf88fc4c3945130742ab4
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Sep 22 16:47:00 1994 +0000

    Make it more like ../config.hin.

commit 21a8299b8eb5607b386ed2c9c8351cd8be905290
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Sep 22 16:47:00 1994 +0000

    Revamp for more Unix-like approach.

commit d970a9641829918a7e7ee822b5cb2ce16a50aef0
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Sep 22 16:47:00 1994 +0000

    (DEFAULT_EDITOR_PROGRAM, DIFF_PROGRAM, LIBOBJS, NULL_DEVICE, PR_PROGRAM,
    PROGRAMS): New variables.
    (check, stamp-h.in, cmp.o, util.o): New targets.
    
    (edit_program_name): New variable; replaces old binprefix method.
    (install, uninstall): Use it.
    (binprefix): Removed.
    
    (distfiles): Add stamp-h.in.
    (clean): Remove stamp-h.
    (config.hin, config.h): Use time stamp files to see whether they're up to date.
    
    (cmp_o): Add $(LIBOBJS).
    
    (install): Install info files from srcdir if they're not in `.'.

commit 8e031e750eaa8342e5f7c9bef35fa365d7ab6607
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Sep 18 00:28:22 1994 +0000

    Patches from Kai Uwe Rommel

commit 72cc814aef0a183c56b291f20e8d61df4f71078c
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Sep 16 21:31:04 1994 +0000

    Patches from Kai Uwe Rommel

commit bc5201049a73639af8aa8248ccc8d981c6e5c304
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Sep 15 17:58:49 1994 +0000

    remove CR

commit a279fecaaa46bbe8705f709cb663eb5a03ef0754
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Sep 15 17:58:49 1994 +0000

    Remove CR and usage.  Improve / \ : detection.

commit dd79db47919506ab46cdd663564077f8355ec4d9
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Sep 15 17:58:49 1994 +0000

    Make it look mre like config.hin and system.h.
    Add HAVE_SETMODE.  Remove quote_char.  Define same_file to -1.

commit 9f01c902c5ca320d417cd1f88d618b6b2e62cf36
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Sep 15 17:58:49 1994 +0000

    Initial revision

commit a268b2bd9e798f6488337f65f944a76c18026225
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Sep 15 17:49:34 1994 +0000

    (program_name): Renamed from `program', for consistency.

commit f19358db7aaa40289485bc06d371a51758d33a13
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Sep 15 17:49:34 1994 +0000

    (printc): Don't quote C if isprint(C).

commit 110ed53bfe349fe7bf9563917867a6b1f8dd28b0
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Sep 15 04:25:50 1994 +0000

    Initial revision

commit 675bab82c354f325d81e642493282fb306087383
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Wed Sep 14 15:04:41 1994 +0000

    entered into RCS

commit 262be8ba548bb57e81deb3efee6db5fe57de9d63
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Sep 13 18:46:43 1994 +0000

    (AC_FUNC_MEMCHR): Remove.  Autoconf didn't adopt this, since we need not
    worry about an old experimental library where memchr didn't work.
    (AC_FUNC_MEMCMP): Not needed, since we only test for equality.
    (AC_REPLACE_FUNCS): Add test for memchr.
    (AC_CHECK_FUNCS): Check for memchr, not memcpy, since it'll be cached.
    (AC_CHECK_HEADERS): Add string.h; regex.c uses on some old hosts.

commit ea404e8bfb25c662a13f2754496527127babd986
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Sep 13 18:46:43 1994 +0000

    (memcmp): Define in terms of bcmp.
    Use HAVE_MEMCHR to test for all mem* routines.

commit 9bb6665825b1d7f807400fd4fe08f6997fe06fdc
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Sep 13 18:46:43 1994 +0000

    (srcs): Remove memcmp.c.  We use bcmp if memcmp doesn't work, since
    we only test for equality.

commit 2f93e7ee108f1f13c923edb19fa57ef45df61b67
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Sep 12 15:52:22 1994 +0000

    (line_cmp): Now takes just two arguments, and no longer optimizes
    for common case of exact equality; the caller does that optimization now.
    Optimize for the common case of mostly exact equality.
    Use isupper/tolower instead of islower/toupper, for consistency.
    (line_cmp, print_line): Use '\n' instead of line_end_char.

commit d11c579336b08ac6fae564d9c08edaaf49227657
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Sep 12 15:52:22 1994 +0000

    Use more modern autoconf approach to standard C headers.

commit f51c8e0cddd964748e70cac48347cc3e80c8dd1e
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Sep 12 15:52:22 1994 +0000

    Fix copyright notice.

commit db138267996a9c496249d25d67dc0cf7eaa52f3b
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Sep 12 15:52:22 1994 +0000

    (binary_file_p): Assume non-broken memchr.
    (find_and_hash_each_line): Revamp to fix some inconsistencies with -b -w -i
    and incomplete lines.  Incomplete lines are now put into their own bucket.
    This means line_cmp no longer needs line length arguments,
    and equivalence classes' line length no longer need to include \n.
    Invoke line_cmp only if memcmp fails and if ignore_some_line_changes.
    (prepare_text_end): -B no lonter ignores missing newlines.
    (read_files): Allocate another bucket for incomplete lines.

commit 55429168429dce9d0e88798656cc3ee871e6e1d2
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Sep 12 15:52:22 1994 +0000

    (ignore_some_line_changes): New variable; replaces `length_varies'.
    (line_end_char): Removed; it wasn't being used consistently.
    (line_cmp): Now takes just pointers to two lines.

commit b86bc30b1bcfcec54b7baf97ae53121711cc1e5d
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Sep 12 15:52:22 1994 +0000

    (main): Use '\n', not line_end_char.
    (ignore_some_line_changes): New variable; replaces `length_varies'.

commit 2113dba0f38db53564ebfc6de3bdee4b6a62c9ec
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Sep 12 15:52:22 1994 +0000

    entered into RCS

commit f7d04f3e12be3c299d7f19de309e56f6b9f3e958
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Sep 12 15:52:22 1994 +0000

    (CPPFLAGS, DEFS, CFLAGS, LDFLAGS, prefix, exec_prefix): Default to
    autoconf-specified strings.
    (COMPILE): Use the defaults.
    (srcs): Add memcmp.c.
    (distfiles): Rename config.h.in to config.hin and install.sh to install-sh.
    (Makefile, config.h, config.hin, config.status): Rework for compatibility
    with Autoconf 2.

commit e85eb8cb146fba69cee6d3febd3ce3fb2b42c8bb
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Sep 8 08:23:15 1994 +0000

    Add memchr.c, waitpid.c, install.sh

commit 1bc9633710949deb5fc6a273f6132298f1f49d9c
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Sep 8 08:08:03 1994 +0000

    (srcs): Add memchr.c, waitpid.c

commit 3fd81d5f8c566232232b48e3be861dd1ea90cbf2
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Sep 8 07:23:11 1994 +0000

    Revamp for Autoconf 2.

commit f098afa7d2a130cf2d0a9806d7a3ee4ea26d083c
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Sep 8 07:23:11 1994 +0000

    (memchr, waitpid): Remove; use new substitutes instead.

commit 3dfe2ea421249d9d7aa11e0ad37e6783648439ad
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Sep 8 07:23:11 1994 +0000

    Use Autoconf 2 style HAVE_DIRENT_H etc. macros for directories.

commit 17fa709c6bbfbed7c8111fff02d08d1f2011764d
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Sep 8 07:23:11 1994 +0000

    (try_help): New function.
    (usage): Just print usage; let caller worry about exiting.
    (memchr, waitpid): Remove; use new substitutes instead.

commit 350a6ba55235b740d03afc84562a8df2212fa389
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Sep 8 07:23:11 1994 +0000

    (dir_sort): Prefer NAMLEN (p) to strlen (p->d_name).
    Change VOID_CLOSEDIR to CLOSEDIR_VOID for Autoconf 2.

commit 66bbc88b540532674c1f3d3ef26bbb5df765fea8
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Sep 8 07:23:11 1994 +0000

    (try_help, check_stdout): New functions.
    (usage): Just print usage; let caller worry about exiting.
    (read_diff): Use new waitpid substitute.

commit a9a3e02a8eb2398b96ee79158e57879425d79356
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Sep 8 07:23:11 1994 +0000

    (try_help, check_stdout): New functions.
    (usage): Just print usage; let caller worry about exiting.
    (option_help): New variable.
    (filetype): Add Posix.1b file types.

commit 4fdea93974738df7a4b6441094475a533b596b29
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Sep 8 07:23:11 1994 +0000

    (try_help, check_stdout): New functions.
    (usage): Just print usage; let caller worry about exiting.

commit 6d47c45cbfb6acbe46683411298a929b84751ba6
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Sep 8 07:23:11 1994 +0000

    *** empty log message ***

commit 23141bbc07269c4d06fbe064b14661ab1ea61bd7
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Sep 8 07:23:11 1994 +0000

    (diff_o, diff3_o, sdiff_o): Add $(LIBOBJS).

commit 3e4d9d4cac16150f748a35c6487174267c06de87
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Sep 3 16:43:25 1994 +0000

    *** empty log message ***

commit 2d876bd5c4ff0401e0bdc6ea0b18d4753a122c0d
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Sep 3 16:37:31 1994 +0000

    (distfiles): Add install.sh.

commit 78d1350a8f30594109ab24a089ab0d8e38fb0d85
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Sep 3 16:12:53 1994 +0000

    Switch to new autoconf naming convention.  Add test for sys/file.h.

commit 3b57b651310db7feae5bbe3b28ea80327a9b296d
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Sep 2 16:01:49 1994 +0000

    (main): Call initialize_main first.
    If we'll have children, make sure SIGCHLD isn't ignored.
    (read_diff): Use popen+pclose if !HAVE_FORK.
    (DIFF_CHUNK_SIZE): Removed.  We now get initial chunk size from STAT_BLOCKSIZE.
    (INT_STRLEN_BOUND): New macro.

commit 14cae612e4f2f21e1ba9e9f7ab35c834a2fd82ca
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Sep 2 15:46:39 1994 +0000

    (ck_fdopen): Function removed.
    (cleanup, main, waitpid): Use popen+pclose if !HAVE_FORK.
    (edit): Use system if !HAVE_FORK.
    (main): Call initialize_main first.
    (execdiff): Now assumes caller has pushed all args, plus trailing 0.
    All callers changed.
    (trapsigs): If we'll have children, make sure SIGCHLD isn't ignored.
    (private_tempnam): Try TMP if TMPDIR isn't defined.
    Fit temporary filenames into 8.3 limit.

commit 160c4a9fb615e713855f6f7668967b3ce46366d9
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Sep 2 15:36:53 1994 +0000

    Include <sys/file.h> only if HAVE_SYS_FILE_H.
    (S_IXGRP, S_IXOTH, S_IXUSR): Remove unused macros.
    (STAT_BLOCKSIZE): Don't define if already defined.
    (min, max): Undef if already defined.
    (filename_cmp, filename_lastdirchar, HAVE_FORK, HAVE_SETMODE, initialize_main
    O_BINARY, same_file): New macros, for porting to non-Posix systems like DOS.

commit 4f042426fe9d274466b6e3d163907d0ddd60fa16
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Sep 2 15:32:35 1994 +0000

    (binary_I_O): New variable for --binary option.
    (main, usage, compare_files): Support --binary option.
    (main): Call initialize_main first.
    If we'll have children, make sure SIGCHLD isn't ignored.
    (compare_files): Use filename_cmp to compare file names.
    Use filename_lastdirchar to find last directory char in a file name.
    Use same_file to determine whether two files are the same.

commit 5656c2c6e7a5ab0445b429d3362060b91046c853
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Sep 2 06:09:57 1994 +0000

    (begin_output): Use popen+pclose if !HAVE_FORK.  Check fdopen status.

commit 0e014790ed7103a777f6c6b8ff5beecd98bf1060
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Sep 2 05:14:12 1994 +0000

    (sip): If HAVE_SETMODE, always test for binary files using binary mode.

commit 1ec43a06812d6f7b40909f5052c5be09834f8b40
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Sep 2 05:12:08 1994 +0000

    (print_context_label): Check whether (broken) ctime yields 0.

commit 883e61c62b6cb8d5bb756b938190f1e6674e781d
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Sep 1 17:01:31 1994 +0000

    *** empty log message ***

commit 15535d055503d8b86b917c203ceffb13523d5c7e
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Sep 1 17:00:47 1994 +0000

    (distclean): Clean config.cache, config.log (for new autoconf).

commit 8c3fba9345221724d146a265a40729bc3e910d11
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Sep 1 17:00:41 1994 +0000

    (main): Call initialize_main first.
    Use filename_cmp to compare file names.
    Use same_file to determine whether two files are the same.

commit d32dfccb104b0b7d008244c546e07db940903225
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Sep 1 17:00:28 1994 +0000

    (compare_names, diff_dirs): Use filename_cmp to compare file names.

commit d987d052d321fe4bc6a6056a1022f7fe7af42d53
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Sep 1 17:00:17 1994 +0000

    (format_group, groups_letter_value): Use * instead of [] in prototypes.

commit 7dce49b3b5a94ced9368316d26e63f04b1e896d5
Author: David MacKenzie <djm@djmnet.org>
Date:   Fri Jun 17 15:23:43 1994 +0000

    (info, dvi, diff.dvi): New targets.
    (clean): Remove TeX output files.

commit 474d970822b10b7038c48706dd4569b82a469890
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Jun 17 05:37:52 1994 +0000

    (word): Change from typedef to #define, to avoid collision with
    Unicos 8.0 <sys/types.h>, which also typedefs `word'.

commit bc6bec73a8d99b7ffd663d9e39e89d048a2cfc1d
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Apr 15 00:53:01 1994 +0000

    (print_number_range): Don't rely on promotion to make the old-style parameter
    type agree with the prototype parameter type; this doesn't work on
    Apollos running bsd4.3.

commit 41a3344a4213e3f722216665139ecead47fa6298
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Apr 15 00:53:01 1994 +0000

    (scan_diff_line): Don't rely on promotion to make the old-style parameter
    type agree with the prototype parameter type; this doesn't work on
    Apollos running bsd4.3.

commit 91df35595e5c48238c7f6c916101c0c3e3bcb1f8
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Apr 15 00:50:09 1994 +0000

    *** empty log message ***

commit ea61d22f5b1f5852ca31d662d5755da6ae4faeec
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Jan 3 02:05:51 1994 +0000

    (LDFLAGS): Remove -g.  All users changed to use $(CFLAGS) as well
    as $(LDFLAGS).

commit 5a1a95bc796eb762fbb4f56e20dd0ef7a974d4c4
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Dec 13 12:22:58 1993 +0000

    diffutils 2.6

commit 72db0aa2f2ba7fe24a4c6ae5d1dffdeaec81d1a4
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Dec 3 21:07:48 1993 +0000

    (main): allow -p -u.

commit d80108a9e2d9195c0d2aa9c735cbe8cb9e2f75a9
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Dec 3 21:07:09 1993 +0000

    *** empty log message ***

commit 74651693b2a7e01cf61b3fd8545fc47c65555282
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Nov 23 03:51:08 1993 +0000

    (distclean): Remove config.h.

commit c9673423c1166eb994cb3f99d646e50a14fbd631
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Wed Nov 10 08:28:27 1993 +0000

    (AC_HAVE_HEADERS): Add unistd.h; remove AC_UNISTD_H.

commit 5b318f266f7881ea5ebe765c5347716f2543adc3
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Wed Nov 10 08:28:27 1993 +0000

    *** empty log message ***

commit 3a23f3eb8afec20ffaf28cd1bfc05661316e7474
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Wed Nov 10 08:28:27 1993 +0000

    (xmalloc, xrealloc): "virtual memory" -> "memory"

commit 0ddcbc909912ca7369813cc4f5bd7e17a278466a
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Wed Nov 10 08:28:27 1993 +0000

    (usage): Send usage to stdout, not stderr.
    (long_options, main, usage): Add `--help'.
    (main): Send version number to stdout, not stderr.  Exit afterwards.

commit d81ae65145818897ea26e6c11e1528c53afbf3f6
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Wed Nov 10 08:28:27 1993 +0000

    (word): Change to `int'; it makes a big difference on x86.
    (sip, slurp): Put off allocating room to hold the whole file until we
    have to read the whole file.  This wins if the file turns out
    to be binary.
    (primes): Omit large primes if INT_MAX is small.

commit d963c582c1078b9d26243874e14ca5fb82447a6f
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Wed Nov 10 08:28:27 1993 +0000

    (usage): Send usage to stdout, not stderr.
    (long_options, main, usage): Add `--help'.
    (read_diff): Detect integer overflow in buffer size calculations.

commit ecbe3d8f04cd6006f6f9a64b21fecdeb87281696
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Wed Nov 10 08:28:27 1993 +0000

    (long_options, main, usage): Add `--help'.
    (main): Send version number to stdout, not stderr.
    (usage): Send usage to stdout, not stderr.
    (compare_files): Initialize `inf' properly.

commit 0f8c0d885e8f59efe3a9d2d2cfb2f731b0cd4ebd
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Wed Nov 10 08:28:27 1993 +0000

    (word): New type.  All uses of `long' for word-at-a-time comparisons
    changed to `word'.
    (long_options, main, usage): Add `--help'.
    (usage): Send usage to stdout, not stderr.
    (main): Add `-v'.  Send version number to stdout, not stderr.

commit 4b1a69ee970f3016cb7d1b7a6424673beee6a5f7
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Wed Nov 10 08:28:27 1993 +0000

    (too_expensive): New variable, for heuristic to limit the worst-case
    cost to O(N**1.5 log N) at the price of producing suboptimal output for
    large inputs with many differences.
    (diff_2_files): Initialize it.
    (struct partition): New type.
    (SNAKE_LIMIT): New macro; merely documents already-used number 20.
    (diag): New `minimal' arg; all callers changed.  Put results into
    struct partition.  Apply `too_expensive' heuristic.  Tune.
    (compareseq): New `minimal' arg; all callers changed.  Tune.
    (shift_boundaries): Improve heuristic to also coalesce adjacent runs
    of changes more often.

commit be52c66d5ef8e0f74e555d4cbf5b22ef5ef3e62f
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Wed Nov 10 08:28:27 1993 +0000

    Initial revision

commit 7aeb973641eeae48c4d6abd1ce477858f6f90147
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Wed Nov 10 08:28:27 1993 +0000

    GNU diffutils 2.6

commit d3079e2f6bbd367cb4e1744653d94adcf49aa0fb
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Sep 27 07:20:24 1993 +0000

    (memchr): Make first arg char const *
    to match standard.
    (xmalloc, xrealloc): Cast malloc, realloc
    to (VOID *) to suppress bogus warnings on some nonstandard hosts.

commit 3a90d1af5a2b3b57af324ea3791de3a19dc3bc81
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Sep 27 07:20:24 1993 +0000

    (malloc, realloc): Declare only if !HAVE_STDLIB_H.
    (memchr): Declare only if !HAVE_MEMCHR.  These changes are
    needed to keep some nonstandard hosts happy.

commit 00c73e284b4f194f44a8ef81822486dff1859924
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Sep 27 07:20:24 1993 +0000

    (xmalloc, xrealloc): Cast malloc, realloc
    to (VOID *) to suppress bogus warnings on some nonstandard hosts.
    (lf_copy, lf_skip, lf_snarf): Cast memchr to (char *)
    to suppress bogus warnings on some nonstandard hosts.
    (memchr): Make first arg char const *
    to match standard.

commit 1dcec128c62cd5fbb461cf28251a5d56210c9784
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Sep 27 07:20:24 1993 +0000

    (xmalloc, xrealloc): Cast malloc, realloc
    to (VOID *) to suppress bogus warnings on some nonstandard hosts.

commit 70b4740f3f25b4e50470d937ce9afb503423c169
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Sep 27 07:20:24 1993 +0000

    (add_exclude_file): Cast memchr to (char *)
    to suppress bogus warnings on some nonstandard hosts.

commit 38681c3055dcadafca0970ab40378c64ec99421f
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Sep 27 07:20:24 1993 +0000

    (main, usage, version_string): Add --version option.

commit fef4518ddad8ac816bbac963cdb45869249a22bc
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Sep 27 07:20:24 1993 +0000

    (diff_2_files): Work around memcmp bug with size=0.

commit d6a38aed737d9a647806d35b677507f1c1c7c516
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Sep 27 06:30:18 1993 +0000

    Initial revision

commit c1a57a783bb54b12c1369632b89a42d960b3321c
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Sep 27 06:18:21 1993 +0000

    GNU diffutils 2.6

commit 36af5432bf4be21c0ba680d7baf483fcae5492ee
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Sep 18 01:33:07 1993 +0000

    (AC_STAT_MACROS_BROKEN): Add.

commit 9f03341c093a30e7bc3c95e2876a30254a4790d1
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Sep 18 01:33:07 1993 +0000

    (output_1_line): Use isprint, since some hosts lack isgraph.
    Ensure that its argument isn't negative.
    (xmalloc, xrealloc): Remove needless casts.

commit 818c6c7ee66e1ce028f8e232737b1a384fb194ef
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Sep 18 01:33:07 1993 +0000

    (volatile, const): Define these before including any system headers,
    so that they're used consistently in all system includes.
    (S_IS{BLK,CHR,DIR,FIFO,REG,SOCK}): Fix defns if STAT_MACROS_BROKEN.
    (getenv, malloc, realloc): Declare even if HAVE_STDLIB_H, since some
    <stdlib.h>s don't declare them.
    (memchr): Likewise for <string.h>.

commit 96d6bc969fd6ab47cb134631fd496e3432e270d6
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Sep 18 01:33:07 1993 +0000

    Include "system.h" first.
    (xmalloc): Make defn static, like declaration.

commit 0398a96fe634295de3bea52ef325f88c72267eff
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Sep 18 01:33:07 1993 +0000

    Include "system.h" first.
    (xmalloc): Now static.
    (xmalloc, realloc): Remove needless casts.
    (READNUM): Ensure isdigit argument isn't negative.

commit 1bfc4514b097f261b98d0b1f875edfbdc5a94091
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Sep 18 01:33:07 1993 +0000

    Remove redundant "system.h" inclusion.

commit bec40df88a702f41d5cc565a785f038e1ebead42
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Sep 18 01:33:07 1993 +0000

    Include "system.h" first.

commit 015dc4c028bd7dd30ec001604f4676949f2d339a
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Sep 18 01:33:07 1993 +0000

    (discard_confusing_lines): Make defn static, like declaration.

commit a6a9150a06232636a2b7888a1d71b011811aabdc
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Sep 18 01:33:07 1993 +0000

    (diff3, sdiff, cmp): Do not link $(ALLOCA).

commit 03ca0426698728f388ea7c13bebb4bf7d5aca397
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Sep 17 19:27:09 1993 +0000

    GNU diffutils 2.6

commit a3866fa3b80f9f78d2b43823411c07ee38592a7a
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Sep 17 06:29:10 1993 +0000

    GNU diffutils 2.6

commit d23d2f2b18b5ce325181ebebce40c9d92d12edde
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Sep 17 05:26:45 1993 +0000

    GNU diffutils 2.6

commit 5f6bfb84c7738caafd8b36660d1a8ab4b65aeda7
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Wed Sep 15 23:34:31 1993 +0000

    #include <config.h>, not "config.h", to allow
    configuring in a separate directory when the source directory has
    already been configured.

commit f4cd92b6ac57e931c5bf52dc13671bec6eb5152e
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Wed Sep 15 23:34:31 1993 +0000

    (scan_char_literal): New function, for new %c'x' and
    %c'\ooo' format specs.
    (format_group, print_ifdef_lines): Use it.  Remove %0 format spec.

commit 35aad47ae3f3310672963918c1944d339f22680c
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Wed Sep 15 23:34:31 1993 +0000

    (cmp): Don't try to read past end of file; this doesn't
    work on ttys.

commit f9461e59e19b9fd2c458dc2f9ff536d233edf98f
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Wed Sep 15 23:34:31 1993 +0000

    (COMPILE): New defn, with proper -I options so that
    `#include <config.h>' works.

commit a2b82541fef2ca5e61dab7fc67bdf0100a3f6b6a
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Sep 13 14:22:57 1993 +0000

    Configure HAVE_LIMITS_H, HAVE_STDLIB_H.

commit c98340644e55179d1a71a77af131970e1e17b87b
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Sep 13 14:22:57 1993 +0000

    (line_cmp): bcmp -> memcmp

commit 24f285cec459b4f7771f4dec30da370086a58442
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Sep 13 14:22:57 1993 +0000

    (PARAMS, VOID): Define earlier so that malloc decl can use VOID.
    (STAT_BLOCKSIZE): Simplify ersatz defn; just use 8K.
    (dirent): Renamed from direct; dirent makes the code more standard.
    <limits.h>, <stdlib.h>, <string.h>: Include only if corresponding HAVE_*_H.
    (memcmp, memcpy, strchr, strrchr): Prefer these standard names to
    traditional names.

commit d03c8525fd2672121669f2b947e3850bdd49b4d1
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Sep 13 14:22:57 1993 +0000

    (expand_name): rindex -> strrchr
    (expand_name, lf_snarf): bcopy -> memcpy
    (interact): index -> strchr

commit fe1e2e9de6edad046b24aa0eb52a266f7c49d458
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Sep 13 14:22:57 1993 +0000

    (struct group): New struct.
    (print_ifdef_lines): Use it to simplify argument passing.  Remove the
    convention that last arg -1 signifies that the lines from file 2 are
    the same as the lines from file 1; this convention no longer works,
    now that line numbers might be printed out, since the line's numbers
    may differ.  Add first FILE * argument to output to.  All callers changed.
    Use a faster test for the single-fwrite optimization.
    Add support for %?c, %(A=B?T:E), PRINTF_SPECn formats.
    (format_group, scan_printf_spec, groups_letter_value): New functions.
    (format_ifdef): 1st arg is no longer const pointer.

commit e491a3556f24e7478887877eb78195748a02a7dd
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Sep 13 14:22:57 1993 +0000

    (copy_stringlist, compare_line_list): bcmp -> memcmp

commit 158d33010d26a6bcfa19f1df320a9d4c9975b69e
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Sep 13 14:22:57 1993 +0000

    (group_format, line_format): No longer const pointers.

commit 75d628023000dc17fbfde46799261a2c723a8707
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Sep 13 14:22:57 1993 +0000

    (main, longopts): Add --line-format=FORMAT option.
    (specify_format): Args no longer const pointers.  All callers changed.
    (compare_files): rindex -> strrchr.

commit ecf2d45950b4fd7967f6b30df8aeebe5ace5376c
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Sep 13 14:22:57 1993 +0000

    (diff_2_files): Use memcmp instead of bcmp.

commit 10d3e0ad7bd824b5a3d6cf5f541451d5fb4c87d0
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Sep 13 00:27:28 1993 +0000

    GNU diffutils 2.6

commit 1a71453b7bc68d2cfb9aa4d737e0c9ffb47ce5df
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Sep 3 00:21:02 1993 +0000

    (compare_files): Two files with the same name must be the same file;
    avoid a needless `stat' in that case.

commit 9ca9006ee016868d47d9e203e352f3d7274885eb
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Aug 27 19:13:20 1993 +0000

    (srcs, objs, distfiles, cmp): New files cmpbuf.[ch].
    (distfiles): New files config.h.in, mkinstalldirs.
    (.c.o): Add -DHAVE_CONFIG_H.

commit 42326d264796c8802247ff929a9561b1d688cbdc
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Aug 27 17:30:26 1993 +0000

    Configure HAVE_SIGACTION, RETSIGTYPE, HAVE_VPRINTF.
    Configure into config.h.

commit 6f0c43bd7b450fe37bf6fd6d0138153183699c3c
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Aug 27 17:30:26 1993 +0000

    Add prototypes to function declarations.  Use `const' to pacify `gcc'.
    Use size_t, not int, when needed.  Use STD{IN,OUT,ERR}_FILENO instead of [012].
    (struct msg, msg_chain, msg_chain_end): Moved here from diff.h.
    (message5): New function.
    (pr_pid): New var.
    (begin_output): Allocate `name' more precisely.
    Put child pid into pr_pid, so that we can wait for it later.
    Don't check execl's return value, since any return must be an error.
    (finish_output): Detect and report output errors.
    Use waitpid if available.  Check pr exit status.
    (line_cmp): Use locale's definition of white space
    instead of using one hardwired defn for -b and another for -w.
    (analyze_cmp): Avoid double negation with `! nontrivial'.
    Pacify `gcc -Wall' be rewriting for-loop into do-while-loop.
    (dir_file_pathname): New function.

commit c8209e8e34843819287c1f5b1b10a7c3a7de6c98
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Aug 27 17:30:26 1993 +0000

    (S_IXOTH, S_IXGRP, S_IXUSR,
    SEEK_SET, SEEK_CUR,
    STDIN_FILENO, STDOUT_FILENO, STDERR_FILENO):
    New macros, if system doesn't define them.
    (volatile): Don't define if already defined.
    (PARAMS): New macro.
    (VOID): Move here from diff.h.

commit 63170f223c8ef30650240171f171c1259a7b366f
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Aug 27 17:30:26 1993 +0000

    Add prototypes to function declarations.  Use `const' to pacify `gcc'.

commit bc7d55d1f848fb5faff8a6d3662c483eec54beb0
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Aug 27 17:30:26 1993 +0000

    Add prototypes to function declarations.  Use size_t, not int, when needed.
    Use `const' to pacify `gcc'.  Use STD{IN,OUT,ERR}_FILENO instead of [012].
    (SEEK_SET): Move to system.h.
    (version_string): Now char[], not char*.
    (private_tempnam): Remove hardcoded limit on temporary file names.
    (exiterr, perror_fatal, main): When exiting because of a signal,
    exit with that signal's status.
    (lf_refill, main, skip_white, edit, interact): Check for signal.
    (ignore_SIGINT): Renamed from `ignore_signals'.
    (NUM_SIGS, initial_handler): New macros.
    (initial_action, signal_received, sigs_trapped): New vars.
    (catchsig, trapsigs): Use sigaction if possible, since this closes the
    windows of vulnerability that `signal' has.  Use RETSIGTYPE not void.
    When a signal comes in, just set a global variable; this is safer.
    (checksigs, untrapsig): New functions.
    (edit): Pacify `gcc -Wall' with a useless assignment.
    Respond to each empty line with help, not to every other empty line.
    (private_tempnam): Remove hardcoded limit on temporary file name length.
    Don't assume sizeof (pid_t) <= sizeof (int).

commit f2b587677b4cb5d1ae5a9596df8d2efa90384843
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Aug 27 17:30:26 1993 +0000

    Add prototypes to function declarations.
    (change_letter, print_number_range, find_change): Move decls to diff.h.
    (print_normal_hunk): Now static.

commit d002fe98187824364679e45b69e2104f18512284
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Aug 27 17:30:26 1993 +0000

    Add prototypes to function declarations.  Use size_t, not int, when needed.
    (line_cmp): Move declaration to diff.h.
    (textchar): Remove.
    (find_and_hash_each_line): Use locale's definition of white space
    instead of using one hardwired defn for -b and another for -w.

commit 46775cfbd9a47eea0c51c74935bbeac8b2e185e1
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Aug 27 17:30:26 1993 +0000

    Add prototypes to function declarations.

commit 2bb476a6039ce1ae3715bfc13f59ed23ff4eaa8c
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Aug 27 17:30:26 1993 +0000

    Add prototypes to function declarations.  Use size_t, not int, when needed.
    Use `const' when needed to pacify gcc.
    (struct dirdata): Rename `files' to `names' to avoid confusion
    with external struct file_data `files'.

commit 96a2e40dd0d57c2f845943fb246ecfdda29349bb
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Aug 27 17:30:26 1993 +0000

    Add prototypes to function declarations.  Use size_t, not int, when needed.
    Use `const' when needed to pacify gcc.
    Use STD{IN,OUT,ERR}_FILENO instead of [012].
    (VOID): Move to system.h.
    (version_string): Now char[].
    (usage): Sort options.
    (process_diff): Pacify `gcc -Wall' with a useless assignment.
    (read_diff): pid is of type pid_t, not int.  Use waitpid if available.
    (output_diff3): Simplify test for `\ No newline at end of file' message.

commit 86596683e8c1b41a8ac9e5c2b4e497ef2fd8fb7c
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Aug 27 17:30:26 1993 +0000

    Add prototypes to function declarations.  Use size_t, not int, when needed.
    Use `const' when needed to pacify gcc.
    (Is_space, textchar): Remove.
    (struct msg, msg_chain, msg_chain_end): Move to util.c.
    (VOID): Move to system.h.
    (line_cmp, version_string, change_letter, print_number_range,
    find_change): New decls.

commit 1c96aecf2aab2b5225373e4e41bb94b80914638e
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Aug 27 17:30:26 1993 +0000

    Add prototypes to function declarations.  Use size_t, not int, when needed.
    Use `const' when needed to pacify gcc.
    Use STD{IN,OUT,ERR}_FILENO instead of [012].
    (usage): Sort options.
    (filetype): New function.
    (compare_files): Set stdin's st_mtime to be the current time.
    Leave its name "-" instead of changing it to "Standard Input";
    to test whether a file is stdin, we must compare its name to "-" instead
    of its desc to 0, since if it's closed other file descs may be 0.
    When comparing standard input to a file, and using a shortcut (e.g.
    looking at file sizes or inode numbers), take the lseek offset into
    account before deciding whether the files are identical.
    Pretend that nonexistent files have the same filetype as existing files.
    Rename `errorcount' to `failed', since it's boolean.
    In directory comparisons, if a file is neither a regular file nor a
    directory, just print its type and the other file's type.

commit 92b99a4ef582665c45a17e15f8b3fc96bae740e5
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Aug 27 17:30:26 1993 +0000

    Add prototypes to function declarations.  Use size_t, not int, when needed.
    Use `const' when needed to pacify gcc.
    (print_context_label): Standard input's st_mtime is no longer a special case
    here, since `compare_files' now sets it to the current time.

commit e8095a8ed1b3cc3fe41e2f09da655917c4845fbf
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Aug 27 17:30:26 1993 +0000

    Add prototypes to function declarations.  Use size_t, not int, when needed.
    Use `const' when needed to pacify gcc.  Use 0, not NULL, for portability.
    Make globals static when possible.
    
    (file): Now a 2-element array; replaces `file1' and `file2'.
    (file_desc, buffer): Likewise, for file[12]_desc and buf[12].
    (main): Likewise, for stat_buf[12].  Index these variables with `i'.
    
    (ignore_initial): New var.
    (long_options): Now const.  Add `--ignore-initial'.
    (usage): Sort options and add `--ignore-initial'.
    (main, cmp): Add `--ignore-initial' support.
    
    (main): `cmp - -' now succeeds.  Use STD{IN,OUT,ERR}_FILENO instead of [012].
    When comparing standard input to a file, and using a shortcut (e.g.
    looking at file sizes or inode numbers), take the lseek offset into
    account before deciding whether the files are identical.
    Avoid mentioning `dev_t', `ino_t' for portability to nonstandard hosts.
    Use l.c.m. of files' buffer sizes, not 8 * 1024.
    ferror (stdout) does not imply errno has a useful value.
    If 2nd file is "-", treat it first, in case stdin is closed.
    
    (cmp): Always compute `char_number', `smaller' for speed and simplicity.
    Say `cmp: EOF on input', not `/usr/gnu/bin/cmp: EOF on input',
    as per Posix.2.
    
    (block_compare_and_count): Increment line_number argument.
    Remove end_char argument; it's always '\n'.  All callers changed.
    Do not assume sizeof(long) == 4; this isn't true on some 64-bit hosts.
    (block_compare): Minimize differences with block_compare_and_count.
    
    (block_read): Coalesce `bp += nread's.
    
    (printc): Remove `FILE *' arg; output to stdout.  All callers changed.

commit 3b9709d3f4b322a0a64ec9d33cbf9bbfd170f02c
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Aug 27 17:30:26 1993 +0000

    Add prototypes to function declarations.  Use size_t, not int, when needed.
    (diag): Pacify `gcc -Wall' with a useless assignment.
    (diff_2_files): Use l.c.m., not max, of files' buffer sizes.

commit a9dde9e085845faef1566af34651dfe0410be1fc
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Aug 27 17:30:26 1993 +0000

    Initial revision

commit 3e492ee56afd89ed6216e00148b6378026f50473
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Aug 23 05:44:15 1993 +0000

    GNU diffutils 2.7

commit 495c25447365aabb888d317a7934403dd08feaf8
Author: David MacKenzie <djm@djmnet.org>
Date:   Fri Jul 30 00:44:17 1993 +0000

            * Makefile.in (config.status): Run config.status --recheck, not
            configure, to get the right args passed.

commit 3a50fa0f0210e037d0b5583ccb7c12d52066f9e6
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Jul 22 10:46:30 1993 +0000

    (dist): Replace `if [ ! TEST ]; then ACTION; fi' with `[ TEST ] ||
    ACTION || exit' so that the command exits with proper status for `make'.

commit bd8d4cc978484a29f6782808a36bfa95bc679278
Author: David MacKenzie <djm@djmnet.org>
Date:   Thu Jul 8 23:47:51 1993 +0000

    new targets

commit 308a124880a6cdce4dfc1b895e767adb2fbdfb79
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Jul 4 00:00:00 1993 +0000

    Attempt to do a better job with three two-way diffs.
    This was a file labeled diff3.c.new-notdone,
    dated 1992-04-27, with user name `randy'.

commit 72e9b3762de6101d10eb7378a7f996ad8643e4f5
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Jun 5 23:10:40 1993 +0000

    (dist): Switch from .z to .gz.

commit 7efcf6d1879dea4682d57ed29b75b5727be04a53
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Wed May 26 17:16:02 1993 +0000

    Change NULL to 0.

commit 47b8d868a96ed6ab769c5b144c6b6faf5bd3d634
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Wed May 26 17:16:02 1993 +0000

    (print_sdiff_common_lines_print_sdiff_hunk): Cast args to pointer types, for traditional C.

commit 9c0b359b91b2411a8bbdb8589768fb42361e195a
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Wed May 26 17:16:02 1993 +0000

    (longopts, private_tempnam): Change NULL to 0.

commit 50a3709b577ada7869b303b0ccb92628e7187b5c
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Wed May 26 17:16:02 1993 +0000

    (longopts): Change NULL to 0.

commit f0c10d063072e6f9238808348a5a404ffd256864
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Wed May 26 17:16:02 1993 +0000

    (main): Cast args to compare_files, for traditional C.

commit 73e929cbb6eb24bf3e64238c1484c872d34d5369
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Wed May 26 17:16:02 1993 +0000

    (diff_2_files): Change NULL to 0.

commit 9a8361c3c5e613a32811e630c2d1a33687fc6d58
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue May 25 15:36:38 1993 +0000

    (compare_files): Don't use the file size shortcut if
    ignore_some_changes is nonzero, since the file size may differ
    merely due to ignored changes.
    (briefly_report): New function.
    (main):  Set ignore_some_changes if we might ignore some changes.
    Remove unsystematic assignment of 0 to static vars.

commit 6e652af429e2d422531cd323b7165d7ccb75be43
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue May 25 14:54:05 1993 +0000

    (tab_align_flag): New variable, for new -T option.
    (main, usage, output_diff3): Add support for -T.

commit c0d57c083342e7ab4cb795aa4f4129082b33d9da
Author: Richard M. Stallman <rms@gnu.org>
Date:   Sun May 23 19:25:41 1993 +0000

    entered into RCS

commit 1f60a522de41a36a8dd546ec5f75d2bc08b9e3d6
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat May 22 22:15:29 1993 +0000

    (read_files): New argument PRETEND_BINARY says whether to
    pretend the files are binary.

commit da390dd91151a90327bfd1272b85cadf712a81bc
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat May 22 22:15:29 1993 +0000

    (ignore_some_changes): New variable.

commit 63455a47c89f1ba65ba7d41f84c6ad1a304b2cec
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat May 22 22:15:29 1993 +0000

    (diff_2_files):  With -q, do not report that files differ
    if all their differences are ignored.

commit 78ec03a882b95cd29d36835ee428f88a48b3736e
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat May 22 19:33:55 1993 +0000

    entered into RCS

commit 706124a32837bc01a160b73bb0271b9a041fb0d1
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri May 21 20:38:19 1993 +0000

    entered into RCS

commit e86eac7b5fae39d4fb8243af9c25ebac661a4b2e
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Apr 23 17:18:44 1993 +0000

    entered into RCS

commit 8a5351c2de9e0f6464a981b2fb1973e03aa93e2f
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Apr 23 17:18:44 1993 +0000

    *** empty log message ***

commit 3319a943fbae0182341e75dc65721333a96dfc90
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Apr 4 21:25:20 1993 +0000

    Initial revision

commit da717e72f7cc581ea23937ee7aface42e9857834
Author: Roland McGrath <roland@gnu.org>
Date:   Mon Mar 22 21:16:22 1993 +0000

    *** empty log message ***

commit 8aaab4f3e19e7bc4a92ded306ce665eca48cb776
Author: Richard M. Stallman <rms@gnu.org>
Date:   Fri Mar 5 05:20:07 1993 +0000

    *** empty log message ***

commit 4aaf705f814fac541e8789c4092b77371f8c6cf2
Author: Roland McGrath <roland@gnu.org>
Date:   Thu Feb 25 20:27:03 1993 +0000

    *** empty log message ***

commit 6ddf7e686bb00d6da06aa438a8106f8a8b635266
Author: Richard M. Stallman <rms@gnu.org>
Date:   Mon Feb 22 20:04:42 1993 +0000

    *** empty log message ***

commit ad75085c057c58ec6756f98fc5c086ae1cd7c477
Author: Roland McGrath <roland@gnu.org>
Date:   Mon Feb 22 17:56:35 1993 +0000

    *** empty log message ***

commit 1818943fac21d52fa810717c8f174ef137677b90
Author: Richard M. Stallman <rms@gnu.org>
Date:   Sun Feb 21 00:18:53 1993 +0000

    *** empty log message ***

commit 4cea33c405f2d9c1d0e91ab16c5b93fa17073526
Author: Roland McGrath <roland@gnu.org>
Date:   Fri Feb 19 22:39:37 1993 +0000

    *** empty log message ***

commit d1157d9215cb261635f663eba9c98b6434646fd2
Author: Richard M. Stallman <rms@gnu.org>
Date:   Thu Feb 11 18:48:31 1993 +0000

    *** empty log message ***

commit 6734c1e0ffd9014fe623192f651beb5543af6229
Author: Richard M. Stallman <rms@gnu.org>
Date:   Thu Feb 11 08:39:43 1993 +0000

    entered into RCS

commit 00e5d088e3627870d9574824de59a2272e50f4c7
Author: Richard M. Stallman <rms@gnu.org>
Date:   Thu Feb 11 08:36:08 1993 +0000

    *** empty log message ***

commit e5fb154b0cc6e9d24a7cdb62ff405eb497b823a8
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Jan 31 02:49:15 1993 +0000

    entered into RCS

commit 0448e625aeec1f3f5f1268411db0c1d20d204315
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Fri Jan 8 22:31:41 1993 +0000

    *** empty log message ***

commit a7544e448c174339ede7c11a70a3185ad5e0ee39
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Nov 23 18:44:33 1992 +0000

    *** empty log message ***

commit 0689ff7f2b83e20fced9dbba9837d9478423f9ce
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Wed Nov 18 20:40:28 1992 +0000

    *** empty log message ***

commit be75ee024b368eb6cc359d64a0766baa2f5bad82
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Nov 17 20:10:49 1992 +0000

    *** empty log message ***

commit a07432e950d609619697805aaebe5434e673c779
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Nov 12 16:02:18 1992 +0000

    entered into RCS

commit 95ed3464570329da521604082b082e3bf832239e
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Nov 12 16:02:18 1992 +0000

    *** empty log message ***

commit 8f4db99c5fe1b1bc0f9cb522e10289592acec0e0
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Nov 9 03:59:56 1992 +0000

    *** empty log message ***

commit ea33d3b33abaf4c10f0e8d49ac566ae92aa3e409
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Oct 19 04:33:05 1992 +0000

    entered into RCS

commit 98b3abbdf5ba0b7e016209bb304eef5d1f6976c0
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sat Oct 10 01:53:56 1992 +0000

    Initial revision

commit f1e137e3dc5256b19dce9bc8492c841e1aaefacf
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Oct 5 05:18:46 1992 +0000

    *** empty log message ***

commit b98227d8eb71c53f9d3e12537e8410ebde0bf86e
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Wed Sep 30 09:21:59 1992 +0000

    entered into RCS

commit 0bc4206adad21d679d7cadb7a578402b0e2b0a0a
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Wed Sep 30 09:21:59 1992 +0000

    *** empty log message ***

commit 22548858bc47c5851f4d0c44ec7d8c6e8f281300
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Mon Sep 28 04:51:42 1992 +0000

    *** empty log message ***

commit bba40d01965c3af009b5bf033013f8cb529346bd
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Sep 27 05:38:13 1992 +0000

    *** empty log message ***

commit 5e96cefa2872848f2076694db7d77293eae56a14
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Sep 24 15:18:07 1992 +0000

    *** empty log message ***

commit c8780b481ad26b919f3630079fc67d745edc8ce3
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Sep 24 05:54:14 1992 +0000

    *** empty log message ***

commit eecd1662a18c7b69f5521534c68d81652af33517
Author: David MacKenzie <djm@djmnet.org>
Date:   Tue Sep 15 03:59:44 1992 +0000

    entered into RCS

commit 9113c022e956cbee58d980f862cf265cfe031610
Author: David MacKenzie <djm@djmnet.org>
Date:   Tue Sep 15 03:15:49 1992 +0000

    *** empty log message ***

commit 639733d782e6cf581728ab4a924829eafc414cab
Author: David MacKenzie <djm@djmnet.org>
Date:   Sat Sep 12 05:32:31 1992 +0000

    *** empty log message ***

commit 1ef94913174bad28ddbd4be07605bf7efd5e54a0
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Sep 6 23:00:36 1992 +0000

    *** empty log message ***

commit de7b7cb54a75a0331fb3edffbc4f07d085fc8ab1
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Sep 6 07:19:49 1992 +0000

    *** empty log message ***

commit 096465ae0dfe8bbc04e072a5503aee95896342ef
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Sep 6 04:35:52 1992 +0000

    *** empty log message ***

commit 8ab03a75052de0f5b80d8f7d72160ff80eb0e453
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Sun Sep 6 04:35:52 1992 +0000

    entered into RCS

commit 01bd70f34606d248b4499dc7a081fff728874cd8
Author: Richard M. Stallman <rms@gnu.org>
Date:   Fri Sep 4 19:32:07 1992 +0000

    *** empty log message ***

commit 5f9f2a0445fe5059066ec49c15eb93ea057e1dfe
Author: David MacKenzie <djm@djmnet.org>
Date:   Thu Sep 3 19:30:55 1992 +0000

    *** empty log message ***

commit 8f5a93cad7aab2a3a95c972546ae6eb778991048
Author: Richard M. Stallman <rms@gnu.org>
Date:   Fri Aug 14 07:38:17 1992 +0000

    *** empty log message ***

commit 3c488d0cb20eea79acf3c540b78a0f5399a8372f
Author: David MacKenzie <djm@djmnet.org>
Date:   Thu Jul 16 20:56:16 1992 +0000

    Initial revision

commit 9a623661c76da444685f1c3ca8bb4580f013cfc3
Author: David MacKenzie <djm@djmnet.org>
Date:   Wed Jul 8 19:58:07 1992 +0000

    entered into RCS

commit 44b481aaa297582491bda6e5a1596715c25ddeb8
Author: David MacKenzie <djm@djmnet.org>
Date:   Wed Jul 8 19:46:10 1992 +0000

    *** empty log message ***

commit b2f3f8fcaa081c862a2255843f0b76d5fe7b71fb
Author: David MacKenzie <djm@djmnet.org>
Date:   Wed Jul 8 19:21:40 1992 +0000

    Initial revision

commit 6456bbcb000f5ed63d292784735927c30cd8b072
Author: David MacKenzie <djm@djmnet.org>
Date:   Tue Jul 7 23:00:18 1992 +0000

    *** empty log message ***

commit df1eb75645ab62efff57fec5a9cac6c560f3f702
Author: David MacKenzie <djm@djmnet.org>
Date:   Tue Jul 7 22:44:43 1992 +0000

    Initial revision

commit 2e9d141071cb6b33d62fdd978377c6498300656b
Author: David MacKenzie <djm@djmnet.org>
Date:   Tue Jul 7 20:24:37 1992 +0000

    Initial revision

commit 8691ced4aabd114cdb74367161da732387ff9af7
Author: David MacKenzie <djm@djmnet.org>
Date:   Tue Jul 7 20:23:47 1992 +0000

    *** empty log message ***

commit 4ca6ed131399d3d74f0d95041ff66ece1e416938
Author: David MacKenzie <djm@djmnet.org>
Date:   Tue Jul 7 19:18:10 1992 +0000

    *** empty log message ***

commit d36834de48b7c513f2a5849e2a4aee275985744b
Author: David MacKenzie <djm@djmnet.org>
Date:   Tue Jul 7 19:13:19 1992 +0000

    Initial revision

commit ab6c5254736e07241596fbd56b41ea5ad32d1f7e
Author: David MacKenzie <djm@djmnet.org>
Date:   Tue Jul 7 07:33:49 1992 +0000

    Initial revision

commit aecd57a13df471e11e3f6abba9bfdbfa84cb47e2
Author: David MacKenzie <djm@djmnet.org>
Date:   Tue Jul 7 07:32:29 1992 +0000

    *** empty log message ***

commit 1e9c0c48752ccc530417c730f8ebd432ffd6ecd4
Author: David MacKenzie <djm@djmnet.org>
Date:   Tue Jul 7 07:23:07 1992 +0000

    entered into RCS

commit f11aa4bd8771b99b8ca3d37384eaa8349e54c561
Author: David MacKenzie <djm@djmnet.org>
Date:   Fri Jul 3 18:31:18 1992 +0000

    Initial revision

commit 615c30008ee878beffa91d5181f8efeb5f756cd3
Author: David MacKenzie <djm@djmnet.org>
Date:   Tue May 12 00:09:43 1992 +0000

    Initial revision

commit c8e2427fa22e3ecd5410358af1f343b168cb211c
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Thu Jan 2 17:45:34 1992 +0000

    Initial revision

commit e9274e2af61de3ff67404a19e1b4e585b7709d8b
Author: David MacKenzie <djm@djmnet.org>
Date:   Tue Dec 24 05:09:33 1991 +0000

    Initial revision

commit b3c1e930b846248e3d1d0961547202c7b5d65bb2
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Dec 17 19:33:18 1991 +0000

    Initial revision

commit f9d66e6012b57e77bafd7b034a16c422cf454ab6
Author: Paul Eggert <eggert@cs.ucla.edu>
Date:   Tue Jul 26 15:24:24 1988 +0000

    Initial revision
